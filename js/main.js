function buildIOSMeta(){for(var n,i,r=[{name:"viewport",content:"width=device-width, height=device-height, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"},{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"black"}],t=0;t<r.length;t++)n=document.createElement("meta"),n.name=r[t].name,n.content=r[t].content,i=window.document.head.querySelector('meta[name="'+n.name+'"]'),i&&i.parentNode.removeChild(i),window.document.head.appendChild(n)}function hideIOSFullscreenPanel(){document.querySelector(".xxx-ios-fullscreen-message").style.display="none";document.querySelector(".xxx-ios-fullscreen-scroll").style.display="none";document.querySelector(".xxx-game-iframe-full").classList.remove("xxx-game-iframe-iphone-se")}function buildIOSFullscreenPanel(){var n="",t;n+='<div class="xxx-ios-fullscreen-message">';n+='<div class="xxx-ios-fullscreen-swipe">';n+="<\/div>";n+="<\/div>";n+='<div class="xxx-ios-fullscreen-scroll">';n+="<\/div>";t=document.createElement(n);document.querySelector("body").appendChild(t)}function showIOSFullscreenPanel(){document.querySelector(".xxx-ios-fullscreen-message").style.display="block";document.querySelector(".xxx-ios-fullscreen-scroll").style.display="block"}function __iosResize(){if(window.scrollTo(0,0),console.log(window.devicePixelRatio),console.log(window.innerWidth),console.log(window.innerHeight),platform.product==="iPhone")switch(window.devicePixelRatio){case 2:switch(window.innerWidth){case 568:window.innerHeight===320||document.querySelector(".xxx-game-iframe-full").classList.add("xxx-game-iframe-iphone-se");break;case 667:window.innerHeight===375?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;case 808:window.innerHeight===414?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;default:hideIOSFullscreenPanel()}break;case 3:switch(window.innerWidth){case 736:window.innerHeight===414?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;case 724:window.innerHeight===375?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;case 808:window.innerHeight===414?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;default:hideIOSFullscreenPanel()}break;default:hideIOSFullscreenPanel()}}function iosResize(){__iosResize();setTimeout(function(){__iosResize()},500)}function iosInIframe(){try{return window.self!==window.top}catch(n){return!0}}function CLangFilter(){var t,n,i;this._init=function(){t="***";n=[];n=n.concat(FORBIDDEN_LIST_EN);n=n.concat(FORBIDDEN_LIST_IT);n=n.concat(FORBIDDEN_LIST_ES);n=n.concat(FORBIDDEN_LIST_FR);n=n.concat(FORBIDDEN_LIST_DE);n=n.concat(FORBIDDEN_LIST_PT);n=n.concat(FORBIDDEN_LIST_RU);n=n.concat(FORBIDDEN_LIST_AR);n=n.concat(FORBIDDEN_LIST_ID);i=[];i=i.concat(FORBIDDEN_LIST_ZH)};this.filterString=function(n){if(n===undefined||n===null||n==="")return t;if(n=this._removeSpecialChar(n,[]),n.length>0){if(this._detectHTML(n)||!this._isAllowedWord(n))return this._setCensoredText(n)}else n=t;return n};this._setCensoredText=function(n){var i="";switch(n.length){case 0:i=t;break;case 1:i=t;break;default:i=n[0]+t}return i};this._isAllowedWord=function(t){for(var u,f=this._simplifyWord(t),e=this._removeConsecutiveChar(f),r=0;r<n.length;r++)if((u=n[r],f.includes(u))||e.includes(u))return!1;for(r=0;r<i.length;r++)if((u=i[r],f===u)||e===u)return!1;return!0};this._simplifyWord=function(n){return n=n.toLowerCase(),n=this._replaceSymbolAsLetter(n),n=this._replaceSymbolAsSeparator(n),n=this._removeSpecialChar(n),n.latinize()};this._removeConsecutiveChar=function(n){return n.replace(/(.)\1+/g,"$1")};this._removeSpecialChar=function(n,t=[]){for(var r,e,f,u=["|","\\","!","£","%","&","/","(",")","=","'","?","^","§","#","_","+","*",":",".",",",";","[","]","{","}","°","<",">","▄","︻","┻","┳","═","━"],i=0;i<t.length;i++)for(f=t[i],r=0;r<u.length;r++)e=u[r],e===f&&(u.splice(r,1),r--);for(i=0;i<u.length;i++)f=u[i],n=n.replaceAll(f,"");return n};this._replaceSymbolAsLetter=function(n){return n=n.replaceAll("@","a"),n=n.replaceAll("€","e"),n=n.replaceAll("$","s"),n=n.replaceAll("0","o"),n=n.replaceAll("1","i"),n=n.replaceAll("3","e"),n=n.replaceAll("4","a"),n.replaceAll("5","s")};this._replaceSymbolAsSeparator=function(n){return n=n.replaceAll("x",""),n=n.replaceAll(" ",""),n.replaceAll("-","")};this._stripHTML=function(n){return n.replace(/<[^>]*>?/gm,"")};this._detectHTML=function(n){var t=this._stripHTML(n);return t!==n};this._init()}function getSize(n){var u,e=n.toLowerCase(),f=window.document,t=f.documentElement,i,r;return window["inner"+n]===undefined?u=t["client"+n]:window["inner"+n]!=t["client"+n]?(i=f.createElement("body"),i.id="vpw-test-b",i.style.cssText="overflow:scroll",r=f.createElement("div"),r.id="vpw-test-d",r.style.cssText="position:absolute;top:-1000px",r.innerHTML="<style>@media("+e+":"+t["client"+n]+"px){body#vpw-test-b div#vpw-test-d{"+e+":7px!important}}<\/style>",i.appendChild(r),t.insertBefore(i,f.head),u=r["offset"+n]==7?t["client"+n]:window["inner"+n],t.removeChild(i)):u=window["inner"+n],u}function onOrientationChange(){window.matchMedia("(orientation: portrait)").matches&&sizeHandler();window.matchMedia("(orientation: landscape)").matches&&sizeHandler()}function isMac(){return isIpad()?!1:navigator.platform.toUpperCase().indexOf("MAC")>=0}function isChrome(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function isIpad(){var n="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,t=navigator.userAgent.includes("Intel Mac OS X");return n&&t}function isMobile(){return isIpad()?!0:navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1}function isIOS(){var n,t;if(isIpad())return!0;for(n=["iPad","iPhone","iPod","Mac"];n.length;){let i=navigator?.userAgentData?.platform||navigator?.platform;if(i=i.toLowerCase(),t=n.pop(),i&&i.includes(t.toLowerCase()))return!0}return!1}function getIOSWindowHeight(){var n=document.documentElement.clientWidth/window.innerWidth;return window.innerHeight*n}function getHeightOfIOSToolbars(){var n=(window.orientation===0?screen.height:screen.width)-getIOSWindowHeight();return n>1?n:0}function sizeHandler(){var t,r,f,h;if(window.scrollTo(0,1),document.querySelector("#canvas")){t=platform.name!==null&&platform.name.toLowerCase()==="safari"?getIOSWindowHeight():getSize("Height");r=getSize("Width");f=Math.min(t/CANVAS_HEIGHT,r/CANVAS_WIDTH);s_bSquareSize=!1;s_iAspectRatio=r/t;s_iAspectRatio>.75&&s_iAspectRatio<1.33&&(s_bSquareSize=!0);s_bLandscape=r>t?!0:!1;var f=Math.min(t/CANVAS_HEIGHT,r/CANVAS_WIDTH),n=Math.round(CANVAS_WIDTH*f),i=Math.round(CANVAS_HEIGHT*f),e=0;i<t?(e=t-i,i+=e,n+=e*(CANVAS_WIDTH/CANVAS_HEIGHT)):n<r&&(e=r-n,n+=e,i+=e*(CANVAS_HEIGHT/CANVAS_WIDTH));var u=t/2-i/2,o=r/2-n/2,s=CANVAS_WIDTH/n;(o*s<-EDGEBOARD_X||u*s<-EDGEBOARD_Y)&&(f=Math.min(t/(CANVAS_HEIGHT-EDGEBOARD_Y*2),r/(CANVAS_WIDTH-EDGEBOARD_X*2)),n=Math.round(CANVAS_WIDTH*f),i=Math.round(CANVAS_HEIGHT*f),u=(t-i)/2,o=(r-n)/2,s=CANVAS_WIDTH/n);s_iOffsetX=-1*o*s;s_iOffsetY=-1*u*s;u>=0&&(s_iOffsetY=0);o>=0&&(s_iOffsetX=0);s_oInterface!==null&&s_oInterface.refreshButtonPos();s_oMenu!==null&&s_oMenu.refreshButtonPos();s_oSelectPlayers!==null&&s_oSelectPlayers.refreshButtonPos();s_oStage&&(canvas=document.getElementById("canvas"),s_oStage.canvas.width=n*2,s_oStage.canvas.height=i*2,canvas.style.width=n+"px",canvas.style.height=i+"px",h=Math.min(n/CANVAS_WIDTH,i/CANVAS_HEIGHT),s_oStage.scaleX=s_oStage.scaleY=h*2);u>=0&&(u=(t-i)/2);document.querySelector("#canvas").style.top=u+"px";document.querySelector("#canvas").style.left=o+"px";fullscreenHandler()}}function zoomInCamera(n,t,i,r,u){if(n.getBounds()!==null&&n.getBounds()!==undefined){var f=t/r,e=i/u,o=f<=e?f:e;return n.scaleX=n.scaleY=o,o}}function inRectResize(n,t,i){function u(n,t){return t/n}if(n.getBounds()!==null&&n.getBounds()!==undefined){var f=u(n.getBounds().width,t),e=u(n.getBounds().height,i),r=Math.min(f,e);return n.scaleX=n.scaleY=r,r}}function muteAllSfx(n){if(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)for(var t in s_aSounds)s_aSounds[t].mute(n)}function muteAllMusic(n){if(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)for(var t in s_aMusic)s_aMusic[t].mute(n)}function playSfxSound(n,t,i){return DISABLE_SOUND_MOBILE===!1||s_bMobile===!1?(s_aSounds[n].play(),s_aSounds[n].volume(t),s_aSounds[n].loop(i),s_aSounds[n]):null}function playMusicSound(n,t,i){return DISABLE_SOUND_MOBILE===!1||s_bMobile===!1?(s_aMusic[n].play(),s_aMusic[n].volume(t),s_aMusic[n].loop(i),s_aMusic[n]):null}function stopSfxSound(n){(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)&&s_aSounds[n].stop()}function stopMusicSound(n){(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)&&s_aMusic[n].stop()}function setSfxVolume(n,t){(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)&&s_aSounds[n].volume(t)}function setMusicVolume(n,t){(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)&&s_aMusic[n].volume(t)}function setSfxMute(n,t){(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)&&s_aSounds[n].mute(t)}function setMusicMute(n,t){(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)&&s_aMusic[n].mute(t)}function fadeInMusic(n,t,i){(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)&&s_aMusic[n].fade(t,i,1e3)}function fadeOutMusic(n,t,i){if(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1){s_aMusic[n].fade(t,i,1e3);s_aMusic[n].on("fade",()=>{s_aMusic[n].volume()===0&&stopMusicSound(n)})}}function fadeInSfx(n,t,i){(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)&&s_aSounds[n].fade(t,i,1e3)}function fadeOutSfx(n,t,i){if(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1){s_aSounds[n].fade(t,i,1e3);s_aSounds[n].on("fade",()=>{s_aSounds[n].volume()===0&&stopSfxSound(n)})}}function getMusicVolume(n){return s_aMusic[n].volume()}function createBitmap(n,t,i){var u=new createjs.Bitmap(n),r=new createjs.Shape;return t&&i?r.graphics.beginFill("#fff").drawRect(0,0,t,i):r.graphics.beginFill("#ff0").drawRect(0,0,n.width,n.height),u.hitArea=r,u}function createSprite(n,t,i,r,u,f){var e,o;return e=t!==null?new createjs.Sprite(n,t):new createjs.Sprite(n),o=new createjs.Shape,o.graphics.beginFill("#000000").drawRect(-i,-r,u,f),e.hitArea=o,e}function randomFloatBetween(n,t,i){return typeof i=="undefined"&&(i=2),parseFloat(Math.min(n+Math.random()*(t-n),t).toFixed(i))}function pad(n,t,i){return i=i||"0",n=n+"",n.length>=t?n:new Array(t-n.length+1).join(i)+n}function linearFunction(n,t,i,r,u){return(n-t)*(u-r)/(i-t)+r}function rotateVector2D(n,t){var i=t.getX()*Math.cos(n)+t.getY()*Math.sin(n),r=t.getX()*-Math.sin(n)+t.getY()*Math.cos(n);t.set(i,r)}function tweenVectorsOnX(n,t,i){return n+i*(t-n)}function shuffle(n){for(var t=n.length,r,i;0!==t;)i=Math.floor(Math.random()*t),t-=1,r=n[t],n[t]=n[i],n[i]=r;return n}function shuffleWithSeed(n,t){for(var i=n.length,u,r;i;)r=Math.floor(random(t)*i--),u=n[i],n[i]=n[r],n[r]=u,++t;return n}function random(n){var t=Math.sin(n++)*1e4;return t-Math.floor(t)}function bubbleSort(n){var i,t,r;do for(i=!1,t=0;t<n.length-1;t++)n[t]>n[t+1]&&(r=n[t],n[t]=n[t+1],n[t+1]=r,i=!0);while(i)}function compare(n,t){return n.index>t.index?-1:n.index<t.index?1:0}function CircularList(n,t){this.arr=n;this.currentIndex=t||0}function easeLinear(n,t,i,r){return i*n/r+t}function easeInQuad(n,t,i,r){return i*(n/=r)*n+t}function easeInSine(n,t,i,r){return-i*Math.cos(n/r*(Math.PI/2))+i+t}function easeInCubic(n,t,i,r){return i*(n/=r)*n*n+t}function getTrajectoryPoint(n,t){var i=new createjs.Point,r=(1-n)*(1-n),u=n*n;return i.x=r*t.start.x+2*(1-n)*n*t.traj.x+u*t.end.x,i.y=r*t.start.y+2*(1-n)*n*t.traj.y+u*t.end.y,i}function formatTime(n){n/=1e3;var t=Math.floor(n/60),i=Math.floor(n-t*60),r="";return r+=t<10?"0"+t+":":t+":",r+(i<10?"0"+i:i)}function degreesToRadians(n){return n*Math.PI/180}function distance(n,t){return Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))}function distance2(n,t){return(t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y)}function NoClickDelay(n){this.element=n;window.Touch&&this.element.addEventListener("touchstart",this,!1)}function shuffle(n){for(var t=n.length,r,i;t>0;)i=Math.floor(Math.random()*t),t--,r=n[t],n[t]=n[i],n[i]=r;return n}function ctlArcadeResume(){s_oMain!==null&&s_oMain.startUpdate()}function ctlArcadePause(){s_oMain!==null&&s_oMain.stopUpdate()}function getParamValue(n){for(var i,u=window.location.search.substring(1),r=u.split("&"),t=0;t<r.length;t++)if(i=r[t].split("="),i[0]==n)return i[1]}function getParameterByName(n,t=window.location.href){n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function removeParamsFromURL(n){for(var i=new URL(window.location.href),t=0;t<n.length;t++)i.searchParams.delete(n[t]);return i.toString()}function addParameterToUrl(n,t,i,r){var o,s,c,e,f;n.indexOf("#")>0?(s=n.indexOf("#"),o=n.substring(n.indexOf("#"),n.length)):(o="",s=n.length);var l=n.substring(0,s),h=l.split("?"),u="";if(h.length>1)for(c=h[1].split("&"),e=0;e<c.length;e++)f=c[e].split("="),!0&&f[0]===t||(u===""?u="?":u+="&",u+=f[0]+"="+(f[1]?f[1]:""));return u===""&&(u="?"),r?u="?"+t+"="+i+(u.length>1?"&"+u.substring(1):""):(u!==""&&u!=="?"&&(u+="&"),u+=t+"="+(i?i:"")),h[0]+u+o}function isNumericString(n){return/^\d+$/.test(n)}function getKeyByValue(n,t){return Object.keys(n).find(i=>n[i]===t)}function copyObjectByValue(n){return JSON.parse(JSON.stringify(n))}function createMarginRect(n,t,i,r){return{left:n,top:t,right:i,bottom:r}}function normalizeFontSize(n,t=999){for(var r,i=0;i<n.length;i++)n[i].resetFontSize();for(i=0;i<n.length;i++)r=n[i].getFontSize(),r<t&&(t=r);for(i=0;i<n.length;i++)n[i].setFontSize(t);return t}function fullscreenHandler(){ENABLE_FULLSCREEN&&screenfull.isEnabled&&(s_bFullscreen=screenfull.isFullscreen)}function htmlMarkupToNode(n){let t=document.createElement("template");t.innerHTML=n;return t.content.cloneNode(!0)}function CSpriteLibrary(){var t={},n,i,u,f,e,r;this.init=function(t,o,s){n={};i=0;u=0;f=t;e=o;r=s};this.addSprite=function(r,u){if(!t.hasOwnProperty(r)){var f=new Image;t[r]=n[r]={szPath:u,oSprite:f,bLoaded:!1};i++}};this.getSprite=function(n){return t.hasOwnProperty(n)?t[n].oSprite:null};this._onSpritesLoaded=function(){i=0;e.call(r)};this._onSpriteLoaded=function(){f.call(r);++u===i&&this._onSpritesLoaded()};this.loadSprites=function(){for(var t in n)n[t].oSprite.oSpriteLibrary=this,n[t].oSprite.szKey=t,n[t].oSprite.onload=function(){this.oSpriteLibrary.setLoaded(this.szKey);this.oSpriteLibrary._onSpriteLoaded(this.szKey)},n[t].oSprite.onerror=function(t){var i=t.currentTarget;setTimeout(function(){n[i.szKey].oSprite.src=n[i.szKey].szPath},500)},n[t].oSprite.src=n[t].szPath};this.setLoaded=function(n){t[n].bLoaded=!0};this.isLoaded=function(n){return t[n].bLoaded};this.getNumSprites=function(){return i}}function CTLText(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b=11,k=false){this._oContainer=new createjs.Container;this._oContainer.x=t;this._oContainer.y=i;n&&this.setParentContainer(n);this._iOutline=0;this._iWidth=r;this._iHeight=u;this._bMultiline=p;this._iFontSize=f;this._iStartingFontSize=f;this._iOriginalFontSize=f;this._szAlign=e;this._szColor=o;this._szFont=s;this._iPaddingH=c;this._iPaddingV=l;this._iEffectiveWidth=this._iWidth-this._iPaddingH*2;this._iEffectiveHeight=this._iHeight-this._iPaddingV*2;this._bVerticalAlign=y;this._bFitText=v;this._iMinTextSize=b;this._bDebug=w;this._bEllipsis=k;this._bMandatoryCache=!1;this._bCacheActive=!1;this._fCacheScale;this._oDebugShape=null;this._fLineHeightFactor=h;this._oText=null;this.__setMsg(a);this.__createText()}function refreshLanguage_multiplayer(){switch(s_iCurLang){case LANG_EN:TEXT_WAIT_OPPONENT="WAITING OPPONENT...";TEXT_OPPONENT_LEFT="OPPONENT LEFT!";TEXT_ALL_PLAYERS_LEFT="ALL PLAYERS HAVE LEFT THE MATCH!";TEXT_PLAYER_DISCONNECTED="YOU LEFT!";TEXT_REMATCH="do you want the re-match?";TEXT_CONNECTION_LOST="CONNECTION LOST";TEXT_REMATCH_ALERT="%s WANTS TO PLAY AGAIN";TEXT_AFK="AFK";TEXT_QUIT="QUIT";TEXT_SYS_CHOOSENICK="Choose nickname";TEXT_SYS_UPDATE="update";TEXT_SYS_MATCH_LIST="Match list";TEXT_SYS_QUICKMATCH="quick match";TEXT_SYS_CREATEMATCH="create match";TEXT_SYS_BACK="back";TEXT_SYS_OK="ok";TEXT_SYS_CREATE="create";TEXT_SYS_CLOSE="close";TEXT_SYS_LOADING="Loading...";TEXT_SYS_NAMEROOM="Name Room";TEXT_SYS_CREATEROOM="Create Room";TEXT_SYS_DEFAULTROOMNAME="%s's room";TEXT_SYS_PASSWORD="Password";TEXT_SYS_INFOPASS="If you don't set a password this room will be public.";TEXT_SYS_TYPEROOMPASS="Type Room Password";TEXT_WRONG_PASSWORD="Wrong Password!";TEXT_NETWORK_CONNECTING="connecting...";TEXT_ROOM_IS_FULL="Room is full!";TEXT_FIND_OPPONENT="finding opponent...";TEXT_VS="VS";TEXT_CONNECT_TO_LOBBY="Connect to lobby...";TEXT_ROOM_DOESNT_EXIST="Room doesn't exist!";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="waiting for opponent in room: ";TEXT_QUIT_FROM_GAME="%s QUIT THE GAME";TEXT_TIME_OVER="TIME OVER";TEXT_OFFER_A_DRAW="Do you want to offer a draw?";TEXT_OFFERED_DRAW="You have been offered a draw.\nClick the button to accept it";TEXT_WAIT_FOR_A_DRAW="You offered a draw.\nWait for your opponent to accept it";TEXT_PLAYER_AGREED_TO_DRAW="(Players agreed to draw)";TEXT_CPU="CPU";TEXT_PLAYER="Player";TEXT_PLAYER_KICKED="You were kicked from the game due to inactivity.";TEXT_MINUTES="Mins.";TEXT_NO_TIME="No Time";TEXT_NO_TIME_MODE="NO TIME MODE";TEXT_TIME_MODE="TIME MODE";TEXT_SYS_FINDROOM="find a room...";TEXT_ROOM_IS_EXPIRED="Room Expired!";TEXT_MATCH_FOUND="Match found!";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="waiting for players in room: ";TEXT_PLAY_NOW="play now";TEXT_WAITING_ROOM_MESSAGE="This room can contain max %d players";TEXT_SYS_GAME_TIME="Match Time";TEXT_SYS_CHOOSEGAMETIME="Choose the playing time per player";TEXT_NO_CONNECTION="NO CONNECTION<br/>(Connect to find someone to play online)";TEXT_SOMETHING_WENT_WRONG="CONNECTION ERROR. SOMETHING WENT WRONG";TEXT_INVALID_NAME="INVALID NAME!";TEXT_SYS_INVITE="INVITE";TEXT_SYS_MINUTES="%s min.";TEXT_SYS_QUICKMATCH_MINUTE="quick match ("+TEXT_SYS_MINUTES+")";TEXT_SYS_COPIED_TO_CLIPBOARD="Game link copied to your Clipboard. Share it with your friends!";TEXT_SYS_QUICKMATCH_NOTIME="quick match ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="Max Players";TEXT_SYS_CHOOSEMAXNUMPLAYERS="Choose the maximum number of players in room.";TEXT_EMOTICONS_BLOCK="BLOCK EMOTICONS";break;case LANG_ES:TEXT_WAIT_OPPONENT="ESPERANDO AL OPONENTE";TEXT_OPPONENT_LEFT="EL OPONENTE HA SALIDO";TEXT_ALL_PLAYERS_LEFT="¡TODOS LOS JUGADORES HAN ABANDONADO LA PARTIDA!";TEXT_PLAYER_DISCONNECTED="¡HAS SALIDO!";TEXT_REMATCH="¿Quieres la revancha?";TEXT_CONNECTION_LOST="CONEXIÓN PERDIDA";TEXT_REMATCH_ALERT="%s QUIERE JUGAR OTRA VEZ";TEXT_AFK="AFK";TEXT_QUIT="SALIDO";TEXT_SYS_CHOOSENICK="Elige un apodo";TEXT_SYS_UPDATE="Actualizar";TEXT_SYS_MATCH_LIST="Lista de partidas";TEXT_SYS_QUICKMATCH="Partida Rápida";TEXT_SYS_CREATEMATCH="Crear Partida";TEXT_SYS_BACK="Atrás";TEXT_SYS_OK="Aceptar";TEXT_SYS_CREATE="Crear";TEXT_SYS_CLOSE="Cerrar";TEXT_SYS_LOADING="Cargando...";TEXT_SYS_NAMEROOM="Nombre de sala";TEXT_SYS_CREATEROOM="Crear sala";TEXT_SYS_DEFAULTROOMNAME="sala de %s";TEXT_SYS_PASSWORD="Contraseña";TEXT_SYS_INFOPASS="Esta sala será pública si no pones una contraseña.";TEXT_SYS_TYPEROOMPASS="Escribe la contraseña de la sala";TEXT_WRONG_PASSWORD="Contraseña incorrecta!";TEXT_NETWORK_CONNECTING="conectando...";TEXT_ROOM_IS_FULL="¡La sala está llena!";TEXT_FIND_OPPONENT="buscando oponente...";TEXT_VS="CONTRA";TEXT_CONNECT_TO_LOBBY="Conectando al lobby...";TEXT_ROOM_DOESNT_EXIST="¡La sala no existe!";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="esperando a oponente en la sala: ";TEXT_QUIT_FROM_GAME="%s SALIÓ DEL JUEGO";TEXT_TIME_OVER="FIN DEL TIEMPO";TEXT_OFFER_A_DRAW="¿Quieres ofrecer un empate?";TEXT_OFFERED_DRAW="Tu oponente te ofrece tablas.\nHaz clic para aceptarlas.";TEXT_WAIT_FOR_A_DRAW="Has ofrecido tablas.\nEspera a que tu oponente acepte.";TEXT_PLAYER_AGREED_TO_DRAW="(Los jugadores han acordado quedar en tablas)";TEXT_CPU="CPU";TEXT_PLAYER="Jugador";TEXT_PLAYER_KICKED="Se te ha expulsado de la partida por inactividad.";TEXT_MINUTES="Min.";TEXT_NO_TIME="Sin Tiempo";TEXT_NO_TIME_MODE="MODO SIN TIEMPO";TEXT_TIME_MODE="MODO CON TIEMPO";TEXT_SYS_FINDROOM="buscar sala...";TEXT_ROOM_IS_EXPIRED="¡La sala ha caducado!";TEXT_MATCH_FOUND="¡Partida encontrada!";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="esperando a oponente en la sala: ";TEXT_PLAY_NOW="jugar ahora";TEXT_WAITING_ROOM_MESSAGE="En esta sala caben %d jugadores";TEXT_SYS_GAME_TIME="Tiempo de juego";TEXT_SYS_CHOOSEGAMETIME="Elige el tiempo de juego";TEXT_NO_CONNECTION="SIN CONEXIÓN<br/>(Conéctate para jugar en línea con alguien)";TEXT_SOMETHING_WENT_WRONG="ERROR DE CONEXIÓN. ALGO HA IDO MAL";TEXT_INVALID_NAME="¡NOMBRE NO VÁLIDO!";TEXT_SYS_INVITE="INVITAR";TEXT_SYS_COPIED_TO_CLIPBOARD="Enlace de partida copiado al portapapeles. ¡Compártelo con tus amigos!";TEXT_SYS_MINUTES="%s min.";TEXT_SYS_QUICKMATCH_MINUTE="Partida Rápida ("+TEXT_SYS_MINUTES+")";TEXT_SYS_QUICKMATCH_NOTIME="Partida Rápida ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="Jugadores máx";TEXT_SYS_CHOOSEMAXNUMPLAYERS="Elige el número máximo de jugadores en la sala.";TEXT_EMOTICONS_BLOCK="BLOQUEAR EMOTICONOS";break;case LANG_FR:TEXT_WAIT_OPPONENT="ADVERSAIRE EN ATTENTE...";TEXT_OPPONENT_LEFT="L'ADVERSAIRE A QUITTÉ";TEXT_ALL_PLAYERS_LEFT="TOUS LES JOUEURS ONT QUITTÉ LA PARTIE !";TEXT_PLAYER_DISCONNECTED="VOUS AVEZ QUITTÉ";TEXT_REMATCH="voulez-vous jouer à un autre jeu?";TEXT_CONNECTION_LOST="CONNEXION PERDUE";TEXT_REMATCH_ALERT="%s VOUDRAIT REFAIRE UNE PARTIE";TEXT_AFK="AFK";TEXT_QUIT="QUITTÉ";TEXT_SYS_CHOOSENICK="Choisissez un surnom";TEXT_SYS_UPDATE="mettre à jour";TEXT_SYS_MATCH_LIST="Liste des matchs";TEXT_SYS_QUICKMATCH="match rapide";TEXT_SYS_CREATEMATCH="créer un match";TEXT_SYS_BACK="retour";TEXT_SYS_OK="ok";TEXT_SYS_CREATE="Créer";TEXT_SYS_CLOSE="fermer";TEXT_SYS_LOADING="chargement...";TEXT_SYS_NAMEROOM="Nom de la chambre";TEXT_SYS_CREATEROOM="Créer une chambre";TEXT_SYS_DEFAULTROOMNAME="Salle créée par %s";TEXT_SYS_PASSWORD="Mot de Passe";TEXT_SYS_INFOPASS="Si vous ne définissez pas de mot de passe, cette chambre sera publique.";TEXT_SYS_TYPEROOMPASS="Type Mot de passe de la chambre";TEXT_WRONG_PASSWORD="Mauvais mot de passe!";TEXT_NETWORK_CONNECTING="en train de se connecter...";TEXT_ROOM_IS_FULL="La chambre est pleine!";TEXT_FIND_OPPONENT="en train de trouver l'adversaire...";TEXT_VS="VS";TEXT_CONNECT_TO_LOBBY="Connectez-vous au lobby...";TEXT_ROOM_DOESNT_EXIST="La chambre n'existe pas!";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="en attendant l'adversaire dans la chambre: ";TEXT_QUIT_FROM_GAME="%s A QUITTÉ LA PARTIE";TEXT_TIME_OVER="TEMPS ÉCOULÉ";TEXT_OFFER_A_DRAW="Voulez-vous proposer un match nul ?";TEXT_OFFERED_DRAW="On vous propose la partie nulle.\nCliquez sur le bouton pour accepter.";TEXT_WAIT_FOR_A_DRAW="Vous avez proposé la partie nulle.\nAttendez de voir si votre adversaire accepte.";TEXT_PLAYER_AGREED_TO_DRAW="(Les joueurs se sont entendus pour faire une partie nulle)";TEXT_CPU="IA";TEXT_PLAYER="Joueur";TEXT_PLAYER_KICKED="Votre inactivité a entraîné votre expulsion de la partie.";TEXT_MINUTES="Min.";TEXT_NO_TIME="Sans Chrono";TEXT_NO_TIME_MODE="MODE SANS CHRONO";TEXT_TIME_MODE="MODE CHRONO";TEXT_SYS_FINDROOM="trouver une salle...";TEXT_ROOM_IS_EXPIRED="Chambre Expirée";TEXT_MATCH_FOUND="Match trouvée!";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="en attendant de les joueurs dans la chambre: ";TEXT_PLAY_NOW="joue maintenant";TEXT_WAITING_ROOM_MESSAGE="Cette salle peut contenir au maximum %d joueurs";TEXT_SYS_GAME_TIME="Durée de la partie";TEXT_SYS_CHOOSEGAMETIME="Sélectionnez le temps de jeu des joueurs";TEXT_NO_CONNECTION="HORS CONNEXION<br/>(Connectez-vous pour trouver des joueurs en ligne)";TEXT_SOMETHING_WENT_WRONG="ERREUR DE CONNEXION. QUELQUE CHOSE A MAL TOURNÉ";TEXT_INVALID_NAME="NOM INVALIDE !";TEXT_SYS_INVITE="INVITER";TEXT_SYS_COPIED_TO_CLIPBOARD="Le lien du jeu a été copié dans votre Presse-papiers. Envoyez-le à vos amis !";TEXT_SYS_MINUTES="%s min.";TEXT_SYS_QUICKMATCH_MINUTE="match rapide ("+TEXT_SYS_MINUTES+")";TEXT_SYS_QUICKMATCH_NOTIME="match rapide ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="Joueurs max";TEXT_SYS_CHOOSEMAXNUMPLAYERS="Choisissez le nombre maximum de joueurs dans la salle.";TEXT_EMOTICONS_BLOCK="BLOQUER LES ÉMOJIS";break;case LANG_DE:TEXT_WAIT_OPPONENT="WARTENDER GEGNER...";TEXT_OPPONENT_LEFT="GEGNER IST GEGANGEN";TEXT_ALL_PLAYERS_LEFT="ALLE SPIELER HABEN DAS SPIEL VERLASSEN!";TEXT_PLAYER_DISCONNECTED="DU BIST GEGANGEN!";TEXT_REMATCH="Willst du eine Revanche?";TEXT_CONNECTION_LOST="VERBINDUNG UNTERBROCHEN";TEXT_REMATCH_ALERT="%s MÖCHTE NOCHMAL SPIELEN";TEXT_AFK="AFK";TEXT_QUIT="VERLASSEN";TEXT_SYS_CHOOSENICK="Spitzname wählen";TEXT_SYS_UPDATE="aktualisieren";TEXT_SYS_MATCH_LIST="Match-Liste";TEXT_SYS_QUICKMATCH="Schnelles Match";TEXT_SYS_CREATEMATCH="Match erstellen";TEXT_SYS_BACK="zurück";TEXT_SYS_OK="ok";TEXT_SYS_CREATE="erstellen";TEXT_SYS_CLOSE="schließen";TEXT_SYS_LOADING="Laden...";TEXT_SYS_NAMEROOM="Raum benennen";TEXT_SYS_CREATEROOM="Raum erstellen";TEXT_SYS_DEFAULTROOMNAME="Raum von %s";TEXT_SYS_PASSWORD="Passwort";TEXT_SYS_INFOPASS="Wenn du kein Passwort festlegst, wird dieser Raum öffentlich sein.";TEXT_SYS_TYPEROOMPASS="Raum-Passwort eingeben";TEXT_WRONG_PASSWORD="Falsches Passwort!";TEXT_NETWORK_CONNECTING="verbinden...";TEXT_ROOM_IS_FULL="Raum ist voll!";TEXT_FIND_OPPONENT="Gegner finden ...";TEXT_VS="VS";TEXT_CONNECT_TO_LOBBY="Mit Lobby verbinden ...";TEXT_ROOM_DOESNT_EXIST="Raum existiert nicht!";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="warte auf Gegner im Raum: ";TEXT_QUIT_FROM_GAME="%s HAT DAS SPIEL BEENDET!";TEXT_TIME_OVER="ZEIT ABGELAUFEN";TEXT_OFFER_A_DRAW="Möchten Sie ein Unentschieden anbieten?";TEXT_OFFERED_DRAW="Du hast ein Unentschieden angeboten bekommen.\nZum Akzeptieren auf den Button klicken.";TEXT_WAIT_FOR_A_DRAW="Du hast ein Unentschieden angeboten.\nWarte, ob dein Gegner akzeptiert.";TEXT_PLAYER_AGREED_TO_DRAW="(Spieler haben sich auf Unentschieden geeinigt.)";TEXT_CPU="CPU";TEXT_PLAYER="Spieler";TEXT_PLAYER_KICKED="Du wurdest wegen Inaktivität aus dem Spiel geworfen.";TEXT_MINUTES="Mins.";TEXT_NO_TIME="Mins. 0";TEXT_NO_TIME_MODE="FREIER MODUS";TEXT_TIME_MODE="ZEITMODUS";TEXT_SYS_FINDROOM="Raum finden ...";TEXT_ROOM_IS_EXPIRED="Raum nicht mehr verfügbar!";TEXT_MATCH_FOUND="Match gefunden!";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="warte auf Spieler im Raum: ";TEXT_PLAY_NOW="jetzt spielen";TEXT_WAITING_ROOM_MESSAGE="Dieser Raum ist für maximal %d Spieler";TEXT_SYS_GAME_TIME="Spielzeit";TEXT_SYS_CHOOSEGAMETIME="Spielzeit pro Spieler einstellen";TEXT_NO_CONNECTION="KEINE VERBINDUNG<br/>(Bitte Verbindung herstellen, um Online-Spielpartner zu finden)";TEXT_SOMETHING_WENT_WRONG="VERBINDUNGSFEHLER. EIN PROBLEM IST AUFGETRETEN";TEXT_INVALID_NAME="UNGÜLTIGER NAME!";TEXT_SYS_INVITE="EINLADEN";TEXT_SYS_COPIED_TO_CLIPBOARD="Spiel-Link wurde in deine Zwischenablage kopiert. Teile ihn mit deinen Freunden!";TEXT_SYS_MINUTES="%s min.";TEXT_SYS_QUICKMATCH_MINUTE="Schnelles Match ("+TEXT_SYS_MINUTES+")";TEXT_SYS_QUICKMATCH_NOTIME="Schnelles Match ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="Maximale Spieleranzahl";TEXT_SYS_CHOOSEMAXNUMPLAYERS="Wähle die maximale Spieleranzahl im Raum.";TEXT_EMOTICONS_BLOCK="EMOTICONS SPERREN";break;case LANG_PT:TEXT_WAIT_OPPONENT="AGUARDANDO ADVERSÁRIO...";TEXT_OPPONENT_LEFT="O ADVERSÁRIO SAIU!";TEXT_ALL_PLAYERS_LEFT="TODOS OS JOGADORES SAÍRAM DA PARTIDA!";TEXT_PLAYER_DISCONNECTED="VOCÊ SAIU!";TEXT_REMATCH="aceita a revanche?";TEXT_CONNECTION_LOST="CONEXÃO PERDIDA";TEXT_REMATCH_ALERT="%s QUER JOGAR OUTRA VEZ";TEXT_AFK="AFK";TEXT_QUIT="SAIU";TEXT_SYS_CHOOSENICK="Escolha um apelido";TEXT_SYS_UPDATE="atualizar";TEXT_SYS_MATCH_LIST="Lista de partidas";TEXT_SYS_QUICKMATCH="partida rápida";TEXT_SYS_CREATEMATCH="criar partida";TEXT_SYS_BACK="voltar";TEXT_SYS_OK="ok";TEXT_SYS_CREATE="criar";TEXT_SYS_CLOSE="fechar";TEXT_SYS_LOADING="Carregando...";TEXT_SYS_NAMEROOM="Nomear sala";TEXT_SYS_CREATEROOM="Criar sala";TEXT_SYS_DEFAULTROOMNAME="sala de %s";TEXT_SYS_PASSWORD="Senha";TEXT_SYS_INFOPASS="Se você não definir uma senha, esta sala será pública.";TEXT_SYS_TYPEROOMPASS="Digite a senha da sala";TEXT_WRONG_PASSWORD="Senha incorreta!";TEXT_NETWORK_CONNECTING="conectando...";TEXT_ROOM_IS_FULL="Sala cheia!";TEXT_FIND_OPPONENT="encontrando adversário...";TEXT_VS="VS";TEXT_CONNECT_TO_LOBBY="Conectar ao lobby...";TEXT_ROOM_DOESNT_EXIST="A sala não existe!";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="esperando por adversário na sala: ";TEXT_QUIT_FROM_GAME="%s SAIR DO JOGO";TEXT_TIME_OVER="TERMINOU O TEMPO";TEXT_OFFER_A_DRAW="Quer oferecer um empate?";TEXT_OFFERED_DRAW="Foi proposto um empate.\nClica no botão para aceitar";TEXT_WAIT_FOR_A_DRAW="Propuseste um empate.\nEspera que o adversário aceite";TEXT_PLAYER_AGREED_TO_DRAW="(Os jogadores aceitaram um empate)";TEXT_CPU="CPU";TEXT_PLAYER="Jogador";TEXT_PLAYER_KICKED="Foste expulso do jogo devido a inatividade.";TEXT_MINUTES="Min.";TEXT_NO_TIME="Sem Tempo";TEXT_NO_TIME_MODE="MODO SEM TEMPO";TEXT_TIME_MODE="MODO COM TEMPO";TEXT_SYS_FINDROOM="encontrar uma sala...";TEXT_ROOM_IS_EXPIRED="A sala expirou!";TEXT_MATCH_FOUND="Partida encontrada!";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="esperando por adversário na sala: ";TEXT_PLAY_NOW="jogar agora";TEXT_WAITING_ROOM_MESSAGE="Esta sala pode conter até %d jogadores";TEXT_SYS_GAME_TIME="Duração da partida";TEXT_SYS_CHOOSEGAMETIME="Escolhe o tempo de jogo por jogador";TEXT_NO_CONNECTION="SEM LIGAÇÃO<br/>(Liga-te para encontrares um adversário online)";TEXT_SOMETHING_WENT_WRONG="ERRO DE CONEXÃO. ALGO DEU ERRADO.";TEXT_INVALID_NAME="NOME INVÁLIDO!";TEXT_SYS_INVITE="CONVIDAR";TEXT_SYS_COPIED_TO_CLIPBOARD="Ligação do jogo copiada para a tua área de transferências. Partilha-a com os amigos!";TEXT_SYS_MINUTES="%s min.";TEXT_SYS_QUICKMATCH_MINUTE="Partida Rápida ("+TEXT_SYS_MINUTES+")";TEXT_SYS_QUICKMATCH_NOTIME="Partida Rápida ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="Máx. de jogadores";TEXT_SYS_CHOOSEMAXNUMPLAYERS="Escolha o número máximo de jogadores na sala.";TEXT_EMOTICONS_BLOCK="BLOQUEAR EMOTICONS";break;case LANG_IT:TEXT_WAIT_OPPONENT="IN ATTESA DELL'AVVERSARIO...";TEXT_OPPONENT_LEFT="L'AVVERSARIO HA LASCIATO IL GIOCO!";TEXT_ALL_PLAYERS_LEFT="TUTTI I GIOCATORI HANNO LASCIATO LA PARTITA!";TEXT_PLAYER_DISCONNECTED="TU HAI LASCIATO IL GIOCO!";TEXT_REMATCH="vuoi la rivincita?";TEXT_CONNECTION_LOST="CONNESSIONE PERSA";TEXT_REMATCH_ALERT="%s VUOLE GIOCARE DI NUOVO";TEXT_AFK="AFK";TEXT_QUIT="USCITO";TEXT_SYS_CHOOSENICK="Scegli un nickname";TEXT_SYS_UPDATE="aggiorna";TEXT_SYS_MATCH_LIST="Lista dei Match";TEXT_SYS_QUICKMATCH="match veloce";TEXT_SYS_CREATEMATCH="crea un match";TEXT_SYS_BACK="indietro";TEXT_SYS_OK="ok";TEXT_SYS_CREATE="crea";TEXT_SYS_CLOSE="chiudi";TEXT_SYS_LOADING="Caricamento...";TEXT_SYS_NAMEROOM="Nome della Stanza";TEXT_SYS_CREATEROOM="Crea Stanza";TEXT_SYS_DEFAULTROOMNAME="Stanza creata da %s";TEXT_SYS_PASSWORD="Password";TEXT_SYS_INFOPASS="Se non imposti una password la stanza sarà pubblica.";TEXT_SYS_TYPEROOMPASS="Scrivi la password della stanza";TEXT_WRONG_PASSWORD="Password Errata!";TEXT_NETWORK_CONNECTING="connessione...";TEXT_ROOM_IS_FULL="La stanza è piena!";TEXT_FIND_OPPONENT="ricerca avversario...";TEXT_VS="VS";TEXT_CONNECT_TO_LOBBY="connetti alla lobby...";TEXT_ROOM_DOESNT_EXIST="La stanza non esiste!";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="in attesa dell'avversario nella stanza: ";TEXT_QUIT_FROM_GAME="%s HA LASCIATO LA PARTITA";TEXT_TIME_OVER="TEMPO SCADUTO";TEXT_OFFER_A_DRAW="Vuoi offrire un pareggio?";TEXT_OFFERED_DRAW="Ti hanno offerto un pareggio.\nClicca il tasto per accettarlo";TEXT_WAIT_FOR_A_DRAW="Hai offerto un pareggio.\nIn attesa che l'avversario lo accetti";TEXT_PLAYER_AGREED_TO_DRAW="(I giocatori si sono accordati per un pareggio)";TEXT_CPU="CPU";TEXT_PLAYER="Giocatore";TEXT_PLAYER_KICKED="Sei uscito dal gioco per inattività.";TEXT_MINUTES="Min.";TEXT_NO_TIME="Senza Tempo";TEXT_NO_TIME_MODE="MODALITA' SENZA TEMPO";TEXT_TIME_MODE="MODALITA' CON TEMPO";TEXT_SYS_FINDROOM="trova una stanza...";TEXT_ROOM_IS_EXPIRED="La stanza è scaduta!";TEXT_MATCH_FOUND="Match trovato!";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="in attesa dei giocatori nella stanza: ";TEXT_PLAY_NOW="gioca adesso";TEXT_WAITING_ROOM_MESSAGE="Questa stanza può contenere al massimo %d giocatori";TEXT_SYS_GAME_TIME="Tempo Partita";TEXT_SYS_CHOOSEGAMETIME="Scegli il tempo di gioco per giocatore";TEXT_NO_CONNECTION="NESSUNA CONNESSIONE<br/>(Connettiti per trovare qualcuno con cui giocare online)";TEXT_SOMETHING_WENT_WRONG="ERRORE DI CONNESSIONE. QUALCOSA E' ANDATO STORTO";TEXT_INVALID_NAME="NOME NON VALIDO!";TEXT_SYS_INVITE="INVITA";TEXT_SYS_COPIED_TO_CLIPBOARD="Link di gioco copiato tra i tuoi appunti. Condividilo con i tuoi amici!";TEXT_SYS_MINUTES="%s min.";TEXT_SYS_QUICKMATCH_MINUTE="partita veloce ("+TEXT_SYS_MINUTES+")";TEXT_SYS_QUICKMATCH_NOTIME="partita veloce ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="Giocatori max";TEXT_SYS_CHOOSEMAXNUMPLAYERS="Scegli il numero massimo di giocatori nella stanza.";TEXT_EMOTICONS_BLOCK="BLOCCA EMOTICON";break;case LANG_RU:TEXT_WAIT_OPPONENT="ОЖИДАНИЕ ПРОТИВНИКА...";TEXT_OPPONENT_LEFT="ПРОТИВНИК ВЫШЕЛ!";TEXT_ALL_PLAYERS_LEFT="ВСЕ ИГРОКИ ПОКИНУЛИ МАТЧ!";TEXT_PLAYER_DISCONNECTED="ВЫ ВЫШЛИ!";TEXT_REMATCH="Сыграть заново?";TEXT_CONNECTION_LOST="Соединение потеряно";TEXT_REMATCH_ALERT="%s ХОЧЕТ СЫГРАТЬ ЕЩЕ РАЗ";TEXT_AFK="AFK";TEXT_QUIT="ВЫШЕЛ";TEXT_SYS_CHOOSENICK="Выберите никнейм";TEXT_SYS_UPDATE="обновлять";TEXT_SYS_MATCH_LIST="игру список";TEXT_SYS_QUICKMATCH="быстрая игра";TEXT_SYS_CREATEMATCH="создать игру";TEXT_SYS_BACK="назад";TEXT_SYS_OK="ok";TEXT_SYS_CREATE="создать";TEXT_SYS_CLOSE="закрыть";TEXT_SYS_LOADING="Загрузка...";TEXT_SYS_NAMEROOM="Назовите игру";TEXT_SYS_CREATEROOM="Создать игру";TEXT_SYS_DEFAULTROOMNAME="Комната игрока %s";TEXT_SYS_PASSWORD="Пароль";TEXT_SYS_INFOPASS="Если вы не установите пароль, эта игра будет общедоступной.";TEXT_SYS_TYPEROOMPASS="Введите пароль для игры";TEXT_WRONG_PASSWORD="Неверный пароль!";TEXT_NETWORK_CONNECTING="подключение...";TEXT_ROOM_IS_FULL="Нет места!";TEXT_FIND_OPPONENT="Поиск противника...";TEXT_VS="VS";TEXT_CONNECT_TO_LOBBY="Подключение...";TEXT_ROOM_DOESNT_EXIST="Такой комнаты нет!";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="Ожидание противника в комнате: ";TEXT_QUIT_FROM_GAME="%s ВЫХОДИТ ИЗ ИГРЫ";TEXT_TIME_OVER="ВРЕМЯ ИСТЕКЛО";TEXT_OFFER_A_DRAW="Хотите предложить ничью?";TEXT_OFFERED_DRAW="Вам предложили ничью.\nНажмите, чтобы принять предложение.";TEXT_WAIT_FOR_A_DRAW="Вы предложили ничью.\nПодождите решения соперника.";TEXT_PLAYER_AGREED_TO_DRAW="(Игроки выбрали ничью)";TEXT_CPU="ИИ";TEXT_PLAYER="Игрок";TEXT_PLAYER_KICKED="Вас исключили из игры за неактивность.";TEXT_MINUTES="Мин..";TEXT_NO_TIME="Без Таймера";TEXT_NO_TIME_MODE="РЕЖИМ БЕЗ ТАЙМЕРА";TEXT_TIME_MODE="РЕЖИМ С ТАЙМЕРОМ";TEXT_SYS_FINDROOM="найти комнату...";TEXT_ROOM_IS_EXPIRED="Комната закрылась!";TEXT_MATCH_FOUND="Игра найдена!";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="Ожидание игроков в комнате: ";TEXT_PLAY_NOW="Играть";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="Ожидание игроков в комнате: ";TEXT_SYS_GAME_TIME="Время матча";TEXT_SYS_CHOOSEGAMETIME="Выберите лимит времени для игрока";TEXT_NO_CONNECTION="НЕТ СОЕДИНЕНИЯ.<br/>Подключитесь, чтобы найти других игроков и начать игру.";TEXT_SOMETHING_WENT_WRONG="CONNECTION ERROR. SOMETHING WENT WRONG";TEXT_INVALID_NAME="ОШИБКА ИМЕНИ!";TEXT_SYS_INVITE="ПРИГЛАСИТЬ";TEXT_SYS_COPIED_TO_CLIPBOARD="Ссылка на игру скопирована в буфер обмена. Поделитесь ей со своими друзьями!";TEXT_SYS_MINUTES="%s мин.";TEXT_SYS_QUICKMATCH_MINUTE="быстрая игра ("+TEXT_SYS_MINUTES+")";TEXT_SYS_QUICKMATCH_NOTIME="быстрая игра ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="Макс. игроков";TEXT_SYS_CHOOSEMAXNUMPLAYERS="Выберите максимальное количество игроков в комнате.";TEXT_EMOTICONS_BLOCK="ЗАБЛОКИРОВАТЬ СМАЙЛИКИ";break;case LANG_TR:TEXT_WAIT_OPPONENT="RAKİP BEKLENİYOR...";TEXT_OPPONENT_LEFT="RAKİP TERK ETTİ!";TEXT_ALL_PLAYERS_LEFT="TÜM OYUNCULAR MAÇTAN AYRILDI!";TEXT_PLAYER_DISCONNECTED="TERK ETTİN!";TEXT_REMATCH="Yeniden maç yapmak ister misin?";TEXT_CONNECTION_LOST="BAĞLANTI YOK";TEXT_REMATCH_ALERT="%s TEKRAR OYNAMAK İSTİYOR";TEXT_AFK="AFK";TEXT_QUIT="ÇIKTI";TEXT_SYS_CHOOSENICK="Takma ad seç";TEXT_SYS_UPDATE="güncelle";TEXT_SYS_MATCH_LIST="Maç listesi";TEXT_SYS_QUICKMATCH="hızlı maç";TEXT_SYS_CREATEMATCH="eşleşme oluştur";TEXT_SYS_BACK="geri";TEXT_SYS_OK="tamam";TEXT_SYS_CREATE="oluştur";TEXT_SYS_CLOSE="kapat";TEXT_SYS_LOADING="Yükleniyor";TEXT_SYS_NAMEROOM="Odaya ad ver";TEXT_SYS_CREATEROOM="Oda oluştur";TEXT_SYS_DEFAULTROOMNAME="%s in odası";TEXT_SYS_PASSWORD="Şifre";TEXT_SYS_INFOPASS="Şifre girmezsen oda herkese açık olacak.";TEXT_SYS_TYPEROOMPASS="Oda Şifresini Yaz";TEXT_WRONG_PASSWORD="Yanlış Şifre!";TEXT_NETWORK_CONNECTING="BAĞLANIYOR...";TEXT_ROOM_IS_FULL="Oda dolu!";TEXT_FIND_OPPONENT="rakip bulunuyor...";TEXT_VS="VE";TEXT_CONNECT_TO_LOBBY="Lobiye bağlan...";TEXT_ROOM_DOESNT_EXIST="Oda yok!";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="odada rakip bekleniyor: ";TEXT_QUIT_FROM_GAME="%s OYUNDAN ÇIK";TEXT_TIME_OVER="SÜRE BİTTİ";TEXT_OFFER_A_DRAW="Beraberlik teklif etmek ister misin?";TEXT_OFFERED_DRAW="Beraberlik teklif edildi.\nKabul etmek için butona tıkla";TEXT_WAIT_FOR_A_DRAW="Beraberlik teklif ettin.\nRakibinin kabul etmesini bekle";TEXT_PLAYER_AGREED_TO_DRAW="(Oyuncular beraberliği kabul etti)";TEXT_CPU="İŞLEMCİ";TEXT_PLAYER="Oyuncu";TEXT_PLAYER_KICKED="Eylemsizlik yüzünden oyundan atıldın.";TEXT_MINUTES="Dakika";TEXT_NO_TIME="Süre Yok";TEXT_NO_TIME_MODE="SÜRE MODU YOK";TEXT_TIME_MODE="SÜRE MODU";TEXT_SYS_FINDROOM="oda bul...";TEXT_ROOM_IS_EXPIRED="Odanın Süresi Doldu!";TEXT_MATCH_FOUND="Eşleşme bulundu!";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="odada oyuncular bekleniyor: ";TEXT_PLAY_NOW="şimdi oyna";TEXT_WAITING_ROOM_MESSAGE="Bu oda en fazla %d oyuncu alabilir";TEXT_SYS_GAME_TIME="Maç Zamanı";TEXT_SYS_CHOOSEGAMETIME="Oyuncu başına oynama süresini seç";TEXT_NO_CONNECTION="BAĞLANTI YOK<br/>(Çevrimiçi oynayacak birini bulmak için bağlan)";TEXT_SOMETHING_WENT_WRONG="BAĞLANTI HATASI. HATA OLUŞTU";TEXT_INVALID_NAME="GEÇERSİZ İSİM!";TEXT_SYS_INVITE="DAVET ET";TEXT_SYS_MINUTES="%s dk.";TEXT_SYS_QUICKMATCH_MINUTE="hızlı maç ("+TEXT_SYS_MINUTES+")";TEXT_SYS_COPIED_TO_CLIPBOARD="Oyun bağlantısı panoya kopyalandı. Arkadaşlarınla paylaş!";TEXT_SYS_QUICKMATCH_NOTIME=TEXT_SYS_QUICKMATCH+" ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="Maksimum Oyuncu";TEXT_SYS_CHOOSEMAXNUMPLAYERS="Odadaki maksimum oyuncu sayısını seçin.";TEXT_EMOTICONS_BLOCK="EMOJİLERİ ENGELLE";break;case LANG_AR:TEXT_WAIT_OPPONENT="جارٍ الاتصال...";TEXT_OPPONENT_LEFT="قام الخصم بالمغادرة!";TEXT_ALL_PLAYERS_LEFT="غَادَرَ جَمِيعُ اللَّاعِبِينَ المُبَارَاة!";TEXT_PLAYER_DISCONNECTED="لقد غادرت!";TEXT_REMATCH="هل ترغب في إعادة المباراة؟";TEXT_CONNECTION_LOST="لا يوجد اتصال بالإنترنت";TEXT_REMATCH_ALERT="%s يرغب اللاعب S في اللعب مرة أخرى";TEXT_AFK="AFK";TEXT_QUIT="غَادَرَ";TEXT_SYS_CHOOSENICK="اختر اسمًا مستعارًا";TEXT_SYS_UPDATE="تحديث";TEXT_SYS_MATCH_LIST="قائمة المباريات";TEXT_SYS_QUICKMATCH="مباراة سريعة";TEXT_SYS_CREATEMATCH="إنشاء مباراة";TEXT_SYS_BACK="عودة";TEXT_SYS_OK="موافق";TEXT_SYS_CREATE="إنشاء";TEXT_SYS_CLOSE="إغلاق";TEXT_SYS_LOADING="جارِ التحميل";TEXT_SYS_NAMEROOM="تسمية الغرفة";TEXT_SYS_CREATEROOM="إنشاء غرفة";TEXT_SYS_DEFAULTROOMNAME="%sغرفة ";TEXT_SYS_PASSWORD="كلمة المرور";TEXT_SYS_INFOPASS="إذا لم تقم بتعيين كلمة المرور، فستكون الغرفة متاحة للجميع.";TEXT_SYS_TYPEROOMPASS="اكتب كلمة المرور المخصصة للغرفة";TEXT_WRONG_PASSWORD="كلمة مرور خاطئة!";TEXT_NETWORK_CONNECTING="جارٍ الاتصال...";TEXT_ROOM_IS_FULL="الغرفة ممتلئة!";TEXT_FIND_OPPONENT="جاري البحث عن خصم...";TEXT_VS="اللعب ضد";TEXT_CONNECT_TO_LOBBY="الاتصال بالصفحة الرئيسية...";TEXT_ROOM_DOESNT_EXIST="الغرفة غير موجودة!";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="انتظار دخول الخصم إلى الغرفة: ";TEXT_QUIT_FROM_GAME="%s الخروج من اللعبة";TEXT_TIME_OVER="انتهى الوقت";TEXT_OFFER_A_DRAW="هل تريد تقديم تعادل؟";TEXT_OFFERED_DRAW="إذا عُرض عليك التعادل في المباراة.\nانقر فوق الزر للموافقة على التعادل";TEXT_WAIT_FOR_A_DRAW="لقد عرضت التعادل في المباراة.\nانتظر حتى يوافق خصمك";TEXT_PLAYER_AGREED_TO_DRAW="(وافق اللاعبان على نتيجة التعادل)";TEXT_CPU="وحدة المعالجة المركزية";TEXT_PLAYER="لاعب";TEXT_PLAYER_KICKED="تم طردك من اللعبة بسبب عدم وجود نشاط لك.";TEXT_MINUTES="دقائق";TEXT_NO_TIME="لا يوجد وقت";TEXT_NO_TIME_MODE="وضع لا يوجد وقت";TEXT_TIME_MODE="وضع يوجد وقت";TEXT_SYS_FINDROOM="جارٍ البحث عن غرفة...";TEXT_ROOM_IS_EXPIRED="انتهت صلاحية الغرفة!";TEXT_MATCH_FOUND="تم العثور على تطابق!";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="انتظار دخول اللاعبين إلى الغرفة: ";TEXT_PLAY_NOW="ابدأ اللعب الآن";TEXT_WAITING_ROOM_MESSAGE="يمكن أن تحتوي الغرفة على %d من اللاعبين بحدٍ أقصي";TEXT_SYS_GAME_TIME="وقت المباراة";TEXT_SYS_CHOOSEGAMETIME="اختر وقت اللعب المخصص لكل لاعب";TEXT_NO_CONNECTION="لا يوجد اتصال بالإنترنت<br/>(اتصل بالإنترنت للعثور على شخص ما للعب معه عبر الإنترنت)";TEXT_SOMETHING_WENT_WRONG="خطأ في الاتصال. حدث خطأٌ ما";TEXT_INVALID_NAME="اسم غير صالح!";TEXT_SYS_INVITE="دعوة";TEXT_SYS_MINUTES="%s دقيقة.";TEXT_SYS_QUICKMATCH_MINUTE="مباراة سريعة ("+TEXT_SYS_MINUTES+")";TEXT_SYS_COPIED_TO_CLIPBOARD="نسخ رابط اللعبة إلى الحافظة. شارك اللعبة مع أصدقائك!";TEXT_SYS_QUICKMATCH_NOTIME=TEXT_SYS_QUICKMATCH+" ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="الحد الأقصى للاعبين";TEXT_SYS_CHOOSEMAXNUMPLAYERS="اختر الحد الأقصى لعدد اللاعبين في الغرفة.";TEXT_EMOTICONS_BLOCK="حظر الرموز التعبيرية";break;case LANG_HI:TEXT_WAIT_OPPONENT="विरोधी का इंतज़ार कर रहे हैं...";TEXT_OPPONENT_LEFT="विरोधी ने खेल छोड़ दिया!";TEXT_ALL_PLAYERS_LEFT="सभी खिलाड़ियों ने मैच छोड़ दिया है!";TEXT_PLAYER_DISCONNECTED="आप ने खेल छोड़ दिया है!";TEXT_REMATCH="क्या आप फिर से मैच खेलना चाहते हैं?";TEXT_CONNECTION_LOST="कोई कनेक्शन नहीं";TEXT_REMATCH_ALERT="%s फिर से खेलना चाहता है";TEXT_AFK="AFK";TEXT_QUIT="छोड़ा";TEXT_SYS_CHOOSENICK="उपनाम चुनें";TEXT_SYS_UPDATE="अपडेट करें";TEXT_SYS_MATCH_LIST="मैच सूची";TEXT_SYS_QUICKMATCH="क्विक मैच";TEXT_SYS_CREATEMATCH="मैच बनाएं";TEXT_SYS_BACK="पीछे";TEXT_SYS_OK="ठीक है";TEXT_SYS_CREATE="बनाएं";TEXT_SYS_CLOSE="बंद करें";TEXT_SYS_LOADING="लोड हो रहा है";TEXT_SYS_NAMEROOM="रूम को नाम दें";TEXT_SYS_CREATEROOM="रूम बनाएं";TEXT_SYS_DEFAULTROOMNAME="%s का रूम";TEXT_SYS_PASSWORD="पासवर्ड";TEXT_SYS_INFOPASS="अगर आप पासवर्ड सेट नहीं करते हैं तो यह रूम पब्लिक हो जाएगा.";TEXT_SYS_TYPEROOMPASS="रूम पासवर्ड टाइप करें";TEXT_WRONG_PASSWORD="गलत पासवर्ड!";TEXT_NETWORK_CONNECTING="कनेक्ट हो रहा है...";TEXT_ROOM_IS_FULL="रूम पूरा भर गया है!";TEXT_FIND_OPPONENT="विरोधी ढूंढा जा रहा है...";TEXT_VS="बनाम";TEXT_CONNECT_TO_LOBBY="लॉबी से कनेक्ट करें...";TEXT_ROOM_DOESNT_EXIST="रूम मौजूद नहीं है!";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="रूम में विरोधी का इंतज़ार हो रहा है: ";TEXT_QUIT_FROM_GAME="%s गेम छोड़ें";TEXT_TIME_OVER="समय समाप्त";TEXT_OFFER_A_DRAW="क्या आप ड्रॉ प्रस्ताव देना चाहते हैं?";TEXT_OFFERED_DRAW="आपको एक ड्रॉ की पेशकश की गई है.\nइसे स्वीकार करने के लिए बटन पर क्लिक करें";TEXT_WAIT_FOR_A_DRAW="आपने एक ड्रॉ की पेशकश की.\nअपने विरोधी खिलाड़ी के स्वीकार करने का इंतज़ार करें";TEXT_PLAYER_AGREED_TO_DRAW="(खिलाड़ी ड्रॉ के लिए सहमत हुए)";TEXT_CPU="CPU";TEXT_PLAYER="खिलाड़ी";TEXT_PLAYER_KICKED="निष्क्रियता के कारण आपको गेम से निकाल दिया गया था.";TEXT_MINUTES="मिनट";TEXT_NO_TIME="समय नहीं है";TEXT_NO_TIME_MODE="नो टाइम मोड";TEXT_TIME_MODE="टाइम मोड";TEXT_SYS_FINDROOM="एक रूम खोजें...";TEXT_ROOM_IS_EXPIRED="रूम की अवधि समाप्त हो गई!";TEXT_MATCH_FOUND="मैच मिला!";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="रूम में खिलाड़ियों का इंतज़ार हो रहा है: ";TEXT_PLAY_NOW="अभी खेलें";TEXT_WAITING_ROOM_MESSAGE="“इस रूम में मैक्स %d खिलाड़ी हो सकते हैं";TEXT_SYS_GAME_TIME="मैच टाइम";TEXT_SYS_CHOOSEGAMETIME="हर खिलाड़ी के लिए खेलने का समय चुनें";TEXT_NO_CONNECTION="कोई कनेक्शन नहीं<br/>(ऑनलाइन खेलने के लिए किसी को खोजने के लिए कनेक्ट करें)";TEXT_SOMETHING_WENT_WRONG="कनेक्शन में गड़बड़ी. कुछ गलत हो गया";TEXT_INVALID_NAME="अमान्य नाम!";TEXT_SYS_INVITE="इनवाइट करें";TEXT_SYS_MINUTES="%s मिनट.";TEXT_SYS_QUICKMATCH_MINUTE="क्विक मैच (“+टेक्स्ट_SYS_मिनट+”)";TEXT_SYS_COPIED_TO_CLIPBOARD="गेम लिंक आपके क्लिपबोर्ड पर कॉपी किया गया. इसे अपने दोस्तों के साथ शेयर करें!";TEXT_SYS_QUICKMATCH_NOTIME=TEXT_SYS_QUICKMATCH+" ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="अधिकतम खिलाड़ी";TEXT_SYS_CHOOSEMAXNUMPLAYERS="कमरे में अधिकतम खिलाड़ियों की संख्या चुनें।";TEXT_EMOTICONS_BLOCK="इमोटिकॉन्स को ब्लॉक करें";break;case LANG_ID:TEXT_WAIT_OPPONENT="MENUNGGU LAWAN ...";TEXT_OPPONENT_LEFT="LAWAN TELAH PERGI!";TEXT_ALL_PLAYERS_LEFT="SEMUA PEMAIN TELAH MENINGGALKAN PERTANDINGAN!";TEXT_PLAYER_DISCONNECTED="KAMU TELAH PERGI!";TEXT_REMATCH="apa kamu ingin bertanding ulang?";TEXT_CONNECTION_LOST="TIDAK ADA KONEKSI";TEXT_REMATCH_ALERT="%s INGIN BERMAIN LAGI";TEXT_AFK="AFK";TEXT_QUIT="KELUAR";TEXT_SYS_CHOOSENICK="Pilih nama panggilan";TEXT_SYS_UPDATE="perbarui";TEXT_SYS_MATCH_LIST="Daftar pertandingan";TEXT_SYS_QUICKMATCH="pertandingan singkat";TEXT_SYS_CREATEMATCH="buat pertandingan";TEXT_SYS_BACK="kembali";TEXT_SYS_OK="oke";TEXT_SYS_CREATE="buat";TEXT_SYS_CLOSE="tutup";TEXT_SYS_LOADING="Memuat";TEXT_SYS_NAMEROOM="Beri Nama Kamar";TEXT_SYS_CREATEROOM="Buat Kamar";TEXT_SYS_DEFAULTROOMNAME="%s kamar";TEXT_SYS_PASSWORD="Kata sandi";TEXT_SYS_INFOPASS="Kalau kamu tidak mengatur kata sandi, kamar ini akan menjadi publik.";TEXT_SYS_TYPEROOMPASS="Ketik Kata Sandi Kamar";TEXT_WRONG_PASSWORD="Kata Sandi Salah!";TEXT_NETWORK_CONNECTING="MENYAMBUNGKAN ...";TEXT_ROOM_IS_FULL="Kamar penuh!";TEXT_FIND_OPPONENT="mencari lawan ...";TEXT_VS="VS";TEXT_CONNECT_TO_LOBBY="Menyambungkan ke lobi...";TEXT_ROOM_DOESNT_EXIST="Kamar tidak ada!";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="menunggu lawan dalam kamar: ";TEXT_QUIT_FROM_GAME="%s KELUAR DARI GAME";TEXT_TIME_OVER="WAKTU HABIS";TEXT_OFFER_A_DRAW="Apakah Anda ingin menawarkan seri?";TEXT_OFFERED_DRAW="Kamu ditawari hasil seri.\nKlik tombol untuk menerimanya";TEXT_WAIT_FOR_A_DRAW="Kamu menawarkan hasil seri.\nTunggu lawanmu menerimanya";TEXT_PLAYER_AGREED_TO_DRAW="(Pemain menyetujui hasil seri)";TEXT_CPU="CPU";TEXT_PLAYER="Pemain";TEXT_PLAYER_KICKED="Kamu dikeluarkan dari game karena tidak aktif.";TEXT_MINUTES="Mnt";TEXT_NO_TIME="Tidak Ada Waktu";TEXT_NO_TIME_MODE="MODE TANPA WAKTU";TEXT_TIME_MODE="MODE WAKTU";TEXT_SYS_FINDROOM="mencari kamar ...";TEXT_ROOM_IS_EXPIRED="Kamar Kedaluwarsa!";TEXT_MATCH_FOUND="Pertandingan ditemukan!";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="menunggu pemain dalam kamar: ";TEXT_PLAY_NOW="bermain sekarang";TEXT_WAITING_ROOM_MESSAGE="Kamar ini bisa diisi maks. %d pemain";TEXT_SYS_GAME_TIME="Waktu Pertandingan";TEXT_SYS_CHOOSEGAMETIME="Pilih waktu bermain per pemain";TEXT_NO_CONNECTION="TIDAK ADA KONEKSI<br/>(Sambungkan untuk menemukan lawan bermain online)";TEXT_SOMETHING_WENT_WRONG="KESALAHAN KONEKSI. ADA YANG SALAH";TEXT_INVALID_NAME="NAMA TIDAK VALID!";TEXT_SYS_INVITE="UNDANG";TEXT_SYS_MINUTES="%s mnt.";TEXT_SYS_QUICKMATCH_MINUTE="pertandingan singkat ("+TEXT_SYS_MINUTES+")";TEXT_SYS_COPIED_TO_CLIPBOARD="Tautan game disalin ke Clipboard. Bagikan ke teman-temanmu!";TEXT_SYS_QUICKMATCH_NOTIME=TEXT_SYS_QUICKMATCH+" ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="Pemain Maks";TEXT_SYS_CHOOSEMAXNUMPLAYERS="Pilih jumlah maksimum pemain di dalam ruangan.";TEXT_EMOTICONS_BLOCK="BLOKIR EMOTIKON";break;case LANG_JA:TEXT_WAIT_OPPONENT="対戦相手を待っています...";TEXT_OPPONENT_LEFT="対戦相手が退出しました！";TEXT_ALL_PLAYERS_LEFT="すべてのプレイヤーが試合を離れました！";TEXT_PLAYER_DISCONNECTED="退出しました！";TEXT_REMATCH="再度マッチしたいですか？";TEXT_CONNECTION_LOST="接続がありません";TEXT_REMATCH_ALERT="%s がもう一度プレイしたがっています";TEXT_AFK="AFK";TEXT_QUIT="退出";TEXT_SYS_CHOOSENICK="ニックネームを選択する";TEXT_SYS_UPDATE="アップデート";TEXT_SYS_MATCH_LIST="マッチリスト";TEXT_SYS_QUICKMATCH="クイックマッチ";TEXT_SYS_CREATEMATCH="マッチを作成する";TEXT_SYS_BACK="戻る";TEXT_SYS_OK="OK";TEXT_SYS_CREATE="作成";TEXT_SYS_CLOSE="閉じる";TEXT_SYS_LOADING="読み込み中";TEXT_SYS_NAMEROOM="部屋に名前をつける";TEXT_SYS_CREATEROOM="部屋を作成する";TEXT_SYS_DEFAULTROOMNAME="%s の部屋";TEXT_SYS_PASSWORD="パスワード";TEXT_SYS_INFOPASS="パスワードを設定しない場合は、この部屋は公開状態になります。";TEXT_SYS_TYPEROOMPASS="部屋のパスワードを入力";TEXT_WRONG_PASSWORD="パスワードが違います！";TEXT_NETWORK_CONNECTING="接続中...";TEXT_ROOM_IS_FULL="部屋は満員です！";TEXT_FIND_OPPONENT="対戦相手を探しています...";TEXT_VS="VS";TEXT_CONNECT_TO_LOBBY="ロビーに接続中...";TEXT_ROOM_DOESNT_EXIST="部屋は存在しません！";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="部屋内の対戦相手を待っています： ";TEXT_QUIT_FROM_GAME="%s がゲームをやめました";TEXT_TIME_OVER="タイムオーバー";TEXT_OFFER_A_DRAW="引き分けを申し出ますか？";TEXT_OFFERED_DRAW="引き分けを提案されました。\nボタンをクリックして承諾してください";TEXT_WAIT_FOR_A_DRAW="引き分けを提案しました。\n対戦相手が承諾するのをお待ちください";TEXT_PLAYER_AGREED_TO_DRAW="（プレイヤーが引き分けで合意しました）";TEXT_CPU="CPU";TEXT_PLAYER="プレイヤー";TEXT_PLAYER_KICKED="不活発だったためゲームからキックされました。";TEXT_MINUTES="分";TEXT_NO_TIME="タイムなし";TEXT_NO_TIME_MODE="タイムモードなし";TEXT_TIME_MODE="タイムモード";TEXT_SYS_FINDROOM="部屋を見つける...";TEXT_ROOM_IS_EXPIRED="部屋は失効しました！";TEXT_MATCH_FOUND="マッチを見つけました！";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="部屋内のプレイヤーを待っています： ";TEXT_PLAY_NOW="今すぐプレイ";TEXT_WAITING_ROOM_MESSAGE="「この部屋は最大 %d 人まで受け入れ可能です";TEXT_SYS_GAME_TIME="マッチタイム";TEXT_SYS_CHOOSEGAMETIME="プレイヤーごとにプレイ時間を選んでください";TEXT_NO_CONNECTION="接続がありません<br/>（オンラインでプレイできるように接続してください）";TEXT_SOMETHING_WENT_WRONG="接続エラー。問題が発生しました";TEXT_INVALID_NAME="名前が無効です！";TEXT_SYS_INVITE="招待する";TEXT_SYS_MINUTES="%s 分";TEXT_SYS_QUICKMATCH_MINUTE="クイックマッチ（「+TEXT_SYS_MINUTES+」）";TEXT_SYS_COPIED_TO_CLIPBOARD="ゲームリンクをクリップボードにコピーしました。フレンドとシェアしよう！";TEXT_SYS_QUICKMATCH_NOTIME=TEXT_SYS_QUICKMATCH+" ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="最大プレイヤー数";TEXT_SYS_CHOOSEMAXNUMPLAYERS="部屋の最大プレイヤー数を選択してください。";TEXT_EMOTICONS_BLOCK="絵文字をブロック";break;case LANG_ZH:TEXT_WAIT_OPPONENT="等待对手……";TEXT_OPPONENT_LEFT="对手离开了游戏！";TEXT_ALL_PLAYERS_LEFT="所有玩家已退出比赛！";TEXT_PLAYER_DISCONNECTED="你离开了游戏！";TEXT_REMATCH="你想要重新比赛吗？";TEXT_CONNECTION_LOST="无网络连接";TEXT_REMATCH_ALERT="%s想要再玩一局";TEXT_AFK="AFK";TEXT_QUIT="已退出";TEXT_SYS_CHOOSENICK="选择昵称";TEXT_SYS_UPDATE="更新";TEXT_SYS_MATCH_LIST="匹配列表";TEXT_SYS_QUICKMATCH="快速匹配";TEXT_SYS_CREATEMATCH="创建比赛";TEXT_SYS_BACK="返回";TEXT_SYS_OK="确认";TEXT_SYS_CREATE="创建";TEXT_SYS_CLOSE="关闭";TEXT_SYS_LOADING="加载中";TEXT_SYS_NAMEROOM="命名房间";TEXT_SYS_CREATEROOM="创建房间";TEXT_SYS_DEFAULTROOMNAME="%s的房间";TEXT_SYS_PASSWORD="密码";TEXT_SYS_INFOPASS="如果你不设置密码，这将是公共房间。";TEXT_SYS_TYPEROOMPASS="输入房间密码";TEXT_WRONG_PASSWORD="密码错误！";TEXT_NETWORK_CONNECTING="连接中……";TEXT_ROOM_IS_FULL="房间已满！";TEXT_FIND_OPPONENT="正在寻找对手……";TEXT_VS="对";TEXT_CONNECT_TO_LOBBY="连接到大厅……";TEXT_ROOM_DOESNT_EXIST="房间不存在！";TEXT_WAITING_FOR_OPPONENT_IN_ROOM="等待房间内对手： ";TEXT_QUIT_FROM_GAME="%s退出游戏";TEXT_TIME_OVER="时间到";TEXT_OFFER_A_DRAW="你想提出平局吗？";TEXT_OFFERED_DRAW="你的对手提议和局。\n点击按钮来接受";TEXT_WAIT_FOR_A_DRAW="你提议和局。\n等待对手接受";TEXT_PLAYER_AGREED_TO_DRAW="（玩家同意和局）";TEXT_CPU="CPU";TEXT_PLAYER="玩家";TEXT_PLAYER_KICKED="你由于不活跃被踢出游戏。";TEXT_MINUTES="分钟数";TEXT_NO_TIME="时间到了";TEXT_NO_TIME_MODE="不限时模式";TEXT_TIME_MODE="限时模式";TEXT_SYS_FINDROOM="寻找房间……";TEXT_ROOM_IS_EXPIRED="房间过期！";TEXT_MATCH_FOUND="匹配成功！";TEXT_WAITING_FOR_PLAYERS_IN_ROOM="等待房间内玩家： ";TEXT_PLAY_NOW="现在开始";TEXT_WAITING_ROOM_MESSAGE="这个房间最多容纳%d名玩家";TEXT_SYS_GAME_TIME="匹配时间";TEXT_SYS_CHOOSEGAMETIME="选择每位玩家的游玩时间";TEXT_NO_CONNECTION="无网络连接<br/>（联网以匹配玩家）";TEXT_SOMETHING_WENT_WRONG="网络连接错误。出现错误";TEXT_INVALID_NAME="名字无效！";TEXT_SYS_INVITE="邀请";TEXT_SYS_MINUTES="%s分钟";TEXT_SYS_QUICKMATCH_MINUTE="快速匹配 ("+TEXT_SYS_MINUTES+")";TEXT_SYS_COPIED_TO_CLIPBOARD="已复制游戏链接到剪贴板。向朋友分享吧！";TEXT_SYS_QUICKMATCH_NOTIME=TEXT_SYS_QUICKMATCH+" ("+TEXT_NO_TIME+")";TEXT_SYS_MAXPLAYERS="最多玩家数";TEXT_SYS_CHOOSEMAXNUMPLAYERS="选择房间中最多的玩家人数。";TEXT_EMOTICONS_BLOCK="屏蔽表情符号"}}function on_ctl_multiplayer_send_nickname(){var n=document.querySelector("input[name='nickname']").value;g_oCTLMultiplayer.setNickName(n);s_oNetworkManager.login(n)}function on_ctl_multiplayer_send_password(){var n=document.querySelector("[id='"+g_oCTLMultiplayer._idCurDialog+"']").querySelector("input[name='password']"),t=n.getAttribute("data-room-name"),i=n.value;s_oNetworkManager.tryJoinRoomWithPass(t,i)}function on_ctl_multiplayer_join_room_with_password(){g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showLoading(TEXT_NETWORK_CONNECTING)}function on_ctl_multiplayer_show_create_match(){g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showCreateRoom()}function on_ctl_multiplayer_join_quick_match(){g_oCTLMultiplayer.closeAllDialog();s_oNetworkManager.joinQuickMatch()}function on_ctl_multiplayer_close_type_room_password(){g_oCTLMultiplayer.closeAllDialog();s_oNetworkManager.gotoLobby()}function on_ctl_multiplayer_close_create_room(){g_oCTLMultiplayer.closeAllDialog();s_oNetworkManager.gotoLobby()}function on_ctl_multiplayer_refresh_room_list(){s_oNetworkManager.gotoLobby()}function on_ctl_multiplayer_create_room(){var n=document.querySelector("input[name='roomname']").value,t=document.querySelector("input[name='password']").value,i=document.querySelector("input[name='maxplayers']:checked").value;s_oNetworkManager.tryCreateUniqueRoom(n,t,i)}function on_ctl_multiplayer_join_room(n){s_oNetworkManager.joinRoom(n)}function on_ctl_user_search(n){s_oNetworkManager.filterRoomsShown(n)}function on_ctl_edit_nickname(){s_oNetworkManager.changeNickname()}function on_ctl_refresh_nickname(){var n=g_oCTLMultiplayer.generateRandomName();g_oCTLMultiplayer.setNickName(n)}function CNetworkManager(){var w,t,u,c,l,r,i,a,v,k,d,y,g,e,o,s,f,p,b,n,nt,h;this._init=function(){w=navigator.onLine;t=[];u=[];c=[];l=[];y=0;window.addEventListener("online",this._onConnectionChangeStatusOnline);window.addEventListener("offline",this._onConnectionChangeStatusOffline);nt=new CLangFilter;a=new CNetworkMessageForwarder;n=this;h={name:GAME_NAME,player_data:{}};h=JSON.stringify(h)};this.unload=function(){window.removeEventListener("online",this._onConnectionChangeStatusOnline);window.removeEventListener("offline",this._onConnectionChangeStatusOffline);t=[];u=[];r&&(r.removeDisconnectCallback(),r.removeMessageCallback());s_oNetworkManager=null};this.disconnectFromSystem=function(){g_oCTLMultiplayer.closeAllDialog();n.disconnectFromCurRoom()};this.connectToSystem=function(){if(w){var t=g_oCTLMultiplayer.getNickname();this.login(t)}else n.showErrorMessage(TEXT_NO_CONNECTION)};this.login=function(r){e=r;var f=r+this._getRandomCodeNumber();g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showLoading(TEXT_SYS_LOADING);PlayerIO.useSecureApiRequests=!MULTIPLAYER_TEST_LOCAL;PlayerIO.authenticate(GAME_PLAYERIO_ID,"public",{userId:f},{},function(n){i=n;i.multiplayer.useSecureConnections=!MULTIPLAYER_TEST_LOCAL;MULTIPLAYER_TEST_LOCAL&&(i.multiplayer.developmentServer="localhost:8184");t[ON_LOGIN_SUCCESS]&&t[ON_LOGIN_SUCCESS].call(u[ON_LOGIN_SUCCESS])},n.callbackError)};this.changeNickname=function(){g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showChooseNickName()};this._getRandomCodeNumber=function(){return Math.floor(Math.random()*1e3)};this.generateBotName=function(){return b=g_oCTLMultiplayer.generateRandomName()};this.getBotName=function(){return b};this._onConnectionChangeStatusOnline=function(){w=!0;t[ON_STATUS_ONLINE]&&t[ON_STATUS_ONLINE].call(u[ON_STATUS_ONLINE]);document.querySelector(".ctl-multiplayer-dlg-content")!==null&&n._onReconnection()};this._onConnectionChangeStatusOffline=function(){w=!1;t[ON_STATUS_OFFLINE]&&t[ON_STATUS_OFFLINE].call(u[ON_STATUS_OFFLINE]);document.querySelector(".ctl-multiplayer-dlg-content")!==null&&n.showErrorMessage(TEXT_NO_CONNECTION);n.disconnect()};this._onReconnection=function(){e===null||e===undefined?(g_oCTLMultiplayer.closeAllDialog(),n.connectToSystem()):(g_oCTLMultiplayer.closeAllDialog(),n.gotoLobby())};this.showErrorMessage=function(n){g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showGeneralDialog(n,"g_oCTLMultiplayer.closeAllDialog")};this.addEventListener=function(n,i,r){t[n]=i;u[n]=r};this.callbackError=function(i){console.log("Error: "+i.code+" - "+i.message);t[ON_CONNECTION_ERROR]&&t[ON_CONNECTION_ERROR].call(u[ON_CONNECTION_ERROR],i);switch(i.code){case ERROR_CODE_UNKNOWNROOM:g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showGeneralDialog(TEXT_ROOM_DOESNT_EXIST,"s_oNetworkManager.gotoLobby");break;default:n.showErrorMessage(i)}};this.callbackDisconnect=function(n){console.log("Disconnected From Menu");t[ON_DISCONNECTION]&&t[ON_DISCONNECTION].call(u[ON_DISCONNECTION],n)};this.callbackDisconnectFromMatch=function(n){console.log("Disconnected From Match");t[ON_DISCONNECTION_FROM_MATCH]&&t[ON_DISCONNECTION_FROM_MATCH].call(u[ON_DISCONNECTION_FROM_MATCH],n)};this.sendMsg=function(n,t){r&&r.send(n,t)};this.disconnect=function(){r&&(r.disconnect(),r=null)};this.isUserA=function(){return parseInt(v)===0?!0:!1};this.getPlayerOrderID=function(){return v};this.getPlayerNickname=function(){return e};this.setPlayerNickname=function(n){e=n};this.getNicknameByID=function(n){return o[n]};this.getNicknameList=function(){return o};this.getAvatarByID=function(n){return s[n]};this.getAvatarList=function(){return s};this.createRoom=function(f,o){MULTIPLAYER_TEST_LOCAL&&(i.multiplayer.developmentServer="localhost:8184");i.multiplayer.createJoinRoom(f,ROOM_TYPE_USEROWNER,!0,{id:f,pass:o,curusers:1,maxusers:k},{nickname:e,avatar:"",game_data:h},function(i){r=i;i.addMessageCallback("*",a.messageHandler);i.addDisconnectCallback(n.callbackDisconnect);t[ON_USEROWNERROOM_CREATE_SUCCESS]&&t[ON_USEROWNERROOM_CREATE_SUCCESS].call(u[ON_USEROWNERROOM_CREATE_SUCCESS]);n._onRoomCreated()},n.callbackError)};this.joinRoom=function(o){f=o;MULTIPLAYER_TEST_LOCAL&&(i.multiplayer.developmentServer="localhost:8184");i.multiplayer.joinRoom(o,{nickname:e,avatar:"",game_data:h},function(i){r=i;i.addMessageCallback("*",a.messageHandler);i.addDisconnectCallback(n.callbackDisconnect);t[ON_USEROWNERROOM_JOIN_SUCCESS]&&t[ON_USEROWNERROOM_JOIN_SUCCESS].call(u[ON_USEROWNERROOM_JOIN_SUCCESS]);n._onRoomJoined()},n.callbackError)};this.gotoGameRoom=function(f){var c,e;MULTIPLAYER_TEST_LOCAL&&(i.multiplayer.developmentServer="localhost:8184");playSfxSound("match_found",1,!1);g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showLoading(TEXT_MATCH_FOUND.toUpperCase());c=f.getString(0);v=f.getInt(1);var l=f.getString(2),y=JSON.parse(l),h=Object.values(y);for(o=[],s=[],e=0;e<h.length;e++)o[e]=h[e].nickname,s[e]=h[e].avatar;d=h.length;try{var p=f.getString(3),w=JSON.parse(p),b=Object.values(w);for(e=0;e<b.length;e++);}catch(k){}i.multiplayer.createJoinRoom(c,ROOM_TYPE_GAME,!0,{pass:"",maxusers:d,playersinfo:l},{ingameid:v},function(i){n.disconnectFromCurRoom();r=i;i.addMessageCallback("*",a.messageHandler);i.addDisconnectCallback(n.callbackDisconnectFromMatch);t[ON_GAMEROOM_CONNECTION_SUCCESS]&&t[ON_GAMEROOM_CONNECTION_SUCCESS].call(u[ON_GAMEROOM_CONNECTION_SUCCESS],d);n._onGameRoomEntered()},n.callbackError)};this.gotoGameRoomWithBot=function(){MULTIPLAYER_TEST_LOCAL&&(i.multiplayer.developmentServer="localhost:8184");var t=randomFloatBetween(1e6,2e6,0)+"";v=0;o=[];o[0]=e;o[1]=b;s=[];s[0]="";s[1]="";i.multiplayer.createJoinRoom(t,ROOM_TYPE_GAME,!0,{pass:"",maxusers:2,bot:!0,game_data:h},{ingameid:v},function(t){n.disconnectFromCurRoom();r=t;t.addMessageCallback("*",a.messageHandler);t.addDisconnectCallback(n.callbackDisconnectFromMatch);g_oCTLMultiplayer.closeAllDialog()},n.callbackError)};this.gotoMatchMakingRoom=function(){MULTIPLAYER_TEST_LOCAL&&(i.multiplayer.developmentServer="localhost:8184");i.multiplayer.createJoinRoom("matchmakingroom1",ROOM_TYPE_MATCHMAKING,!0,{},{nickname:e,avatar:"",game_data:h},function(i){r=i;i.addMessageCallback("*",a.messageHandler);i.addDisconnectCallback(n.callbackDisconnect);t[ON_MATCHMAKING_CONNECTION_SUCCESS]&&t[ON_MATCHMAKING_CONNECTION_SUCCESS].call(u[ON_MATCHMAKING_CONNECTION_SUCCESS],"");g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showVsPanel(TEXT_VS,"s_oNetworkManager._onDisconnectFromARoom")},n.callbackError)};this._onGameRoomEntered=function(){g=setTimeout(function(){g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showGeneralDialog(TEXT_OPPONENT_LEFT,"s_oNetworkManager.gotoLobby");n.disconnect()},WAITING_PLAYERS_TIMEOUT)};this.onGameStarted=function(){g_oCTLMultiplayer.closeAllDialog();clearTimeout(g)};this.tryCreateUniqueRoom=function(t,r,u){f=t;p=r;k=u;g_oCTLMultiplayer.showLoading(TEXT_NETWORK_CONNECTING);i.multiplayer.listRooms(ROOM_TYPE_USEROWNER,{id:t},0,0,n._onUniqueListRoomSearch,n.callbackError)};this._onUniqueListRoomSearch=function(t){t.length>0&&(f+="-"+n._getRandomCodeNumber());n.createRoom(f,p,k)};this._onPlayNow=function(){n.sendMsg(MSG_PLAYNOW,"")};this.disconnectFromCurRoom=function(){r&&(r.removeDisconnectCallback(n.callbackDisconnect),r.disconnect())};this._onDisconnectFromARoom=function(){t[ON_BACK_FROM_A_ROOM]&&t[ON_BACK_FROM_A_ROOM].call(u[ON_BACK_FROM_A_ROOM]);g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showLoading(TEXT_CONNECT_TO_LOBBY);n.disconnectFromCurRoom();setTimeout(function(){n.gotoLobby()},500)};this.inviteLink=function(){var u=new URLSearchParams(window.location.search),e=u.get("mp_game_url")||"",n=decodeURIComponent(e),t=Base64.encode(f),i=Base64.encode(p),r;n=addParameterToUrl(n,PARAM_ROOM_ID,t);n=addParameterToUrl(n,PARAM_PASSWORD,i);try{return r=new URL(n),["www.miniplay.com","www.minijuegos.com","www.minigiochi.com","www.minijogos.com.br","www.minijuegos.mx","www.minispelletjes.com","www.grymini.pl"].indexOf(r.hostname)!==-1?n:(n="https://www.miniplay.com/game/uno",n=addParameterToUrl(n,PARAM_ROOM_ID,t),n=addParameterToUrl(n,PARAM_PASSWORD,i))}catch(o){return n="https://www.miniplay.com/game/uno",n=addParameterToUrl(n,PARAM_ROOM_ID,t),n=addParameterToUrl(n,PARAM_PASSWORD,i)}};this._onClickInvite=function(){};this._onRoomCreated=function(){var r={id:"playnow",func:"s_oNetworkManager._onPlayNow",label:TEXT_PLAY_NOW,classes:"ctl-multiplayer-room-play-now ctl-multiplayer-display-none"},u={id:"back",func:"s_oNetworkManager._onDisconnectFromARoom",label:TEXT_SYS_BACK},o={id:"invite",func:"s_oNetworkManager._onClickInvite",label:TEXT_SYS_INVITE,classes:"ctl-multiplayer-room-invite"},s=n.inviteLink(),h=[r,u,o],t,i;g_oCTLMultiplayer.closeAllDialog();t=TEXT_WAITING_FOR_PLAYERS_IN_ROOM+this.filterString(f);g_oCTLMultiplayer.showWaitingPlayersInRoom(t,[e],h,s);tippy("#link",{content:TEXT_SYS_COPIED_TO_CLIPBOARD,trigger:"click",duration:100});const c=tippy("#invite",{content:TEXT_SYS_COPIED_TO_CLIPBOARD,trigger:"click",duration:100});i=new ClipboardJS(".ctl-multiplayer-room-invite");i=new ClipboardJS(".ctl-multiplayer-room-link")};this._onRoomJoined=function(){g_oCTLMultiplayer.closeAllDialog();var n=TEXT_WAITING_FOR_PLAYERS_IN_ROOM+this.filterString(f);g_oCTLMultiplayer.showWaitingPlayersInRoom(n,[],[{func:"s_oNetworkManager._onDisconnectFromARoom",label:TEXT_SYS_BACK}])};this.gotoLobby=function(){g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showLoading(TEXT_CONNECT_TO_LOBBY);n.refreshRooms()};this.refreshRooms=function(){i.multiplayer.listRooms(ROOM_TYPE_USEROWNER,null,0,0,n._onFillWithOwnerRoom,n.callbackError);i.multiplayer.listRooms(ROOM_TYPE_GAME,null,0,0,n._onFillWithGameRoom,n.callbackError)};this._onFillWithOwnerRoom=function(t){y++;n._extractOwnerRoomInfo(t);y>=2&&n._onFinalUpdateRoomList()};this._onFillWithGameRoom=function(t){y++;n._extractGameRoomInfo(t);y>=2&&n._onFinalUpdateRoomList()};this._onFinalUpdateRoomList=function(){var i=n._getCombinedRoomsLists(),t;document.querySelector(".ctl-multiplayer-room-list")!==null?g_oCTLMultiplayer.refreshRoomList(i):this._showLobby(i);t="300px";s_bMobile&&s_bLandscape&&(t="100px");document.querySelector(".ctl-multiplayer-room-list").style.maxHeight=t};this._showLobby=function(n){y=0;g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showRoomList(n)};this._extractOwnerRoomInfo=function(n){var t,i;for(c=[],t=0;t<n.length;t++)i=n[t].roomData.pass.length===0?!1:!0,c[t]={name:n[t].id,private:i,accessible:!0,curusers:n[t].roomData.curusers,maxusers:n[t].roomData.maxusers};return c};this._extractGameRoomInfo=function(n){var t,i;for(l=[],t=0;t<n.length;t++)i=n[t].roomData.pass.length===0?!1:!0,l[t]={name:"game-"+n[t].id,private:i,accessible:!1,curusers:n[t].roomData.curusers,maxusers:n[t].roomData.maxusers};return l};this._getCombinedRoomsLists=function(){for(var t=[],n=0;n<c.length;n++)t.push(c[n]);for(n=0;n<l.length;n++)t.push(l[n]);return t};this.joinQuickMatch=function(t){g_oCTLMultiplayer.showLoading(TEXT_NETWORK_CONNECTING);n.gotoMatchMakingRoom(t)};this.tryJoinFromInvitation=function(t,r){f=Base64.decode(t);p=Base64.decode(r);i.multiplayer.listRooms(ROOM_TYPE_USEROWNER,{id:f,pass:p},0,0,n._checkRoomAvailableFromInvitation,n.callbackError)};this._checkRoomAvailableFromInvitation=function(t){t.length>0?n.joinRoom(t[0].roomData.id,t[0].roomData.pass):(g_oCTLMultiplayer.closeAllDialog(),g_oCTLMultiplayer.showGeneralDialog(TEXT_ROOM_IS_EXPIRED,"s_oNetworkManager.gotoLobby"))};this.tryJoinRoomWithPass=function(t,r){g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showLoading(TEXT_NETWORK_CONNECTING);f=t;p=r;i.multiplayer.listRooms(ROOM_TYPE_USEROWNER,{id:t,pass:r},0,0,n._checkUserPermissionToJoin,n.callbackError)};this._checkUserPermissionToJoin=function(t){t.length>0?n.joinRoom(t[0].roomData.id,t[0].roomData.pass):(g_oCTLMultiplayer.closeAllDialog(),g_oCTLMultiplayer.showGeneralDialog(TEXT_WRONG_PASSWORD,"s_oNetworkManager._onPasswordFailed"))};this._onPasswordFailed=function(){g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showTypeRoomPassword(f)};this.filterRoomsShown=function(t){var r=n._getCombinedRoomsLists(),u,i,f;for(t=t.toLowerCase(),u=[],i=0;i<r.length;i++)f=r[i].name.toLowerCase(),f!==undefined&&f.includes(t)&&u.push(r[i]);t.length>0?g_oCTLMultiplayer.refreshRoomList(u):g_oCTLMultiplayer.refreshRoomList(r)};this.filterString=function(n){return nt.filterString(n)};this._init()}function CNetworkMessageForwarder(){var n;this._init=function(){};this.messageHandler=function(t){switch(t.type){case MSG_ROOM_UPDATE:n._onUpdateRoom(t);break;case MSG_ROOM_IS_FULL:n._onFullRoom(t);break;case MSG_ROOM_EXPIRED:n._onExpiredRoom(t);break;case MSG_GAME_FOUND:n._onGameFound(t);break;case MSG_PLAYER_LEFT_GAME:n._onPlayerLeft(t);break;case MSG_REMATCH_ANSWER_RESULTS:n._onNextMatchResults(t);break;case MSG_OPPONENT_MOVES:n._onOpponentMoves(t);break;case MSG_CARDS_RECEIVED:n._onCardsReceived(t);break;case MSG_PLAYER_KICKED:n._onPlayerKicked(t);break;case MSG_START_THE_GAME:n._onGameStart(t);break;case MSG_SET_GAME_DATA:n._onSetGameData(t);break;case MSG_SHOW_EMOTICON:n._onEmoticonReceived(t);break;case MSG_PING:n._onPingReceived(t)}};this._onUpdateRoom=function(n){var i=n.getString(0),t=JSON.parse(i),r=t.nicknamelist,u=parseInt(t.maxnumplayers);g_oCTLMultiplayer.updateRoomUserList(r,u)};this._onFullRoom=function(){g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showGeneralDialog(TEXT_ROOM_IS_FULL,"s_oNetworkManager.gotoLobby")};this._onExpiredRoom=function(){s_oNetworkManager.disconnectFromCurRoom();g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showGeneralDialog(TEXT_ROOM_IS_EXPIRED,"s_oNetworkManager.gotoLobby")};this._onGameFound=function(n){var t=n.getInt(1)==0?1:0,i=n.getString(2),r=JSON.parse(i),u=Object.values(r);g_oCTLMultiplayer.onPlayerFound(u[t].nickname);setTimeout(function(){s_oNetworkManager.gotoGameRoom(n)},1500)};this._onGameStart=function(n){var t=n.getString(0),i=JSON.parse(t),r=parseInt(i.maxusers);if(s_oMenu)s_oMenu.onRemoteGameStart(r);s_oNetworkManager.onGameStarted()};this._onSetGameData=function(){};this._onPingReceived=function(n){var t=n.getInt(1);s_oNetworkManager.sendMsg(MSG_PING,JSON.stringify(n.getLong(0)))};this._onPlayerLeft=function(n){var t=parseInt(n.getInt(0));s_oGame&&s_oGame.opponentLeftTheGame(t)};this._onNextMatchResults=function(n){var t=n.getBoolean(0);if(s_oGame)if(t)s_oGame.onOpponentAcceptNextMatch();else s_oGame.onOpponentRefuseNextMatch(n.getInt(1))};this._onCardsReceived=function(n){var t=n.getString(0),i=JSON.parse(t);s_oGame&&s_oGame._onCardsReceived(i)};this._onOpponentMoves=function(n){var t=n.getString(0),i=JSON.parse(t);if(s_oGame)s_oGame.onActionReceived(i)};this._onEmoticonReceived=function(n){var t=n.getInt(0),i=n.getInt(1);if(s_oGame)s_oGame.onEmoticonReceived(t,i)};n=this;this._init()}function CRadialWipeWidget(n,t,i){var e,h,c,v,o,l,f,r,u,a,s;this._init=function(n,t,i){e=!1;c=!1;h=!1;v=Math.PI*2;o=0;u=new createjs.Container;u.x=n;u.y=t;i.addChild(u);var a=TIME_BG_COLORS[Math.floor(Math.random()*TIME_BG_COLORS.length)];l=createjs.Graphics.getRGB(a);f=new createjs.Shape;f.rotation=-90;f.alpha=1;u.addChild(f);s="#ffffff";r=new createjs.Text(""," 60px "+PRIMARY_FONT,s);r.textAlign="center";r.textBaseline="alphabetic";r.y=20;r.shadow=new createjs.Shadow("#000000",5,5,10);u.addChild(r)};this.unload=function(){i.removeChild(u)};this.setPos=function(n,t){u.x=n;u.y=t};this.reset=function(){r.text="";stopSfxSound("hurryup");a&&a.stopTremble();r.color=s};this.setVisible=function(n){u.visible=n};this.setScale=function(n){u.scale=n};this.setFontColor=function(n){r.color=s=n};this.removeShadow=function(){r.shadow=null};this.setColor=function(n){l=n};this.setHurryUpMode=function(n){e=!0;o=n};this.removeHurryUpMode=function(){e=!1};this._showHurryUpWarning=function(){h||playSfxSound("hurryup",1,!1)};this.mute=function(){h=!0};this.alwaysShown=function(){c=!0};this._updateTimeText=function(n){var t=Math.ceil(n/1e3);r.text=t};this._updateRadialWipe=function(n,t){var i=linearFunction(n,t,0,0,360);f.graphics.clear();f.graphics.f(l);f.graphics.moveTo(0,0);f.graphics.arc(0,0,TIME_CONTROLLER_RADIUS,0,degreesToRadians(i),!0)};this.update=function(n,t){this._updateTimeText(n);this._updateRadialWipe(n,t);(n===0||n>o&&!c)&&(r.text="",f.graphics.clear());e&&n<o&&(e=!1,this._showHurryUpWarning())};this._init(n,t,i)}function CPreloader(){var r,u,o,s,f,h,e,t,i,n;this._init=function(){r=!1;u=!1;o=!1;s=0;s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("progress_bar_bg","./sprites/preloader/progress_bar_bg.png");s_oSpriteLibrary.addSprite("progress_dot","./sprites/preloader/progress_dot.png");s_oSpriteLibrary.addSprite("ctl_preloader","./sprites/preloader/ctl_preloader.png");s_oSpriteLibrary.addSprite("ctl_disclaimer","./sprites/preloader/ctl_disclaimer.png");s_oSpriteLibrary.loadSprites();e=new createjs.Shape;e.graphics.beginFill("#202945").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);s_oStage.addChild(e);i=new createjs.Container;s_oStage.addChild(i)};this.unload=function(){s_oStage.removeChild(e);i.removeAllChildren()};this._onImagesLoaded=function(){};this._onAllImagesLoaded=function(){this.attachSprites();s_oMain.preloaderReady()};this.attachSprites=function(){var l={images:[s_oSpriteLibrary.getSprite("progress_dot")],frames:{width:16,height:17,regX:8,regY:8},animations:{dot_0:0,dot_1:1,dot_2:2}},e=new createjs.SpriteSheet(l),n,o,s,u,r,c,t;for(this._prepareLogo(e),n=new createjs.Container,n.x=CANVAS_WIDTH/2,n.y=CANVAS_HEIGHT/2+100,i.addChild(n),o=s_oSpriteLibrary.getSprite("progress_bar_bg"),h=createBitmap(o),n.addChild(h),s=15,u=17,f=[],r=0;r<s;r++)c=Math.floor(r/5),t=createSprite(e,"dot_"+c,8,8,16,17),t.visible=!1,t.x=u,t.y=14,n.addChild(t),u+=22,f.push(t);n.regX=n.getBounds().width/2};this._prepareLogo=function(r){var e,s,f,h,c,l,a,v,y,u;n=new createjs.Container;n.x=CANVAS_WIDTH/2;n.y=CANVAS_HEIGHT/2-100;i.addChild(n);e=s_oSpriteLibrary.getSprite("ctl_preloader");t=createBitmap(e);t.x=e.width/2+46;t.y=e.height*.5;t.regX=e.width*.5;t.regY=e.height*.5;t.scale=0;n.addChild(t);s=s_oSpriteLibrary.getSprite("ctl_disclaimer");f=createBitmap(s);f.x=s.width/2;f.y=100;f.regX=s.width/2;f.regY=s.height/2;f.scale=0;n.addChild(f);h=createSprite(r,"dot_1",8,8,16,17);h.scale=0;h.x=8;h.y=30;n.addChild(h);c=createSprite(r,"dot_2",8,8,16,17);c.scale=0;c.x=27;c.y=8;n.addChild(c);l=createSprite(r,"dot_0",8,8,16,17);l.scale=0;l.x=27;l.y=52;n.addChild(l);a=createSprite(r,"dot_1",0,0,16,17);a.scale=0;a.x=359;a.y=2;n.addChild(a);v=createSprite(r,"dot_0",0,0,16,17);v.scale=0;v.x=165;v.y=59;n.addChild(v);y=createSprite(r,"dot_2",0,0,16,17);y.scale=0;y.x=457;y.y=59;n.addChild(y);n.regX=s.width/2;u=200;createjs.Tween.get(t).wait(u).to({scale:1},500,createjs.Ease.backOut);u+=400;createjs.Tween.get(c).wait(u).to({scale:1},800,createjs.Ease.bounceOut);u+=200;createjs.Tween.get(h).wait(u).to({scale:1},800,createjs.Ease.bounceOut);u+=200;createjs.Tween.get(l).wait(u).to({scale:1},800,createjs.Ease.bounceOut);u+=200;createjs.Tween.get(v).wait(u).to({scale:1},800,createjs.Ease.bounceOut);u+=200;createjs.Tween.get(a).wait(u).to({scale:1},800,createjs.Ease.bounceOut);u+=200;createjs.Tween.get(y).wait(u).to({scale:1},800,createjs.Ease.bounceOut);u+=200;createjs.Tween.get(f).wait(u).to({scale:1},1200,createjs.Ease.elasticOut).call(()=>{o=!0})};this.hide=function(){r||(r=!0,createjs.Tween.get(i).to({alpha:0},800,createjs.Ease.cubicOut).call(()=>{s_oMain.onRemovePreloader()}))};this.refreshLoader=function(n){if(n===100){u=!0;o&&this.hide();return}var t=Math.floor(f.length*(n/100));f[t].visible=!0};this.update=function(){r||(s+=s_iTimeElaps,s>MIN_TIME_PRELOADER&&u&&(u=!1,this.hide()))};this._init()}function CMain(n){var f,e=0,r=0,t=STATE_LOADING,o,i,h,c,s,l,a,u;this.initContainer=function(){s_oCanvas=document.getElementById("canvas");s_oStage=new createjs.Stage(s_oCanvas);s_oStage.preventSelection=!0;s_bMobile=isMobile();s_bMobile===!1?s_oStage.enableMouseOver(20):createjs.Touch.enable(s_oStage,!0);s_iPrevTime=(new Date).getTime();createjs.Ticker.addEventListener("tick",this._update);createjs.Ticker.framerate=FPS;navigator.userAgent.match(/Windows Phone/i)&&(DISABLE_SOUND_MOBILE=!0);s_oSpriteLibrary=new CSpriteLibrary;s_oNetworkManager=new CNetworkManager;i=new CPreloader};this.preloaderReady=function(){this._loadImages();(DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)&&this._initSounds();f=!0};this.soundLoaded=function(){e++;var n=Math.floor(e/r*100);i.refreshLoader(n)};this._initSounds=function(){var t,n;for(Howler.mute(!s_bMusicActive),s_aSoundsInfo=[],s_aSoundsInfo.push({path:"./sounds/",filename:"soundtrack",loop:!0,volume:1,ingamename:"soundtrack"}),s_aSoundsInfo.push({path:"./sounds/",filename:"click",loop:!1,volume:1,ingamename:"click"}),s_aSoundsInfo.push({path:"./sounds/",filename:"game_over",loop:!1,volume:1,ingamename:"game_over"}),s_aSoundsInfo.push({path:"./sounds/",filename:"card_dealing",loop:!1,volume:1,ingamename:"card_dealing"}),s_aSoundsInfo.push({path:"./sounds/",filename:"card_dealing_low",loop:!1,volume:1,ingamename:"card_dealing_low"}),s_aSoundsInfo.push({path:"./sounds/",filename:"card_dealing_high",loop:!1,volume:1,ingamename:"card_dealing_high"}),s_aSoundsInfo.push({path:"./sounds/",filename:"card",loop:!1,volume:1,ingamename:"card"}),s_aSoundsInfo.push({path:"./sounds/",filename:"special_card",loop:!1,volume:1,ingamename:"special_card"}),s_aSoundsInfo.push({path:"./sounds/",filename:"change_color",loop:!1,volume:1,ingamename:"change_color"}),s_aSoundsInfo.push({path:"./sounds/",filename:"hurryup",loop:!1,volume:1,ingamename:"hurryup"}),s_aSoundsInfo.push({path:"./sounds/",filename:"attempt_failed",loop:!1,volume:1,ingamename:"attempt_failed"}),s_aSoundsInfo.push({path:"./sounds/",filename:"match_found",loop:!1,volume:1,ingamename:"match_found"}),s_aSoundsInfo.push({path:"./sounds/",filename:"uno",loop:!1,volume:1,ingamename:"uno"}),t=0;t<NUM_EMOTICONS;t++)s_aSoundsInfo.push({path:"./sounds/emoticons/",filename:"sfx_emote_"+t,loop:!1,volume:1,ingamename:"sfx_emote_"+t});for(r+=s_aSoundsInfo.length,s_aSounds=[],n=0;n<s_aSoundsInfo.length;n++)this.tryToLoadSound(s_aSoundsInfo[n],!1);for(s_aMusicInfo=[],s_aMusicInfo.push({path:"./sounds/",filename:"soundtrack",loop:!0,volume:1,ingamename:"soundtrack"}),r+=s_aMusicInfo.length,s_aMusic=[],n=0;n<s_aMusicInfo.length;n++)this.tryToLoadMusic(s_aMusicInfo[n],!1)};this.tryToLoadSound=function(n,t){setTimeout(function(){s_aSounds[n.ingamename]=new Howl({src:[n.path+n.filename+".mp3"],autoplay:!1,preload:!0,html5:isMac(),loop:n.loop,volume:n.volume,onload:s_oMain.soundLoaded,onloaderror:function(n){for(var t=0;t<s_aSoundsInfo.length;t++)if(s_aSounds[s_aSoundsInfo[t].ingamename]._sounds.length>0&&n===s_aSounds[s_aSoundsInfo[t].ingamename]._sounds[0]._id){s_oMain.tryToLoadSound(s_aSoundsInfo[t],!0);break}else document.querySelector("#block_game").style.display="none"},onplayerror:function(n){for(var t=0;t<s_aSoundsInfo.length;t++)if(n===s_aSounds[s_aSoundsInfo[t].ingamename]._sounds[0]._id){s_aSounds[s_aSoundsInfo[t].ingamename].once("unlock",function(){s_aSounds[s_aSoundsInfo[t].ingamename].play()});break}}})},t?200:0)};this.tryToLoadMusic=function(n,t){setTimeout(function(){s_aMusic[n.ingamename]=new Howl({src:[n.path+n.filename+".mp3"],autoplay:!1,preload:!0,html5:isMac(),loop:n.loop,volume:n.volume,onload:s_oMain.soundLoaded,onloaderror:function(n){for(var t=0;t<s_aMusicInfo.length;t++)if(s_aMusic[s_aMusicInfo[t].ingamename]._sounds.length>0&&n===s_aMusic[s_aMusicInfo[t].ingamename]._sounds[0]._id){s_oMain.tryToLoadSound(s_aMusicInfo[t],!0);break}else document.querySelector("#block_game").style.display="none"},onplayerror:function(n){for(var t=0;t<s_aMusicInfo.length;t++)if(n===s_aMusic[s_aMusicInfo[t].ingamename]._sounds[0]._id){s_aMusic[s_aMusicInfo[t].ingamename].once("unlock",function(){s_aMusicInfo[t].ingamename.indexOf("soundtrack")!==-1&&s_aMusic[s_aMusicInfo[t].ingamename].play()});break}}})},t?200:0)};this._loadImages=function(){var n,t;for(a=["Red","Green","Blue","Yellow"],s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this),s_oSpriteLibrary.addSprite("but_menu","./sprites/but_menu.png"),s_oSpriteLibrary.addSprite("but_small","./sprites/but_small.png"),s_oSpriteLibrary.addSprite("msg_box","./sprites/msg_box.png"),s_oSpriteLibrary.addSprite("msg_box_small","./sprites/msg_box_small.png"),s_oSpriteLibrary.addSprite("ctl_logo","./sprites/ctl_logo.png"),s_oSpriteLibrary.addSprite("but_yes_big","./sprites/but_yes_big.png"),s_oSpriteLibrary.addSprite("but_exit_big","./sprites/but_exit_big.png"),s_oSpriteLibrary.addSprite("but_restart","./sprites/but_restart.png"),s_oSpriteLibrary.addSprite("but_home","./sprites/but_home.png"),s_oSpriteLibrary.addSprite("but_uno","./sprites/but_uno.png"),s_oSpriteLibrary.addSprite("icon_multiplayer","./sprites/icon_multiplayer.png"),s_oSpriteLibrary.addSprite("icon_training","./sprites/icon_training.png"),s_oSpriteLibrary.addSprite("but_p2","./sprites/but_p2.png"),s_oSpriteLibrary.addSprite("but_p3","./sprites/but_p3.png"),s_oSpriteLibrary.addSprite("but_p4","./sprites/but_p4.png"),s_oSpriteLibrary.addSprite("but_red","./sprites/but_red.png"),s_oSpriteLibrary.addSprite("but_green","./sprites/but_green.png"),s_oSpriteLibrary.addSprite("but_blue","./sprites/but_blue.png"),s_oSpriteLibrary.addSprite("but_yellow","./sprites/but_yellow.png"),s_oSpriteLibrary.addSprite("stop_turn","./sprites/stop_turn.png"),s_oSpriteLibrary.addSprite("bg_menu","./sprites/bg_menu.jpg"),s_oSpriteLibrary.addSprite("bg_game","./sprites/bg_game.jpg"),s_oSpriteLibrary.addSprite("bg_select_players","./sprites/bg_select_players.jpg"),s_oSpriteLibrary.addSprite("but_arrow","./sprites/arrow.png"),s_oSpriteLibrary.addSprite("card_frame","./sprites/card_frame.png"),s_oSpriteLibrary.addSprite("line_players","./sprites/line_players.png"),s_oSpriteLibrary.addSprite("line_players_dark","./sprites/line_players_dark.png"),s_oSpriteLibrary.addSprite("cards","./sprites/cards.png"),s_oSpriteLibrary.addSprite("draw_four_anim","./sprites/draw_4.png"),s_oSpriteLibrary.addSprite("draw_two_anim","./sprites/draw_2.png"),s_oSpriteLibrary.addSprite("stop_turn_anim","./sprites/stop_turn.png"),s_oSpriteLibrary.addSprite("clock_wise_anim","./sprites/change_clockwise.png"),s_oSpriteLibrary.addSprite("change_color","./sprites/change_color.png"),s_oSpriteLibrary.addSprite("cloud_uno","./sprites/cloud.png"),s_oSpriteLibrary.addSprite("finger","./sprites/finger.png"),s_oSpriteLibrary.addSprite("shuffle_anim","./sprites/shuffle_anim.png"),s_oSpriteLibrary.addSprite("but_next","./sprites/but_next.png"),s_oSpriteLibrary.addSprite("but_show","./sprites/but_show.png"),s_oSpriteLibrary.addSprite("score_icon","./sprites/score_icon.png"),s_oSpriteLibrary.addSprite("score_icon_dark","./sprites/score_icon_dark.png"),s_oSpriteLibrary.addSprite("info_label","./sprites/info_label.png"),s_oSpriteLibrary.addSprite("cup_icon_dark","./sprites/cup_icon_dark.png"),s_oSpriteLibrary.addSprite("attempt","./sprites/attempt.png"),n=0;n<NUM_LANGUAGES;n++)s_oSpriteLibrary.addSprite("logo_"+n,"./sprites/logo_"+n+".png");for(s_oSpriteLibrary.addSprite("clockwise_dir","./sprites/clockwise_dir.png"),s_oSpriteLibrary.addSprite("but_emoticon","./sprites/but_emoticon.png"),s_oSpriteLibrary.addSprite("emoticon_panel","./sprites/emoticons/emoticon_panel.png"),n=0;n<NUM_EMOTICONS;n++)for(s_oSpriteLibrary.addSprite("but_emoticon_"+n,"./sprites/emoticons/but_emoticon_"+n+".png"),t=0;t<30;t++)s_oSpriteLibrary.addSprite("emoticon_"+n+"_"+t,"./sprites/emoticons/emoticon_"+n+"/emoticon_"+n+"_"+t+".png");s_oSpriteLibrary.addSprite("but_mute","./sprites/emoticons/but_mute.png");r+=s_oSpriteLibrary.getNumSprites();s_oSpriteLibrary.loadSprites()};this._onImagesLoaded=function(){e++;var n=Math.floor(e/r*100);i.refreshLoader(n)};this._onAllImagesLoaded=function(){};this.onRemovePreloader=function(){s_oGuiController=new CGUI;i.unload();s_oSoundtrack=playMusicSound("soundtrack",1,!0);s_oLocalSavings=new CLocalSavings;this.gotoMenu()};this.gotoMenu=function(){h=new CMenu;t=STATE_MENU;s_oGuiController.showLangButton();s_oGuiController.hideMainMenuBut();s_oGuiController.hideRestartBut();s_oGuiController.hideHelpButton();s_oGuiController.setToggleAnim(s_bEnableAnim)};this.gotoSelectPlayers=function(){l=new CSelectPlayers;t=STATE_SELECT_PLAYERS};this.gotoGame=function(){s_oGame=s=new CGameSingle(o);t=STATE_GAME};this.gotoGameMulti=function(n){NUM_PLAYERS=n;s_oGame=s=new CGameMulti(o);t=STATE_GAME};this.gotoGameWithBot=function(){NUM_PLAYERS=2;s_oGame=s=new CGameSingleWithBot(o);t=STATE_GAME};this.gotoHelp=function(){c=new CHelp;t=STATE_HELP};this.stopUpdate=function(){((DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)&&(muteAllSfx(!0),muteAllMusic(!0)),s_bMultiplayer)||(f=!1,createjs.Ticker.paused=!0)};this.startUpdate=function(){((DISABLE_SOUND_MOBILE===!1||s_bMobile===!1)&&(s_bSfxActive&&muteAllSfx(!1),s_bMusicActive&&muteAllMusic(!1)),s_bMultiplayer)||(s_iPrevTime=(new Date).getTime(),f=!0,createjs.Ticker.paused=!1)};this._update=function(n){if(f!==!1){var r=(new Date).getTime();s_iTimeElaps=r-s_iPrevTime;s_iCntTime+=s_iTimeElaps;s_iCntFps++;s_iPrevTime=r;s_iCntTime>=1e3&&(s_iCurFps=s_iCntFps,s_iCntTime-=1e3,s_iCntFps=0);switch(t){case STATE_LOADING:i&&i.update();break;case STATE_GAME:s_oGame.update()}s_oStage.update(n)}};s_oMain=this;o=n;ENABLE_FULLSCREEN=!0;STARTING_NUM_CARDS=7;s_bMusicActive=s_bSfxActive=n.audio_enable_on_startup;u=navigator.language.split("-")[0];LANG_CODES[u]===undefined&&(u="en");s_iStartingLangCode=u;s_iCurLang=LANG_CODES[u];this.initContainer();refreshLanguage()}function CPanelTutorial(n){var a,p,l,u,t,v,c,f,y,o,r,e,s,i,h;this.init=function(){var b,w;a=[];p=[];l=n;r=new createjs.Container;o=0;u=new createjs.Shape;u.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);u.alpha=.7;u.on("mousedown",function(){});l.addChild(u);t=new createjs.Container;t.x=CANVAS_WIDTH/2;t.y=CANVAS_HEIGHT/2;l.addChild(t);w=s_oSpriteLibrary.getSprite("msg_box");v=new createBitmap(w);v.regX=w.width/2;v.regY=w.height/2;t.addChild(v);i={x:0,y:120};e=new CTLText(t,-350,-380,700,100,50,"center",FONT_COLOR_2,PRIMARY_FONT,1.2,0,0,TEXT_WELCOME,!0,!0,!1,!1);e.setStroke(6,FONT_COLOR_1);s=new CTLText(t,-300,-250,600,220,30,"center",FONT_COLOR_1,PRIMARY_FONT,1.2,0,0,sprintf(TEXT_TUTORIAL1,GAME_SCORE_WIN),!0,!0,!0,!1);h=new CTLText(t,-350,250,700,60,30,"center",FONT_COLOR_1,PRIMARY_FONT,1.2,0,0,sprintf(TEXT_HELP_VALUE,TEXT_DIGIT_VALUE),!0,!0,!1,!1);c=new CGfxButton(t.getBounds().width/2-54,0,s_oSpriteLibrary.getSprite("but_arrow"),t);c.addEventListener(ON_MOUSE_DOWN,this.onButNext,this);w=s_oSpriteLibrary.getSprite("but_arrow");f=new CGfxButton(-(t.getBounds().width/2-54),0,w,t);f.addEventListener(ON_MOUSE_DOWN,this.onButBack,this);f.setRotation(180);f.setVisible(!1);b=createMarginRect(20,13,20,15);w=s_oSpriteLibrary.getSprite("but_small");y=new CGfxButton(0,470,w,t);y.addEventListener(ON_MOUSE_UP,this.onButSkip,this);y.addText(b,"SKIP","center",PRIMARY_FONT,FONT_COLOR_1,50,1,!1);this.loadPage(o);this.hide();this.refreshPos()};this.unload=function(){c.unload();f.unload();y.unload();u.removeAllEventListeners();l.removeChild(u);l.removeChild(t)};this.addEventListener=function(n,t,i){a[n]=t;p[n]=i};this.refreshPos=function(){s_bLandscape?(t.y=CANVAS_HEIGHT/2-40,t.scale=.8):(t.y=CANVAS_HEIGHT/2,t.scale=1)};this.loadPage=function(n){var u;switch(n){case 0:e.refreshText(TEXT_WELCOME);s.refreshText(sprintf(TEXT_TUTORIAL1,GAME_SCORE_WIN));h.refreshText(sprintf(TEXT_HELP_VALUE,TEXT_DIGIT_VALUE));u=new CCard(i.x,i.y,r,"card_1_7",0,0);u.setAnimTutorial("tutorial");t.addChild(r);break;case 1:e.refreshText(TEXT_ACTION_CARD);s.refreshText(TEXT_TUTORIAL2);h.refreshText(sprintf(TEXT_HELP_VALUE_PTS,CARD_SCORE[12]));u=new CCard(i.x,i.y,r,"card_0_12",0,0);u.setAnimTutorial("draw2tutorial");break;case 2:e.refreshText(TEXT_SKIP_CARD);s.refreshText(TEXT_TUTORIAL3);h.refreshText(sprintf(TEXT_HELP_VALUE_PTS,CARD_SCORE[10]));u=new CCard(i.x,i.y,r,"card_1_7",0,0);u.setAnimTutorial("stopTurnTutorial");break;case 3:e.refreshText(TEXT_REVERSE_CARD);s.refreshText(TEXT_TUTORIAL4);h.refreshText(sprintf(TEXT_HELP_VALUE_PTS,CARD_SCORE[11]));u=new CCard(i.x,i.y,r,"card_1_7",0,0);u.setAnimTutorial("changeClockWiseTutorial");break;case 4:e.refreshText(TEXT_WILD_CARD);s.refreshText(TEXT_TUTORIAL5);h.refreshText(sprintf(TEXT_HELP_VALUE_PTS,CARD_SCORE[13]));u=new CCard(i.x,i.y,r,FOTOGRAM_COLOR,0,0);u.instantShow();break;case 5:e.refreshText(TEXT_WILD_THREE_CARD);s.refreshText(TEXT_TUTORIAL6);h.refreshText(sprintf(TEXT_HELP_VALUE_PTS,CARD_SCORE[14]));u=new CCard(i.x,i.y,r,FOTOGRAM_DRAW_FOUR,0,0);u.instantShow();break;case 6:e.refreshText(TEXT_UNO_RULE);s.refreshText(sprintf(TEXT_TUTORIAL7,NUM_PENALTY_CARDS));h.refreshText(TEXT_UNO_RULE_VALUE);u=new createBitmap(s_oSpriteLibrary.getSprite("but_uno"));u.regX=50;u.regY=101/2;u.x=i.x;u.y=i.y;u.scale=1.5;r.addChild(u)}};this.show=function(){u.visible=!0;t.visible=!0};this.hide=function(){u.visible=!1;t.visible=!1};this.onButNext=function(){f.setVisible(!0);c.setVisible(!0);o++;o===6&&(f.setVisible(!0),c.setVisible(!1));r.removeAllChildren();this.loadPage(o)};this.onButBack=function(){f.setVisible(!0);c.setVisible(!0);o--;o===0&&(f.setVisible(!1),c.setVisible(!0));r.removeAllChildren();this.loadPage(o)};this.onButSkip=function(){a[ON_SKIP_HELP]&&a[ON_SKIP_HELP].call(p[ON_SKIP_HELP],"")};this.init()}function CTurnManager(){var t,r,i,u,n;this.init=function(){var e,f;for(t=!0,e=[],f=0;f<NUM_PLAYERS;f++)e.push(f);n=new CircularList(e);u=n.current();i=n.current();r=n.getNext();s_oTurnManager=this};this.changeClockWise=function(){t=t===!0?!1:!0};this.nextTurn=function(){t===!0?(n.next(),i=n.current(),r=n.getNext()):(n.prev(),i=n.current(),r=n.getPrev())};this.prevTurn=function(){t===!0?(n.prev(),i=n.current(),r=n.getNext()):(n.next(),i=n.current(),r=n.getPrev())};this.setTurn=function(u){n.setCurrent(u);i=n.current();r=t===!0?n.getNext():n.getPrev()};this.setFirstPlayerToBegin=function(){do u++,u===NUM_PLAYERS&&(u=0);while(n.setCurrent(u)===null);this.setTurn(u)};this.getFirstPlayerToBegin=function(){return u};this.resetClockWise=function(){t=!0};this.resetFirstPlayer=function(){u=-1};this.getTurn=function(){return i};this.getNextPlayer=function(){return r};this.getClockWise=function(){return t};this.removePlayer=function(r){if(r===i)t?this.prevTurn():this.nextTurn(),n.removeElement(r);else{n.removeElement(r);var u=n.setCurrent(i)}};this.init()}function CAnimation(){var i,r,f,t,n,s,e,o,h,u,c;this.init=function(){e=!1;var o=s_oSpriteLibrary.getSprite("draw_four_anim"),s={images:[o],framerate:FPS_ANIMS,frames:{width:292,height:290,regX:146,regY:145},animations:{anim:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],next:"stop",speed:.8},reverse:{frames:[13,12,11,10,9,8,7,6,5,4,3,2,1,0],next:[0],speed:.8},stop:[13]}},h=new createjs.SpriteSheet(s);i=new createjs.Sprite(h,0);o=s_oSpriteLibrary.getSprite("draw_two_anim");s={images:[o],framerate:FPS_ANIMS,frames:{width:292,height:322,regX:146,regY:161},animations:{anim:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],next:"stop",speed:.8},reverse:{frames:[13,12,11,10,9,8,7,6,5,4,3,2,1,0],next:[0],speed:.8},stop:[13]}};h=new createjs.SpriteSheet(s);r=new createjs.Sprite(h,0);o=s_oSpriteLibrary.getSprite("stop_turn_anim");f=new createBitmap(o,292,300);o=s_oSpriteLibrary.getSprite("clock_wise_anim");t=new createBitmap(o,292,300);o=s_oSpriteLibrary.getSprite("change_color");s={images:[o],framerate:FPS_ANIMS,frames:{width:328,height:315,regX:164,regY:315/2},animations:{anim:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],next:"anim",speed:.8},stop:[16],color_0:{frames:[0,1,2,3,4,5,6],speed:.8},color_1:{frames:[0,1,2],speed:.8},color_2:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],speed:.8},color_3:{frames:[0,1,2,3,4,5,6,7,8,9,10],speed:.8}}};h=new createjs.SpriteSheet(s);n=new createjs.Sprite(h,0);o=s_oSpriteLibrary.getSprite("shuffle_anim");s={images:[o],framerate:FPS_ANIMS,frames:{width:403,height:386,regX:403/2,regY:193},animations:{anim:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],next:"anim"},idle:[17]}};h=new createjs.SpriteSheet(s);u=new createjs.Sprite(h,"idle")};this.draw3Anim=function(n,t,r,u){if(!s_bEnableAnim){s_oGame.drawCardsTween(n,t,r,u);return}i.alpha=0;i.x=CANVAS_WIDTH/2;i.y=CANVAS_HEIGHT/2;i.scaleX=.01;i.scaleY=.01;s_oStage.addChild(i);i.stop();o=playSfxSound("special_card",.5,!1);new createjs.Tween.get(i).to({alpha:1,scaleX:1.4,scaleY:1.4},200,createjs.Ease.cubicOut).wait(200).call(function(){i.gotoAndPlay("anim")}).wait(1e3).call(function(){i.gotoAndPlay("reverse")}).wait(200).to({alpha:0,scaleX:.01,scaleY:.01},200,createjs.Ease.cubicIn).call(function(){s_oStage.removeChild(i);s_oGame.drawCardsTween(n,t,r,u)})};this.drawTwoAnim=function(n,t,i,u){if(!s_bEnableAnim){s_oGame.drawCardsTween(n,t,i,u);return}r.alpha=0;r.x=CANVAS_WIDTH/2;r.y=CANVAS_HEIGHT/2;r.scaleX=.01;r.scaleY=.01;s_oStage.addChild(r);r.stop();o=playSfxSound("special_card",.5,!1);new createjs.Tween.get(r).to({alpha:1,scaleX:1.4,scaleY:1.4},200,createjs.Ease.cubicOut).wait(200).call(function(){r.gotoAndPlay("anim");setSfxVolume("special_card",.2)}).wait(1e3).call(function(){r.gotoAndPlay("reverse");setSfxVolume("special_card",.1)}).wait(200).to({alpha:0,scaleX:.01,scaleY:.01},200,createjs.Ease.cubicIn).call(function(){s_oStage.removeChild(r);s_oGame.drawCardsTween(n,t,i,u)})};this.stopTurn=function(){return s_bEnableAnim?new Promise(function(n){f.alpha=0;f.regX=146;f.regY=150;f.x=CANVAS_WIDTH/2;f.y=CANVAS_HEIGHT/2;f.scaleX=.01;f.scaleY=.01;s_oStage.addChild(f);playSfxSound("special_card",1,!1);new createjs.Tween.get(f).to({alpha:1,scaleX:2,scaleY:2},200,createjs.Ease.cubicOut).to({scaleX:1.6,scaleY:1.6},200).to({scaleX:2,scaleY:2},200).to({scaleX:1.6,scaleY:1.6},200).to({scaleX:2,scaleY:2},200).to({alpha:0,scaleX:.01,scaleY:.01},200,createjs.Ease.cubicIn).call(function(){s_oStage.removeChild(f);n()})}):new Promise(function(n){n()})};this.changeClockWise=function(n){return s_bEnableAnim?new Promise(function(i){t.alpha=0;t.rotation=0;t.regX=146;t.regY=150;t.x=CANVAS_WIDTH/2;t.y=CANVAS_HEIGHT/2;t.scaleX=.01;t.scaleY=.01;s_oStage.addChild(t);o=playSfxSound("special_card",.5,!1);n===!1?new createjs.Tween.get(t).to({alpha:1,scaleX:2,scaleY:2},200,createjs.Ease.cubicOut).to({rotation:360},500).wait(500).to({rotation:-360},500).wait(500).to({alpha:0,scaleX:.01,scaleY:.01},200,createjs.Ease.cubicIn).call(function(){s_oStage.removeChild(t);i()}):new createjs.Tween.get(t).to({alpha:1,scaleX:2,scaleY:2},200,createjs.Ease.cubicOut).to({rotation:-360},500).wait(500).to({rotation:360},500).wait(500).to({alpha:0,scaleX:.01,scaleY:.01},200,createjs.Ease.cubicIn).call(function(){s_oStage.removeChild(t);i()})}):new Promise(function(n){n()})};this.changeColor=function(t){return s_bEnableAnim?new Promise(function(i){s=t;n.alpha=0;n.x=CANVAS_WIDTH/2;n.y=CANVAS_HEIGHT/2;n.scaleX=.01;n.scaleY=.01;s_oStage.addChild(n);n.stop();h=playSfxSound("change_color",.5,!1);new createjs.Tween.get(n).to({alpha:1,scaleX:1.4,scaleY:1.4},200,createjs.Ease.cubicOut).call(function(){n.gotoAndPlay("anim")}).wait(1e3).call(function(){e=!0;n.on("animationend",s_oCAnimation.endAnimation,s_oCAnimation,!1,i);n.gotoAndStop(16);n.gotoAndPlay("color_"+t)})}):new Promise(function(n){s=t;e=!0;n()})};this.endAnimation=function(t,i){e===!0&&(stopSfxSound("change_color"),o=playSfxSound("special_card",1,!1),e=!1,n.removeAllEventListeners(),n.stop(),new createjs.Tween.get(n).to({scaleX:2,scaleY:2},250).to({scaleX:1.4,scaleY:1.4},250).to({scaleX:2,scaleY:2},250).to({scaleX:1.4,scaleY:1.4},250).to({alpha:0,scaleX:.1,scaleY:.1},200,createjs.Ease.cubicIn).call(function(){s_oStage.removeChild(n);n.gotoAndStop(0);i()}))};this.shuffleAnimation=function(){return s_bEnableAnim?new Promise(function(n){u.alpha=0;u.x=CANVAS_WIDTH/2;u.y=CANVAS_HEIGHT/2;u.scaleX=.01;u.scaleY=.01;s_oStage.addChild(u);u.stop();new createjs.Tween.get(u).to({alpha:1,scaleX:1.6,scaleY:1.6},400,createjs.Ease.cubicOut).call(function(){u.gotoAndPlay("anim");c=playSfxSound("card_dealing",1,!0)}).wait(1700).call(function(){u.gotoAndStop("idle");stopSfxSound("change_color")}).to({alpha:0,scaleX:.01,scaleY:.01},300,createjs.Ease.cubicIn).call(function(){s_oStage.removeChild(u);stopSfxSound("card_dealing");n()})}):new Promise(function(n){n()})};this.init();s_oCAnimation=this}function CMenu(){var t,e,o,i,n,r,u,f,s;this._init=function(){var c=s_oSpriteLibrary.getSprite("bg_menu"),s,h;e=createBitmap(c);e.x=CANVAS_WIDTH/2;e.y=CANVAS_HEIGHT/2;e.regX=c.width/2;e.regY=c.height/2;s_oStage.addChild(e);n=new createjs.Container;s_oStage.addChild(n);s=s_oSpriteLibrary.getSprite("logo_"+s_iCurLang);i=createBitmap(s);i.regX=s.width/2;i.regY=s.height/2;n.addChild(i);r=new createjs.Container;s_oStage.addChild(r);var l=s_oSpriteLibrary.getSprite("but_menu"),a=createMarginRect(180,33,50,85),v=createMarginRect(180,75,50,25),y=60,p=40;t=[];h=s_oSpriteLibrary.getSprite("icon_multiplayer");f=new CButMenu(600,0,l,r,h);f.addEventListener(ON_MOUSE_UP,this._onButMultiplayerRelease,this);f.addText(a,TEXT_MULTIPLAYER,"left",PRIMARY_FONT,FONT_COLOR_1,y,1,!1);f.addText(v,TEXT_MULTIPLAYER_EXPL,"left",PRIMARY_FONT,FONT_COLOR_1,p,1,!1);t.push(f);h=s_oSpriteLibrary.getSprite("icon_training");u=new CButMenu(0,0,l,r,h);u.addEventListener(ON_MOUSE_UP,this._onButLocalRelease,this);u.addText(a,TEXT_TRAINING,"left",PRIMARY_FONT,FONT_COLOR_1,y,1,!1);u.addText(v,TEXT_TRAINING_EXPL,"left",PRIMARY_FONT,FONT_COLOR_1,p,1,!1);t.push(u);o=new createjs.Shape;o.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);s_oStage.addChild(o);createjs.Tween.get(o).to({alpha:0},1e3).call(function(){o.visible=!1});s_oSoundtrack!==null&&setMusicVolume("soundtrack",1);this.checkPendingInvitation();this._onChangeLang();this.refreshButtonPos();this._startAnim();s_oGuiController.addEventListener(CGUI.ON_SELECT_LANG,this._onChangeLang,this)};this.unload=function(){s_oGuiController.removeEventListener(CGUI.ON_SELECT_LANG);u.unload();f.unload();createjs.Tween.removeTweens(i);createjs.Tween.removeTweens(n);o.visible=!1;s_oStage.removeAllChildren();s_oMenu=null};this.refreshButtonPos=function(){var u,i;for(createjs.Tween.hasActiveTweens(n)&&(createjs.Tween.removeTweens(n),n.scaleX=1),s_bLandscape?(n.x=CANVAS_WIDTH/2-350,n.y=CANVAS_HEIGHT/2-30,r.x=CANVAS_WIDTH/2+350,r.y=CANVAS_HEIGHT/2,r.scale=.8):(n.x=CANVAS_WIDTH/2,n.y=CANVAS_HEIGHT/2-300,r.x=CANVAS_WIDTH/2,r.y=CANVAS_HEIGHT/2+300,r.scale=1),u=-100,i=0;i<t.length;i++)t[i].setPosition(0,u),u+=200};this._startAnim=function(){i.alpha=0;createjs.Tween.get(i).to({alpha:1},1e3,createjs.Ease.cubicIn).call(function(){s_oMenu._floatingLogo(i)});createjs.Tween.get(e).to({scale:1.05},2e3,createjs.Ease.cubicOut)};this._floatingLogo=function(t){createjs.Tween.get(t,{loop:!0}).to({y:t.y-10},2500,createjs.Ease.sineInOut).to({y:t.y},2500,createjs.Ease.sineInOut);var i=1;createjs.Tween.get(n,{loop:!0}).to({rotation:n.rotation-i},1500).to({rotation:n.rotation},1500).to({rotation:n.rotation+i},1500).to({rotation:n.rotation},1500)};this.checkPendingInvitation=function(){var n=getParameterByName(PARAM_ROOM_ID),t=getParameterByName(PARAM_PASSWORD);n!==undefined&&n!==null&&(window.history.replaceState(null,null,removeParamsFromURL([PARAM_ROOM_ID,PARAM_PASSWORD])),s_oNetworkManager=new CNetworkManager,g_oCTLMultiplayer=new CCTLMultiplayerGui,g_oCTLMultiplayer.setMaxPlayersInRoom(2),s_oNetworkManager.addEventListener(ON_LOGIN_SUCCESS,function(){s_oNetworkManager.tryJoinFromInvitation(n.toString(),t.toString())}),s_oNetworkManager.connectToSystem())};this._onButLocalRelease=function(){s_bMultiplayer=!1;s_bPlayWithBot=!1;s_oMenu.unload();document.dispatchEvent(new CustomEvent("start_session"));s_oMain.gotoSelectPlayers()};this._onButMultiplayerRelease=function(){document.dispatchEvent(new CustomEvent("start_session"));s_bMultiplayer=!0;s_bPlayWithBot=!1;s_oNetworkManager.addEventListener(ON_MATCHMAKING_CONNECTION_SUCCESS,this._onMatchmakingConnected);s_oNetworkManager.addEventListener(ON_GAMEROOM_CONNECTION_SUCCESS,this.clearBotCheck);s_oNetworkManager.addEventListener(ON_BACK_FROM_A_ROOM,this.clearBotCheck);s_oNetworkManager.addEventListener(ON_LOGIN_SUCCESS,s_oNetworkManager.gotoLobby);s_oNetworkManager.connectToSystem()};this.onRemoteGameStart=function(n){s_oMenu.clearBotCheck();s_bMultiplayer=!0;s_bPlayWithBot=!1;s_oMenu.unload();s_oMain.gotoGameMulti(n)};this._onMatchmakingConnected=function(){s_oMenu._checkMatchWithBot()};this._checkMatchWithBot=function(){var n=randomFloatBetween(18e3,26e3);s=setTimeout(function(){s_bMultiplayer=!0;s_bPlayWithBot=!0;s_oNetworkManager.disconnect();var n=s_oNetworkManager.generateBotName();g_oCTLMultiplayer.onPlayerFound(n);setTimeout(function(){playSfxSound("match_found",1,!1);g_oCTLMultiplayer.closeAllDialog();g_oCTLMultiplayer.showLoading(TEXT_MATCH_FOUND.toUpperCase());setTimeout(function(){g_oCTLMultiplayer.closeAllDialog();s_oMenu.unload();s_oMain.gotoGameWithBot()},500)},1e3)},n)};this.clearBotCheck=function(){clearTimeout(s)};this._normalizeFontSizeButton=function(){for(var e,i,r,u,f=[],n=0;n<t.length;n++)f.push(t[n].getTextObj(0));for(e=normalizeFontSize(f),i=[],n=0;n<t.length;n++)i.push(t[n].getTextObj(1));r=normalizeFontSize(i);u=e-10;r>=u&&(r=u,normalizeFontSize(i,r))};this._onChangeLang=function(){var r,n;if(refreshLanguage(),r=s_oSpriteLibrary.getSprite("logo_"+s_iCurLang),i.image=r,i.regX=r.width/2,s_iCurLang===LANG_AR)for(n=0;n<t.length;n++)t[n].getTextObj(0).setHorizontalAlign("right"),t[n].getTextObj(1).setHorizontalAlign("right");else for(n=0;n<t.length;n++)t[n].getTextObj(0).setHorizontalAlign("left"),t[n].getTextObj(1).setHorizontalAlign("left");f.changeText(0,TEXT_MULTIPLAYER);f.changeText(1,TEXT_MULTIPLAYER_EXPL);u.changeText(0,TEXT_TRAINING);u.changeText(1,TEXT_TRAINING_EXPL);this._normalizeFontSizeButton()};this._checkCodethislabLink=function(){CODETHISLAB_LINK=CODETHISLAB_LINK_COM;s_iCurLang===LANG_CODES.it&&(CODETHISLAB_LINK=CODETHISLAB_LINK_IT)};s_oMenu=this;this._init()}function CSelectPlayers(){var n,t,i,r,f,e,o,u;this._init=function(){var l=s_oSpriteLibrary.getSprite("bg_select_players"),s,h,c;n=createBitmap(l);n.x=CANVAS_WIDTH/2;n.y=CANVAS_HEIGHT/2;n.regX=l.width/2;n.regY=l.height/2;n.scale=1.05;s_oStage.addChild(n);s=s_oSpriteLibrary.getSprite("but_p2");f={x:s.height/2-10,y:s.height/2};t=new CGfxButton(CANVAS_WIDTH/2-450,CANVAS_HEIGHT-500,s,s_oStage);t.addEventListener(ON_MOUSE_UP,this._onButP2,this);h=s_oSpriteLibrary.getSprite("but_p3");e={x:h.height/2-10,y:h.height/2};i=new CGfxButton(CANVAS_WIDTH/2+10,CANVAS_HEIGHT-500,h,s_oStage);i.addEventListener(ON_MOUSE_UP,this._onButP3,this);c=s_oSpriteLibrary.getSprite("but_p4");o={x:c.height/2-10,y:c.height/2};r=new CGfxButton(CANVAS_WIDTH/2+450,CANVAS_HEIGHT-500,c,s_oStage);r.addEventListener(ON_MOUSE_UP,this._onButP4,this);u=new CTLText(s_oStage,CANVAS_WIDTH/2-400,600,800,150,50,"center","#fff",PRIMARY_FONT,1,0,0,TEXT_SELECT_PLAYERS,!0,!0,!0,!1);this.refreshButtonPos();s_oGuiController.hideLangButton();s_oGuiController.showBackButton();s_oGuiController.addEventListener(CGUI.ON_BACK_BUTTON,this._onExit,this);s_oGuiController.addEventListener(CGUI.ON_GOTO_MAIN_MENU,this._onExit,this)};this.unload=function(){s_oGuiController.hideBackButton();s_oGuiController.removeEventListener(CGUI.ON_BACK_BUTTON);s_oGuiController.removeEventListener(CGUI.ON_GOTO_MAIN_MENU);t.unload();i.unload();r.unload();s_oStage.removeAllChildren();s_oSelectPlayers=null};this.refreshButtonPos=function(){var n,f;s_bLandscape?(n=CANVAS_WIDTH/2,f=CANVAS_HEIGHT/2+100,t.setPosition(n-450,f),i.setPosition(n,f),r.setPosition(n+450,f),u.setPosition(CANVAS_WIDTH/2-400,600)):(n=CANVAS_WIDTH/2,f=CANVAS_HEIGHT/2,t.setPosition(n,f-350),i.setPosition(n,f),r.setPosition(n,f+350),u.setPosition(CANVAS_WIDTH/2-400,200))};this._onButP2=function(){NUM_PLAYERS=2;this.unload();document.dispatchEvent(new CustomEvent("select_players",{detail:{num:2}}));s_oMain.gotoGame()};this._onButP3=function(){NUM_PLAYERS=3;this.unload();document.dispatchEvent(new CustomEvent("select_players",{detail:{num:3}}));s_oMain.gotoGame()};this._onButP4=function(){NUM_PLAYERS=4;this.unload();document.dispatchEvent(new CustomEvent("select_players",{detail:{num:4}}));s_oMain.gotoGame()};this._onExit=function(){this.unload();s_oMain.gotoMenu()};s_oSelectPlayers=this;this._init()}function CCard(n,t,i,r,u,f,e,o){var it=!0,l,rt,w,a,p,v,c,b,k,d,h,g,s,y,ut,nt,tt;this._init=function(n,t,i,r,u,f,e,o){y=i;p=u;v=f;a=r;this.setEffect(r);l=!1;rt="deck";tt=e;w=v===0||v===2?"red":"black";b=0;o&&(b=o);s=new createjs.Container;s.x=n;s.y=t;s.rotation=b;y.addChild(s);var c=s_oSpriteLibrary.getSprite("cards"),g={images:[c],framerate:FPS_ANIMS/2,frames:{width:CARD_WIDTH,height:CARD_HEIGHT,regX:CARD_WIDTH/2,regY:CARD_HEIGHT/2},animations:{card_0_0:[0],card_0_1:[1],card_0_2:[2],card_0_3:[3],card_0_4:[4],card_0_5:[5],card_0_6:[6],card_0_7:[7],card_0_8:[8],card_0_9:[9],card_0_10:[10],card_0_11:[11],card_0_12:[12],card_1_0:[13],card_1_1:[14],card_1_2:[15],card_1_3:[16],card_1_4:[17],card_1_5:[18],card_1_6:[19],card_1_7:[20],card_1_8:[21],card_1_9:[22],card_1_10:[23],card_1_11:[24],card_1_12:[25],card_2_0:[26],card_2_1:[27],card_2_2:[28],card_2_3:[29],card_2_4:[30],card_2_5:[31],card_2_6:[32],card_2_7:[33],card_2_8:[34],card_2_9:[35],card_2_10:[36],card_2_11:[37],card_2_12:[38],card_3_0:[39],card_3_1:[40],card_3_2:[41],card_3_3:[42],card_3_4:[43],card_3_5:[44],card_3_6:[45],card_3_7:[46],card_3_8:[47],card_3_9:[48],card_3_10:[49],card_3_11:[50],card_3_12:[51],color:[52],draw_four:[53],back:[54],tutorial:{frames:[20,5,47,31],speed:.1},draw2tutorial:{frames:[12,25,38,51],speed:.1},stopTurnTutorial:{frames:[10,23,36,49],speed:.1},changeClockWiseTutorial:{frames:[11,24,37,50],speed:.1}}},nt=new createjs.SpriteSheet(g);h=createSprite(nt,"back",CARD_WIDTH/2,CARD_HEIGHT/2,CARD_WIDTH,CARD_HEIGHT);h.stop();s.addChild(h);h.on("mousedown",this._mouseDown);k=[];d=[]};this.getCardSprite=function(){return h};this.setEffect=function(n){switch(n){case 52:c=EFFECT_SELECT_COLOR;break;case 53:c=EFFECT_DRAW_THREE;break;default:switch(p){case 10:c=EFFECT_STOP;break;case 11:c=EFFECT_INVERT_TURN;break;case 12:c=EFFECT_DRAW_TWO_COLORED;break;default:c=n===FOTOGRAM_COLOR?EFFECT_SELECT_COLOR:n===FOTOGRAM_DRAW_FOUR?EFFECT_DRAW_THREE:EFFECT_NORMAL_CARD}}};this.setAnimTutorial=function(n){h.gotoAndPlay(n)};this.unload=function(){h.off("mousedown",this._mouseDown);y.removeChild(s)};this.unloadEvent=function(){h.off("mousedown",this._mouseDown)};this.saveInfo=function(){return{szFotogram:a,iRank:p,iSuit:v,bValue:it}};this.instantShow=function(){h.gotoAndStop(a)};this.setValue=function(){if(h.gotoAndStop(a),!s_aSounds.card.playing()){var n=playSfxSound("card",1,!1);n.rate(1+Math.random()*1)}createjs.Tween.get(s).to({scaleX:1},100)};this.setActive=function(n){n?s.addChild(g):s.removeChild(g)};this.setVisible=function(n){s.visible=n===!0?!0:!1};this.onSetTurned=function(){l=!0};this.offSetTurned=function(){l=!1};this.moveCard=function(n,t,i,r,u){var f=this;createjs.Tween.get(s).wait(u).to({x:n,y:t,rotation:i},r,createjs.Ease.sineInOut).call(function(){s_oGame!==null&&s_oGame.playedCard(f)})};this.moveCardFirstHand=function(n,t,i,r,u){var f=this;createjs.Tween.get(s).wait(u).to({x:n,y:t,rotation:i},r,createjs.Ease.sineInOut).call(function(){if(s_oGame!==null){var n=["card_dealing","card_dealing_low","card_dealing_high"],t=n[Math.floor(Math.random()*n.length)],i=playSfxSound(t,1,!1);s_oGame.onCardDealed(f)}})};this.moveFirstLastCard=function(n,t,i,r){var u=this;createjs.Tween.get(s).wait(r).to({x:n,y:t},i,createjs.Ease.cubicOut).call(function(){if(s_oGame!==null)s_oGame.onFirstLastCardDealed(u)})};this.setOnTop=function(){y.addChildAt(s,y.numChildren)};this.stackAndDeactive=function(n,t,i){createjs.Tween.get(s).to({x:n,y:t},i,createjs.Ease.cubicOut)};this._mouseDown=function(){l!==!1&&s_oGame.playCard(nt,!0)};this.showCard=function(n,t){var i=this;createjs.Tween.get(s).wait(n).to({scaleX:.1},100).call(function(){i.setValue(t)})};this.showCardNoInput=function(n,t){var i=this;createjs.Tween.get(s).wait(n).to({scaleX:.1},100).call(function(){i.setValue(t)}).call(function(){l=!1})};this.hideCard=function(){var n=this;createjs.Tween.get(s).to({scaleX:.1},100).call(function(){n.setBack()})};this.jumpAnim=function(){var n=Math.random()*1e3,i=Math.random()*1e3;createjs.Tween.get(s,{loop:!0}).wait(n).to({y:t-20},200,createjs.Ease.cubicOut).to({y:t},200,createjs.Ease.cubicIn).wait(i)};this.stopAllAnim=function(){s.y=t;createjs.Tween.removeTweens(s)};this.setPos=function(n,t){s.x=n;s.y=t};this.setBack=function(){l=!1;h.gotoAndStop("back");var n=this;createjs.Tween.get(s).to({scaleX:1},100).call(function(){n.cardHidden()})};this.cardHidden=function(){k[ON_CARD_HIDE]&&k[ON_CARD_HIDE].call(d[ON_CARD_HIDE],this)};this.getEffect=function(){return c};this.getRank=function(){return p};this.getSuit=function(){return v};this.getColor=function(){return w};this.getFotogram=function(){return a};this.getPos=function(){return{x:s.x,y:s.y}};this.getSprite=function(){return s};this.getLogicRect=function(){return new createjs.Rectangle(s.x-CARD_WIDTH/2,s.y-CARD_HEIGHT/2,CARD_WIDTH,CARD_HEIGHT)};this.getTurned=function(){return l};this.getGlobalToLocal=function(n,t){return h.globalToLocal(n/s_oStage.scaleX,t/s_oStage.scaleY)};this.getUniqueID=function(){return tt};this.getRot=function(){return s.rotation};ut=this;nt=this;this._init(n,t,i,r,u,f,e,o)}function CDeckDisplayer(n,t,i,r){var u,f,c,e,s,h,l,o;this._init=function(){o=0;s=i;u=[];f=new createjs.Container;f.x=n;f.y=t;f.on("mousedown",this.onDraw,this);if(s.addChild(f),r){e=new createjs.Container;e.x=n;e.y=t;e.visible=!1;s.addChild(e);var v=s_oSpriteLibrary.getSprite("finger"),l=v.width/5,a=v.height/2,y={images:[v],framerate:30,frames:{width:l,height:a,regX:l/2,regY:a/2},animations:{idle:{frames:[0,1,2,3,4,5,6,7,8,9],speed:.9}}},p=new createjs.SpriteSheet(y);h=createSprite(p,"idle",l/2,a/2,l,a);h.scaleX=.5;h.scaleY=.5;h.x=-100;h.y=-100;e.addChild(h)}c=!1};this.initializeDeck=function(){for(var t,r=0,e,i,n=0;n<4;n++)for(t=0;t<10;t++)e=t,i=n*13+e,u.push(new CCard(0,0,f,i,e,n,o++,0));for(n=0;n<4;n++)for(t=0;t<9;t++)r=t+1,i=n*13+r,u.push(new CCard(0,0,f,i,r,n,o++,0));for(n=0;n<4;n++)for(t=0;t<2;t++)u.push(new CCard(0,0,f,n*13+10,10,n,o++,0)),u.push(new CCard(0,0,f,n*13+11,11,n,o++,0)),u.push(new CCard(0,0,f,n*13+12,12,n,o++,0));for(n=0;n<4;n++)u.push(new CCard(0,0,f,FOTOGRAM_COLOR,13,4,o++,0)),u.push(new CCard(0,0,f,FOTOGRAM_DRAW_FOUR,14,4,o++,0))};this.initializeFromData=function(n){for(var i,r,t=0;t<n.length;t++){switch(n[t]){case FOTOGRAM_COLOR:i=13;r=4;break;case FOTOGRAM_DRAW_FOUR:i=14;r=4;break;default:i=n[t]%13;r=Math.floor(n[t]/13)}u.push(new CCard(0,0,f,n[t],i,r,o++))}};this.shuffle=function(){for(var t,i,n=u.length;n;n--)t=Math.floor(Math.random()*n),i=u[n-1],u[n-1]=u[t],u[t]=i};this.clearCards=function(){for(var n=0;n<u.length;n++)u[n].unload();u=[]};this.moveContainer=function(n,t,i,r){createjs.Tween.get(f).wait(r).to({x:n,y:t},i,createjs.Ease.linear)};this.takeFirstLastCard=function(){return u.pop()};this.takeLastCard=function(){return u.pop()};this.getLastCard=function(){return u[u.length-1]};this.getCardByIndex=function(n){return u[n]};this.removeCardByIndex=function(n){return u.splice(n,1)};this.pushCard=function(n){u.push(n)};this.getContainer=function(){return f};this.getLength=function(){return u.length};this.onDraw=function(){c===!1&&s_oGame.onDraw()};this.disableInputUsedCards=function(){u[u.length-1].offSetTurned()};this.disableInputDraw=function(){c=!0};this.enableInputDraw=function(){c=!1};this.getIndexChild=function(){return s_oStage.getChildIndex(f)};this.setChildDepth=function(n){s_oStage.addChildAt(f,n)};this.getGlobalPosition=function(){return{x:f.x,y:f.y}};this.setOnTop=function(){s.addChildAt(f,s.numChildren)};this.setHelp=function(){s.setChildIndex(e,s.numChildren-1);this.setPointer(!0);l=setTimeout(function(){e.visible=!0},5e3)};this.hideHelp=function(){clearTimeout(l);e.visible=!1;this.setPointer(!1)};this.setPointer=function(n){f.cursor=n?"pointer":"default"};this.addNewCardUnderTheDeck=function(n){for(var t=0;t<n.length;t++)u.push(n[t])};this.removeAllCardUnderTheDeck=function(){for(var t=[],n=0;n<u.length-1;n++)u[n].unload(),t.push(u.shift()),n--;return t};this._init()}function CHandDisplayer(n,t,i,r,u,f){var k,h=f,w=t,l=n,e,s,y,p,o,c,a,b,d,nt,v,g;this.init=function(){k=!1;d=u;b=0;nt=i;v=0;a=r;e=[];s=new createjs.Container;a.addChild(s);y=new createjs.Container;a.addChild(y);p=new CPlayerInfo(l.x,l.y,y,u);o=new CInfoLabel(l.x,l.y,y);o.setVisible(!1);var n=s_oSpriteLibrary.getSprite("cloud_uno"),t={images:[n],frames:[[0,0,261,194,0,50,180],[262,0,261,194,0,210,180]],animations:{cloud1:[0],cloud2:[1]}},f=new createjs.SpriteSheet(t);c=new createjs.Sprite(f,"cloud1");c.alpha=0;c.scale=.1;g=new CEmoticon(y);this.refreshPos()};this.refreshPos=function(){var y=0,n,r,t,u,i,f,a;(h===LEFT||h===RIGHT)&&(y=linearFunction(s_iOffsetX,0,EDGEBOARD_X,HAND_OFFSET,-40));n={x:l.x+(s_iOffsetX+y)*w.dir_x,y:l.y+s_iOffsetY*w.dir_y};o.setPosition(n.x,n.y,h);r=140;switch(h){case BOTTOM:v=CANVAS_WIDTH-s_iOffsetX*2;t={x:n.x,y:n.y-r};break;case TOP:v=CANVAS_WIDTH-s_iOffsetX*2;t={x:n.x,y:n.y+r};break;case LEFT:v=CANVAS_HEIGHT-s_iOffsetY*2-CARD_HEIGHT*2;t={x:n.x+r,y:n.y};u=linearFunction(s_iOffsetX,0,EDGEBOARD_X,0,150);o.setPosition(n.x+20+u,n.y,h);break;case RIGHT:v=CANVAS_HEIGHT-s_iOffsetY*2-CARD_HEIGHT*2;t={x:n.x-r,y:n.y};u=linearFunction(s_iOffsetX,0,EDGEBOARD_X,0,150);o.setPosition(n.x-20-u,n.y,h)}for(p.setPosition(t.x,t.y,h),c.x=t.x,c.y=t.y,g.setPosition(t.x,t.y),i=0;i<e.length;i++)f=this._getPosCardInHand(i),e[i].getSprite().x=f.x,e[i].getSprite().y=f.y;a=this._getCenterOffset();s.x=n.x+a.x;s.y=n.y+a.y};this.clearCards=function(){for(var n=0;n<e.length;n++)e[n].unload();e=[]};this.getContainerPos=function(){return{x:s.x,y:s.y}};this.getCardPositionByIndex=function(n){var t=e[n].getPos();return{x:t.x,y:t.y}};this.searchIndexCard=function(n){for(var t=0;t<e.length;t++)if(n===e[t])return t};this.removeCardByIndex=function(n){return e.splice(n,1)};this._getPosCardInHand=function(n){var t=0,i=0;switch(h){case BOTTOM:t=this.getDynamicOffset(CARD_MAX_SPACING);break;case TOP:t=-this.getDynamicOffset(CARD_MAX_SPACING);break;case LEFT:i=this.getDynamicOffset(CARD_MAX_SPACING);break;case RIGHT:i=-this.getDynamicOffset(CARD_MAX_SPACING)}return{x:n*t,y:n*i}};this.getPosNewCard=function(){return this._getPosCardInHand(e.length)};this.pushCard=function(n){if(e.push(n),h===BOTTOM)e[e.length-1].getCardSprite().on("mouseover",this.onMouseOver)};this.getContainer=function(){return s};this.getLastCard=function(){return e[e.length-1]};this.getLength=function(){return e.length};this._getCenterOffset=function(){var n,t,i;if(n=s.getBounds(),n===null)return{x:0,y:0};t=0;i=0;switch(h){case BOTTOM:t=-(n.width/2)+CARD_WIDTH/2;break;case TOP:t=n.width/2-CARD_WIDTH/2;break;case LEFT:i=-(n.height/2)+CARD_WIDTH/2;break;case RIGHT:i=n.height/2-CARD_WIDTH/2}return{x:t,y:i}};this.centerContainer=function(){var n=this._getCenterOffset();switch(h){case TOP:case BOTTOM:createjs.Tween.get(s).to({x:l.x+n.x},300,createjs.Ease.linear);break;case LEFT:case RIGHT:createjs.Tween.get(s).to({y:l.y+n.y},300,createjs.Ease.linear)}};this.setOnTop=function(){a.addChildAt(s,a.numChildren);a.addChildAt(y,a.numChildren)};this.setChildDepth=function(n){n>s.s_oStage.numChild-1&&(n=s.s_oStage.numChild-1);s_oStage.addChildAt(n)};this.getContainerInfo=function(){return s.getBounds()};this.getCardByIndex=function(n){return e[n]};this.organizeHand=function(){for(var t,i=this,n=0;n<e.length;n++)t=this._getPosCardInHand(n),createjs.Tween.get(e[n].getSprite()).to({x:t.x,y:t.y},300,createjs.Ease.linear).call(function(){i.centerContainer()})};this.getDynamicOffset=function(n){var t=n,r,i;if(s.getBounds()){switch(h){case TOP:case BOTTOM:r=s.getBounds().width;i=v-CARD_WIDTH;break;case LEFT:case RIGHT:r=s.getBounds().height;i=v-CARD_WIDTH}r>i&&(t=i/(e.length-1));t>n&&(t=n)}return t};this.setOnTurn=function(){p.highlight()};this.setOffTurn=function(){p.disable()};this.showUnoComic=function(){this.setOnTop();switch(h){case BOTTOM:c.gotoAndStop("cloud1");break;case LEFT:c.gotoAndStop("cloud1");break;case TOP:c.gotoAndStop("cloud2");break;case RIGHT:c.gotoAndStop("cloud2")}playSfxSound("uno",1,!1);a.addChild(c);new createjs.Tween.get(c).to({alpha:1,scale:1},300,createjs.Ease.bounceOut).wait(1500).to({scale:.1},300,createjs.Ease.cubicIn).to({alpha:0},20).call(function(){s_oStage.removeChild(c)})};this.checkUno=function(){e.length===1&&this.showUnoComic()};this.onMouseOver=function(n){s_bMobile||(n.target.cursor="pointer")};this.showAllCards=function(){for(var n=0;n<e.length;n++)e[n].showCard()};this.changeName=function(n){d=n;p.setName(n)};this.refreshData=function(n,t,i){w=n;l=t;h=i};this.refreshScore=function(){p.setScore(b);o.setVisible(!1)};this.getCardByUniqueID=function(n){for(var t=0;t<e.length;t++)if(e[t].getUniqueID()===n)return e[t]};this.getPlayerID=function(){return nt};this.getName=function(){return d};this.getDirMove=function(){return w};this.getStartPos=function(){return l};this.getSide=function(){return h};this.getScore=function(){return b};this.setScore=function(n){b=n};this.showHandScore=function(n,t){o.setVisible(!0);o.setTextScore(n);o.setOnTop();o.setColor(FONT_COLOR_1);o.removeStroke();o.setAlpha(.7);t&&(o.setColor(FONT_COLOR_2),o.setStroke(),o.setAlpha(1))};this.hideMsgBox=function(){o.setVisible(!1);o.setTextScore("")};this.calculateHandScore=function(){for(var i,t=0,n=0;n<e.length;n++)i=e[n].getRank(),t+=CARD_SCORE[i];return t};this.getAllCards=function(){return e};this.stopAllAnim=function(){for(var n=0;n<e.length;n++)e[n].stopAllAnim()};this.dispose=function(n,t){var r,i;for(k=!0,r=e.length,i=0;i<e.length;i++)e[i].dispose(n,t,0,400,0).then(()=>{r--,r===0&&this.clearCards()});this.showHandScore(TEXT_PLAYER_QUIT,!0);o.stopAnim()};this.isDisposed=function(){return k};this.showEmoticon=function(n){g.showEmoticon(n)};this.init()}function CGameBase(){this._iCounterDraw;this._oInterface;this._iGameState;this._oParent;this._oDeck;this._aPlayersHand;this._oUsedCards;this._oTurnManager;this._iCurrentColor;this._bUNO;this._iPlayerReclamedUNO;this._bReclamedUNO;this._bEndGame;this._oAnimation;this._iCurPlayer;this._iNextPlayer;this._oFinger;this._oFade;this._oDecksContainer;this._oHandsContainer;this._oCardsContainer;this._oTopContainer;this._oAIManager;this._oUnoController;this._oSummaryPanel;this._oContainerSelectColor;this._oHelpPanel;this._oSuper=CGameBase.prototype;this._init()}function CGameSingle(n){CGameBase.call(this,n);s_bFirstGame!==!0||s_bPlayWithBot?this._startGame():(s_oGuiController.enableHelpButton(!1),this._oHelpPanel.show())}function CGameSingleWithBot(n){CGameSingle.call(this,n);this._oMoveTimeController;this._oSelectColorPanel}function CGameMulti(n){CGameBase.call(this,n);this._bActionInProgress;this._aMessageQueue;this._iPlayCardTimeOut;this._aDisconnectedPlayer;this._oMoveTimeController;this._oSelectColorPanel;this._oEmoticonController;this._startGame()}function CInterface(){var t,n,i;return this._init=function(){i=new createjs.Container;var r=[s_oSpriteLibrary.getSprite("but_red"),s_oSpriteLibrary.getSprite("but_green"),s_oSpriteLibrary.getSprite("but_blue"),s_oSpriteLibrary.getSprite("but_yellow"),],u={images:r,frames:{width:103,height:102,regX:103/2,regY:51},animations:{red:[0],green:[1],blue:[2],yellow:[3]}},f=new createjs.SpriteSheet(u);t={x:CANVAS_WIDTH/2+220,y:CANVAS_HEIGHT/2-60};n=new createjs.Sprite(f,0);n.x=t.x;n.y=t.y;n.stop();s_oStage.addChild(i);this.refreshButtonPos()},this.unload=function(){s_oInterface=null},this.refreshButtonPos=function(){s_oGame&&s_oGame.refreshGUI()},this.setOnTop=function(){s_oStage.addChildAt(i,s_oStage.numChildren)},this.refreshColor=function(t){n.gotoAndStop(t);s_oStage.addChildAt(n,1)},this._onRestart=function(){s_oGame.restart()},sizeHandler(),s_oInterface=this,this._init(),this}function CSelectColorPanel(n,t){var u,o,r,i,f,e=this,s,h,c,l,a=t,v;this._init=function(){var y,p,t;u=[];o=[];n===EFFECT_SELECT_COLOR&&playSfxSound("special_card",.5,!1);r=new createjs.Shape;r.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);r.alpha=0;r.on("mousedown",function(){});a.addChild(r);new createjs.Tween.get(r,{override:!0}).to({alpha:.7},500);i=new createjs.Container;a.addChild(i);f=new createjs.Container;i.addChild(f);t=s_oSpriteLibrary.getSprite("msg_box_small");y=createBitmap(t);y.regX=t.width/2;y.regY=t.height/2;i.addChildAt(y,0);i.x=CANVAS_WIDTH/2;i.y=CANVAS_HEIGHT+t.height/2;v={x:i.x,y:i.y};new createjs.Tween.get(i,{override:!0}).to({y:CANVAS_HEIGHT/2-40},600,createjs.Ease.backOut);p=new CTLText(i,-250,-t.height/2+10,500,110,50,"center",FONT_COLOR_2,PRIMARY_FONT,1,0,0,TEXT_SELECT_COLOR,!0,!0,!1,!1);p.setStroke(6,FONT_COLOR_1);f.y=i.getBounds().height/5;t=s_oSpriteLibrary.getSprite("but_red");s=new CGfxButton(-190,-20,t,f);s.addEventListener(ON_MOUSE_UP,function(){e.onSelectColor(0)});t=s_oSpriteLibrary.getSprite("but_green");h=new CGfxButton(-65,-20,t,f);h.addEventListener(ON_MOUSE_UP,function(){e.onSelectColor(1)});t=s_oSpriteLibrary.getSprite("but_blue");c=new CGfxButton(65,-20,t,f);c.addEventListener(ON_MOUSE_UP,function(){e.onSelectColor(2)});t=s_oSpriteLibrary.getSprite("but_yellow");l=new CGfxButton(190,-20,t,f);l.addEventListener(ON_MOUSE_UP,function(){e.onSelectColor(3)})};this.unload=function(){a.removeChild(r);a.removeChild(i);s.unload();h.unload();c.unload();l.unload();r.off("mousedown",function(){})};this.disableButtons=function(){s.setClickable(!1);h.setClickable(!1);c.setClickable(!1);l.setClickable(!1)};this.addEventListener=function(n,t,i){u[n]=t;o[n]=i};this.onSelectColor=function(t){new createjs.Tween.get(r,{override:!0}).to({alpha:0},500);new createjs.Tween.get(i,{override:!0}).to({y:v.y},400,createjs.Ease.backIn);e.disableButtons();u[ON_COLOR_SELECTED]&&u[ON_COLOR_SELECTED].call(o[ON_COLOR_SELECTED],t,n);u[ON_HUMAN_INTERACTION]&&u[ON_HUMAN_INTERACTION].call(o[ON_HUMAN_INTERACTION])};this.setColor=function(n){new createjs.Tween.get(r,{override:!0}).to({alpha:0},500);new createjs.Tween.get(i,{override:!0}).to({y:v.y},400,createjs.Ease.backIn);e.disableButtons();u[ON_COLOR_SELECTED]&&u[ON_COLOR_SELECTED].call(o[ON_COLOR_SELECTED],n)};e=this;this._init()}function CAreYouSurePanel(n){var r,u,i,t,f,e;this._init=function(){var n,f,o;i=new createjs.Shape;i.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);i.alpha=0;i.on("mousedown",function(){});s_oStage.addChild(i);new createjs.Tween.get(i).to({alpha:.7},500);t=new createjs.Container;s_oStage.addChildAt(t,s_oStage.numChildren);n=s_oSpriteLibrary.getSprite("msg_box_small");f=createBitmap(n);f.regX=n.width/2;f.regY=n.height/2;t.addChild(f);t.x=CANVAS_WIDTH/2;t.y=CANVAS_HEIGHT+n.height/2;e={x:t.x,y:t.y};new createjs.Tween.get(t).to({y:CANVAS_HEIGHT/2-40},500,createjs.Ease.quartIn).call(function(){});o=new CTLText(t,-250,-n.height/2+10,500,110,50,"center",FONT_COLOR_2,PRIMARY_FONT,1,0,0,TEXT_ARE_YOU_SURE,!0,!0,!1,!1);o.setStroke(6,FONT_COLOR_1);r=new CGfxButton(110,30,s_oSpriteLibrary.getSprite("but_yes_big"),t);r.addEventListener(ON_MOUSE_UP,this._onButYes,this);u=new CGfxButton(-110,30,s_oSpriteLibrary.getSprite("but_exit_big"),t);u.addEventListener(ON_MOUSE_UP,this._onButNo,this)};this._onButYes=function(){u.setClickable(!1);r.setClickable(!1);new createjs.Tween.get(i).to({alpha:0},500);new createjs.Tween.get(t).to({y:e.y},400,createjs.Ease.backIn).call(function(){n();f.unload()})};this._onButNo=function(){u.setClickable(!1);r.setClickable(!1);new createjs.Tween.get(i).to({alpha:0},500);new createjs.Tween.get(t).to({y:e.y},400,createjs.Ease.backIn).call(function(){f.unload()})};this.unload=function(){u.unload();r.unload();s_oStage.removeChild(i);s_oStage.removeChild(t);i.off("mousedown",function(){})};f=this;this._init(n)}function CAIManager(){var n;this._init=function(){};this.unload=function(){};this.onSelectColorCpu=function(n){var u=s_oGame.getPlayersHand(n),f,t=[],r,i;for(t[0]={iColor:0,iPoints:0},t[1]={iColor:1,iPoints:0},t[2]={iColor:2,iPoints:0},t[3]={iColor:3,iPoints:0},r=0;r<u.getLength();r++)for(f=u.getCardByIndex(r),i=0;i<t.length;i++)f.getSuit()===i&&t[i].iPoints++;return t.sort(function(n,t){return parseFloat(t.iPoints)-parseFloat(n.iPoints)}),t[0].iColor};this.selectACard=function(n){var t=this.getMove(n);switch(t.move){case AI_MOVE_DRAWCARD:s_oGame.drawCards(n,1,1e3,DRAW_TYPE_NORMAL);break;case AI_MOVE_PLAYCARD:setTimeout(function(){s_oGame.cpuPlayCard(t.card)},500)}};this._getBestCards=function(n){for(var i=s_oGame.getPlayersHand(n),u=s_oGame.getCurColor(),f=s_oGame.getLastCard(),r=[],t=0;t<i.getLength();t++)i.getCardByIndex(t).getSuit()!==4&&(i.getCardByIndex(t).getRank()===f.getRank()||i.getCardByIndex(t).getSuit()===u)?i.getCardByIndex(t).getRank()===12?r.push({oCard:i.getCardByIndex(t),iValue:6}):i.getCardByIndex(t).getRank()===10?r.push({oCard:i.getCardByIndex(t),iValue:5}):i.getCardByIndex(t).getRank()===11?r.push({oCard:i.getCardByIndex(t),iValue:4}):r.push({oCard:i.getCardByIndex(t),iValue:3}):i.getCardByIndex(t).getFotogram()===FOTOGRAM_COLOR?r.push({oCard:i.getCardByIndex(t),iValue:2}):i.getCardByIndex(t).getFotogram()===FOTOGRAM_DRAW_FOUR&&r.push({oCard:i.getCardByIndex(t),iValue:1});return r};this.getMove=function(n){var t=this._getBestCards(n),r=null,i=AI_MOVE_NULL;return t.length===0?i=AI_MOVE_DRAWCARD:(t.sort(function(n,t){return parseFloat(t.iValue)-parseFloat(n.iValue)}),r=t[0].oCard,i=AI_MOVE_PLAYCARD),{move:i,card:r}};n=this;this._init()}function CUnoController(){var n,r,t,i,u,f;this._init=function(){n=[];r=[];i=new createjs.Container;i.visible=!1;s_oStage.addChild(i);var e=s_oSpriteLibrary.getSprite("but_uno"),f={x:CANVAS_WIDTH/2-222,y:CANVAS_HEIGHT/2-70};u=new CGfxButton(f.x,f.y,e,i);u.addEventListener(ON_MOUSE_UP,this._onButUno,this);t=new CTLText(i,CANVAS_WIDTH/2-380,CANVAS_HEIGHT/2,200,150,50,"center","#fff",PRIMARY_FONT,1,0,0,sprintf(TEXT_ALERT_1,NUM_PENALTY_CARDS),!0,!0,!0,!1);t.setAlpha(0)};this.unload=function(){u.unload()};this.addEventListener=function(t,i,u){n[t]=i;r[t]=u};this.refreshPos=function(){s_bLandscape?t.setPosition(CANVAS_WIDTH/2-380,CANVAS_HEIGHT/2):t.setPosition(CANVAS_WIDTH/2-100,CANVAS_HEIGHT/2+200)};this.setVisible=function(n){i.visible=n};this.check=function(n){s_oGame.getbUNO()===!0?setTimeout(function(){s_oGame.getbUNO()===!0&&s_oGame.someoneDeclaredUNO()?f._triggerPenality():f._triggerEffect(n)},2e3):f._triggerEffect(n)};this._triggerPenality=function(){n[ON_APPLY_PENALITY]&&n[ON_APPLY_PENALITY].call(r[ON_APPLY_PENALITY])};this._triggerEffect=function(t){n[ON_APPLY_EFFECT]&&n[ON_APPLY_EFFECT].call(r[ON_APPLY_EFFECT],t)};this._onButUno=function(){n[ON_UNO_CLICK]&&n[ON_UNO_CLICK].call(r[ON_UNO_CLICK])};this.showAlertMsg=function(n){t.refreshText(n);createjs.Tween.get(t.getContainer()).to({alpha:1},400).wait(4e3).to({alpha:0},400).call(function(){u.stopAnimation()})};this.unoAnimation=function(){u.trembleAnimation()};f=this;this._init()}function CSummaryPanel(n){var s,y,w,r,i,p,t,b,h,a,f,e,c,l,u,o,v=this;return this._init=function(){var g,k,nt,b,v,d;s=[];y=[];i=new createjs.Shape;i.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);i.alpha=0;i.on("mousedown",function(){});for(n.addChild(i),t=new createjs.Container,t.x=CANVAS_WIDTH/2,t.y=CANVAS_HEIGHT/2,t.alpha=0,t.visible=!1,n.addChild(t),v=s_oSpriteLibrary.getSprite("msg_box"),p=createBitmap(v),g=p.getBounds(),p.regX=g.width/2,p.regY=g.height/2,t.addChild(p),f=new createjs.Container,f.y=-10,t.addChild(f),k=NUM_PLAYERS,nt=50*k,r=[],b=0;b<k;b++)r[b]=new CPlayerInfo(0,0,f,"szPlayerName",!0),r[b].setPosition(0,-nt/2+b*(nt/(k-1)),BOTTOM);this._normalizeFontNameSize(r);w=FONT_COLOR_3;a=new createjs.Text(0," 30px "+PRIMARY_FONT,w);a.textBaseline="middle";f.addChild(a);h=new CTLText(t,-350,-380,700,100,50,"center",FONT_COLOR_2,PRIMARY_FONT,1.2,0,0,TEXT_SUMMARY,!0,!0,!0,!1);h.setStroke(6,FONT_COLOR_1);v=s_oSpriteLibrary.getSprite("cup_icon_dark");e=createBitmap(v);e.regX=v.width/2;e.regY=v.height/2;e.x=-300;e.y=r[0].getTextScorePos().y;e.visible=!1;f.addChild(e);d=250;v=s_oSpriteLibrary.getSprite("but_home");c=new CGfxButton(-250,d,v,t);c.addEventListener(ON_MOUSE_DOWN,this._onExit,this);v=s_oSpriteLibrary.getSprite("but_show");l=new CGfxButton(0,d,v,t);l.addEventListener(ON_MOUSE_DOWN,this._onShow,this);v=s_oSpriteLibrary.getSprite("but_next");u=new CGfxButton(250,d,v,t);u.addEventListener(ON_MOUSE_DOWN,this._onNext,this);u.pulseAnimation();o=new CMoveTimeController(0,-200,t,TIME_FOR_REMATCH_ANSWER);o.addEventListener(ON_TIMER_END,this._onTimerEnd,this);o.setAlwaysShown();o.showAttempt(!1);o.setFontColor(FONT_COLOR_1);o.removeShadow()},this.unload=function(){u.unload();l.unload();c.unload();o.unload();i.removeAllEventListeners();t.removeAllEventListeners();n.removeChild(i);n.removeChild(t)},this.addEventListener=function(n,t,i){s[n]=t;y[n]=i},this.startAnswerTimer=function(){o.startTimer()},this.stopAnswerTimer=function(){o.stopTimer()},this._onTimerEnd=function(){console.log("TIMER END IN REMATCH");s_oGame._onLastTimerEnd()},this._normalizeFontScoreSize=function(n){for(var r,i=[],t=0;t<n.length;t++)i.push(n[t].getScoreTextObj(0));r=normalizeFontSize(i)},this._normalizeFontNameSize=function(n){for(var r,i=[],t=0;t<n.length;t++)i.push(n[t].getNameTextObj(0));r=normalizeFontSize(i)},this.setAndShow=function(n,u,f){for(var o,e=0;e<r.length;e++)r[e].setName(n[e].name),r[e].setScore(n[e].score+" /"+GAME_SCORE_WIN),n[e].index===u&&(o=r[e].getTextScorePos(),a.x=o.x+154,a.y=o.y+18,a.text="(+"+f+")",r[e].highlight());this._normalizeFontScoreSize(r);playSfxSound("game_over",1,!1);t.visible=!0;createjs.Tween.get(i).to({alpha:.7},500);createjs.Tween.get(t).to({alpha:1},500)},this.reset=function(){var o,n;t.visible=!1;i.alpha=0;i.on("mousedown",function(){});for(e.visible=!1,h.setY(-380),h.refreshText(TEXT_SUMMARY),f.visible=!0,c.setX(-180),l.setX(0),u.setX(180),c.setVisible(!0),l.setVisible(!0),u.setVisible(!0),o=s_oSpriteLibrary.getSprite("but_next"),u.setImage(o),n=0;n<r.length;n++)r[n].enable(),r[n].setNameColor(FONT_COLOR_1)},this.show=function(){t.visible=!0;i.alpha=.7;i.removeAllEventListeners();i.on("mousedown",function(){})},this.hide=function(){t.visible=!1;i.alpha=.01;i.removeAllEventListeners();i.on("mousedown",this.show,this)},this.waitingMode=function(){t.visible=!0;t.alpha=1;i.alpha=.7;f.visible=!1;h.refreshText(TEXT_WAIT_OPPONENT);h.setY(-125);c.setX(-100);u.setVisible(!1);l.setX(100)},this.playerQuitMode=function(n){t.visible=!0;t.alpha=1;i.alpha=.7;h.refreshText(n.toUpperCase());c.setX(-100);u.setVisible(!1);l.setX(100)},this.endMode=function(n){h.refreshText(n.toUpperCase());var t=s_oSpriteLibrary.getSprite("but_restart");u.setImage(t);r[0].setNameColor(w);e.visible=!0},this.isShown=function(){return t.visible},this.setLeaderboardY=function(n){f.y=n},this.stopTweens=function(){createjs.Tween.removeTweens(i);createjs.Tween.removeTweens(t)},this._onExit=function(){v.stopTweens();b=new CAreYouSurePanel(v.onConfirmExit)},this.onConfirmExit=function(){v.stopAnswerTimer();s[ON_HOME]&&s[ON_HOME].call(y[ON_HOME])},this._onShow=function(){v.stopTweens();s[ON_CHECK]&&s[ON_CHECK].call(y[ON_CHECK])},this._onNext=function(){v.stopTweens();v.stopAnswerTimer();s[ON_NEXT]&&s[ON_NEXT].call(y[ON_NEXT])},this._init(),this}function CPlayerInfo(n,t,i,r,u=false){var w,b,s,v,y,l,p,f,c,a,e,h,o;this._init=function(n,t,i,r,u){var d,g,nt,tt,k;w=r;b=u;f=new createjs.Container;f.x=n;f.y=t;i.addChild(f);c=new createjs.Container;f.addChild(c);d="";g=FONT_COLOR;b&&(d="_dark",g=FONT_COLOR_1);k=s_oSpriteLibrary.getSprite("line_players"+d);s=k.width/2;v=k.height;nt={images:[k],frames:{width:s,height:v,regX:s/2,regY:v/2},animations:{off:[0],on:[1],idle:{frames:[0,1],speed:.1}}};tt=new createjs.SpriteSheet(nt);a=createSprite(tt,"off",s/2,v/2,s,v);a.stop();f.addChild(a);l=40;y=340;e=new CTLText(c,0,0,y,l,30,"left",g,PRIMARY_FONT,1,0,0,w,!0,!0,!1,!1);k=s_oSpriteLibrary.getSprite("score_icon"+d);o=createBitmap(k);o.regX=k.width/2;o.regY=k.height/2;c.addChild(o);p=100;h=new CTLText(c,0,0,p,l,30,"left",g,PRIMARY_FONT,1,0,0,"0",!0,!0,!1,!1)};this.unload=function(){i.removeChild(f)};this.highlight=function(){a.gotoAndStop("on");c.alpha=1;var n=1500;createjs.Tween.get(e.getText(),{override:!0,loop:!0}).to({alpha:0},n/3,createjs.Ease.cubicIn).to({alpha:1},n/3,createjs.Ease.cubicOut).wait(n/3)};this.enable=function(){a.gotoAndStop("on");var n=e.getText();createjs.Tween.removeTweens(n);n.alpha=1;c.alpha=1};this.disable=function(){a.gotoAndStop("off");var n=e.getText();createjs.Tween.removeTweens(n);n.alpha=1;c.alpha=.15};this.setScore=function(n){h.refreshText(n)};this.setName=function(n){e.refreshText(n)};this.setPosition=function(n,t,i){f.x=n;f.y=t;switch(i){case BOTTOM:this._setBottom();break;case TOP:this._setTop();break;case LEFT:this._setLeft();break;case RIGHT:this._setRight()}};this._setBottom=function(){this._setNormalDir();f.rotation=0};this._setTop=function(){this._setInverseDir();f.rotation=0};this._setLeft=function(){this._setNormalDir();f.rotation=90};this._setRight=function(){this._setInverseDir();f.rotation=90};this._setNormalDir=function(){e.setHorizontalAlign("left");e.setPosition(-s/2+10,-l);o.x=s/2-o.getBounds().width/2;o.y=e.getY()+l/2-2;h.setHorizontalAlign("right");h.setPosition(o.x-p-o.regX,e.getY())};this._setInverseDir=function(){e.setHorizontalAlign("right");e.setPosition(s/2-y-5,4);o.x=-s/2+o.getBounds().width/2;o.y=e.getY()+l/2-2;h.setHorizontalAlign("left");h.setPosition(o.x+o.getBounds().width/2+2,e.getY())};this.getTextScorePos=function(){return{x:f.x+h.getX(),y:f.y+h.getY()}};this.setNameColor=function(n){e.setColor(n)};this.getNameTextObj=function(){return e};this.getScoreTextObj=function(){return h};this.setScale=function(n){f.scale=n};this._init(n,t,i,r,u)}function CInfoLabel(n,t,i){var r,u;this._init=function(n,t,i){var f,e;r=new createjs.Container;r.x=n;r.y=t;i.addChild(r);f=s_oSpriteLibrary.getSprite("info_label");e=createBitmap(f);e.regX=f.width/2;e.regY=f.height/2;r.addChild(e);var o=f.width-56,s=f.height-56;u=new CTLText(r,0-o/2,-10-s/2,o,s,50,"center",FONT_COLOR_2,PRIMARY_FONT,1.2,0,0,sprintf(TEXT_PTS_TO_WINNER,0),!0,!0,!0,!1);u.setStroke(6,FONT_COLOR_1);this.pulseAnimation()};this.setOnTop=function(){i.setChildIndex(r,i.numChildren-1)};this.setPosition=function(n,t){r.x=n;r.y=t};this.setTextScore=function(n){u.refreshText(n)};this.setVisible=function(n){r.visible=n};this.pulseAnimation=function(){createjs.Tween.get(r,{loop:!0}).to({scaleX:.9,scaleY:.9},850,createjs.Ease.quadOut).to({scaleX:1,scaleY:1},650,createjs.Ease.quadIn)};this.setColor=function(n){u.setColor(n)};this.setAlpha=function(n){r.alpha=n};this.setStroke=function(){u.setStroke(6,FONT_COLOR_1)};this.removeStroke=function(){u.removeStroke()};this._init(n,t,i)}function CMsgBox(n){var u,f,i,t,r,e,o;this._init=function(n){var h,a,s;u=[];f=[];i=new createjs.Shape;i.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);i.alpha=0;i.on("mousedown",function(){});n.addChild(i);t=new createjs.Container;t.alpha=0;t.visible=!1;n.addChild(t);s=s_oSpriteLibrary.getSprite("msg_box_small");r=createBitmap(s);h=r.getBounds();r.regX=h.width/2;r.regY=h.height/2;r.x=CANVAS_WIDTH/2;r.y=CANVAS_HEIGHT/2;t.addChild(r);var v=CANVAS_WIDTH/2,y=CANVAS_HEIGHT/2-70,c=500,l=110;e=new CTLText(t,v-c/2,y-l/2,c,l,50,"center",FONT_COLOR_2,PRIMARY_FONT,1.2,0,0," ",!0,!0,!0,!1);e.setStroke(6,FONT_COLOR_1);a=55;s=s_oSpriteLibrary.getSprite("but_home");o=new CGfxButton(CANVAS_WIDTH/2,CANVAS_HEIGHT/2+a,s,t);o.addEventListener(ON_MOUSE_DOWN,this._onExit,this)};this.unload=function(){o.unload();i.removeAllEventListeners();t.removeAllEventListeners();n.removeChild(i);n.removeChild(t)};this.addEventListener=function(n,t,i){u[n]=t;f[n]=i};this.show=function(n){playSfxSound("game_over",1,!1);t.visible=!0;e.refreshText(n.toUpperCase());createjs.Tween.get(i).to({alpha:.7},500);createjs.Tween.get(t).to({alpha:1},500)};this._onExit=function(){u[ON_HOME]&&u[ON_HOME].call(f[ON_HOME])};this.isShown=function(){return t.visible};this._init(n)}function CLocalSavings(){this._init=function(){try{this.saveItem("ls_available","ok")}catch(n){s_bStorageAvailable=!1;return}s_bEnableAnim=this.getSkipAnim()};this.saveSkipAnim=function(){s_bStorageAvailable&&this.saveItem(PREFIX_GAME+"skip_anim",s_bEnableAnim)};this.getSkipAnim=function(){if(!s_bStorageAvailable)return s_bEnableAnim;var n=this.getItem(PREFIX_GAME+"skip_anim");return n?n==="true"?!0:!1:s_bEnableAnim};this.saveItem=function(n,t){s_bStorageAvailable&&localStorage.setItem(n,t)};this.getItem=function(n){return s_bStorageAvailable?localStorage.getItem(n):null};this._init()}function CMoveTimeController(n,t,i,r){var o,a,h,s,v,y,c,l,f,p,e,u,w;this._init=function(){var b,p;o=[];a=[];v=r;s=null;l=0;f=new createjs.Container;f.x=n;f.y=t;f.visible=!1;i.addChild(f);u=new createjs.Container;u.x=n;u.y=t;u.alpha=0;i.addChild(u);h=[];var k=s_oSpriteLibrary.getSprite("attempt"),c=k.width/2,y=k.height,d={images:[k],frames:{width:c,height:y,regX:c/2,regY:y/2},animations:{off:[0],on:[1]}},g=new createjs.SpriteSheet(d),nt=-c,tt=-TIME_CONTROLLER_RADIUS-y/2-10;for(b=0;b<NUM_ATTEMPT;b++)p=createSprite(g,"off",c/2,y/2,c,y),p.x=nt+b*c,p.y=tt,u.addChild(p),h.push(p);e=new CRadialWipeWidget(0,0,f);w={x:n,y:t}};this.unload=function(){i.removeChild(f);i.removeChild(u);this.stopTimer()};this.setPos=function(n,t){f.x=n;f.y=t;u.x=n;u.y=t};this.setScale=function(n){e.setScale(n)};this.removeShadow=function(){e.removeShadow()};this.setFontColor=function(n){e.setFontColor(n)};this.setColor=function(n){e.setColor(n)};this.setSpectatorMode=function(){e.removeHurryUpMode();e.mute()};this.setAlwaysShown=function(){e.alwaysShown()};this.showAttempt=function(n){u.visible=n};this.addEventListener=function(n,t,i){o[n]=t;a[n]=i};this.restartEndGameCounter=function(){l=0;v=r;this.stopTimer();for(var n=0;n<h.length;n++)h[n].gotoAndStop("off")};this.startTimer=function(){(e.setHurryUpMode(TIME_HURRYUP_WARNING),y=v,c=y,s===null)&&(f.visible=!0,createjs.Tween.removeTweens(u),u.alpha=1,s=setInterval(function(){p.update()},FPS_TIME))};this.stopTimer=function(){this._resetTime();u.alpha=0};this._resetTime=function(){clearInterval(s);s=null;e.reset();f.visible=!1};this._onTimerEnd=function(){var n;h[l].gotoAndStop("on");createjs.Tween.get(u,{override:!0}).to({alpha:0},1e3);playSfxSound("attempt_failed",1,!1);this._resetTime();l++;l===NUM_ATTEMPT?(n=ON_LAST_TIMER_END,o[n]&&o[n].call(a[n])):(n=ON_TIMER_END,o[n]&&o[n].call(a[n]))};this.update=function(){c-=s_iTimeElaps;c<0&&(this._onTimerEnd(),c=0,clearInterval(s));e.update(c,y)};this._init();p=this}function CDirectionArrows(n){var u,t,r,i;this._init=function(n){var f;u=n;t=new createjs.Container;t.x=CANVAS_WIDTH/2;t.y=CANVAS_HEIGHT/2;u.addChild(t);f=s_oSpriteLibrary.getSprite("clockwise_dir");r=createBitmap(f);r.x=-450;r.regX=f.width/2;r.regY=f.height/2;t.addChild(r);f=s_oSpriteLibrary.getSprite("clockwise_dir");i=createBitmap(f);i.x=450;i.regX=f.width/2;i.regY=f.height/2;i.rotation=180;t.addChild(i)};this.unload=function(){u.removeChild(t)};this._flipAnim=function(n,t,i,r){var f,e,u,o;for(n.scaleY=1,f=i*2,r||(f+=1),e=0,u=1;u<=f;u++)e+=u*u;var c=t/e,s=createjs.Tween.get(n,{override:!0}),h=-1;for(u=1;u<=f;u++)o=c*u*u,s=s.to({scaleY:0},o/2,createjs.Ease.quadIn).to({scaleY:h},o/2,createjs.Ease.quadOut),h*=-1};this.setCW=function(n){t.visible&&playSfxSound("change_color",1,!1);var u=1500+Math.random()*1e3,f=1500+Math.random()*1e3;this._flipAnim(r,u,3,n);this._flipAnim(i,f,3,n)};this.setLandscape=function(){t.rotation=0};this.setPortrait=function(){t.rotation=90};this.setVisible=function(n){t.visible=n};this._init(n)}function CEmoticonController(n,t,i,r,u){var l,y,o,p,k,a,d,s,e,f,nt,tt=u,w,c,b=this,g,h,v;this._init=function(n,t,i,r){var et,it,ut,rt,ft,ot,st,u;for(l=!0,y=!1,p=[],k=[],h=EMOTICON_SPAM_ATTEMPT,v=0,e=new createjs.Container,e.x=n,e.y=t,tt.addChild(e),f=new createjs.Container,f.scale=0,e.addChild(f),a=s_oSpriteLibrary.getSprite("emoticon_panel"),et=createBitmap(a),f.addChild(et),nt=new createjs.Container,tt.addChild(nt),o=[],it=100,ut=100,rt=0;rt<NUM_EMOTICONS;rt++)ft=new CGfxButton(it,ut,s_oSpriteLibrary.getSprite("but_emoticon_"+rt),f),ft.addEventListenerWithParams(ON_MOUSE_UP,this._onEmoticon,this,rt),o.push(ft),it+=125,rt===2&&(it=100,ut+=130);ut+=120;it-=250;ot=s_oSpriteLibrary.getSprite("but_mute");st=createMarginRect(85,10,16,10);d=new CGfxButton(it,ut,ot,f);d.addEventListener(ON_MOUSE_UP,this._onMute,this);d.addText(st,TEXT_EMOTICONS_BLOCK,"left",PRIMARY_FONT,FONT_COLOR_1,36,1,!0);u=s_oSpriteLibrary.getSprite("but_emoticon");w=new createjs.SpriteSheet({images:[u],frames:{width:u.width/2,height:u.height},animations:{on:[0],off:[1]}});s=new CGfxButton(0,0,u,e);s.addEventListener(ON_MOUSE_UP,this._onToggleEmoticon,this);s.setImageFromSpritesheet(w,0);i?(f.y=u.height/2,f.regY=a.height,r?(f.x=u.width/2,f.regX=a.width):f.x=-u.width/4):r?(f.x=u.width/2,f.regX=a.width):f.x=-u.width/4;c=new CMoveTimeController(-u.width/4,0,e,EMOTICON_SPAM_TIMER);c.addEventListener(ON_TIMER_END,this._onTimerEnd,this);c.setAlwaysShown();c.showAttempt(!1);c.setSpectatorMode();c.setColor(FONT_COLOR_1);g=setInterval(function(){b._update()},FPS_TIME)};this.unload=function(){for(var n=0;n<o.length;n++)o[n].unload();clearInterval(g);g=null};this.refreshPos=function(n){e.x=n.x;e.y=n.y};this.addEventListener=function(n,t,i){p[n]=t;k[n]=i};this.enable=function(){if(!(h<=0)){s.enable();for(var n=0;n<o.length;n++)o[n].enable()}};this.disable=function(){s.disable();for(var n=0;n<o.length;n++)o[n].disable()};this.closePanel=function(){this.disable();y=!1;createjs.Tween.get(f,{override:!0}).to({scale:0},500,createjs.Ease.backIn).call(function(){b.enable()})};this.openPanel=function(){s.disable();this.disable();y=!0;createjs.Tween.get(f,{override:!0}).to({scale:1},1e3,createjs.Ease.elasticOut).call(function(){b.enable()})};this.showEmoticon=function(){l};this._onToggleEmoticon=function(){l||s.setImageFromSpritesheet(w,0);l=!0;y?this.closePanel():this.openPanel()};this._onMute=function(){l=!1;s.setImageFromSpritesheet(w,1);this.closePanel()};this.isMuted=function(){return!l};this._onEmoticon=function(n){h--;h<=0&&(h=0,v=-EMOTICON_SPAM_TIMER,c.startTimer());b.disable();p[ON_SELECT_EMOTICON]&&p[ON_SELECT_EMOTICON].call(k[ON_SELECT_EMOTICON],n)};this.getEmoticonGlobalPos=function(n){var t=s_bLandscape?1:.75;return{x:e.x+(f.x+o[n].getX())*t,y:e.y+(f.y+o[n].getY()-a.height)*t}};this._increaseAttempt=function(){h++;h>=NUM_ATTEMPT&&(h=NUM_ATTEMPT)};this._onTimerEnd=function(){this._increaseAttempt();this.enable()};this._update=function(){v+=s_iTimeElaps;v>EMOTICON_SPAM_TIMER&&(v=0,this._increaseAttempt())};this._init(n,t,i,r)}function CEmoticon(n){var r,i,t,f=n,u;this._init=function(){r=!1;t=new createjs.Container;t.alpha=0;f.addChild(t);u=350;var n=this._prepareSprite(0);i=createSprite(n,"start",EMOTICON_WIDTH/2,u,EMOTICON_WIDTH,EMOTICON_HEIGHT);t.addChild(i)};this._prepareSprite=function(n){for(var i,f,r=[],t=0;t<30;t++)r.push(s_oSpriteLibrary.getSprite("emoticon_"+n+"_"+t));return i={start:0,anim:[0,29]},(n===0||n===5)&&(i={start:0,anim:[0,29,"stop_anim"],stop_anim:29}),f={images:r,framerate:40,frames:{width:EMOTICON_WIDTH,height:EMOTICON_HEIGHT,regX:EMOTICON_WIDTH/2,regY:u},animations:i},new createjs.SpriteSheet(f)};this.showEmoticon=function(n){var u=this._prepareSprite(n);i.spriteSheet=u;playSfxSound("sfx_emote_"+n,1,!1);r&&createjs.Tween.removeTweens(t);i.gotoAndPlay("anim");r=!0;createjs.Tween.get(t).to({alpha:1},500,createjs.Ease.cubicOut).wait(EMOTICON_TIME).to({alpha:0},400,createjs.Ease.cubicOut).call(function(){i.gotoAndStop("start");r=!1})};this.setPosition=function(n,i){t.x=n;t.y=i};this._init()}var JSON,s_bIsKeyboardOpen,browserName,CCTLMultiplayerGui,g_oCTLMultiplayer,FORBIDDEN_LIST,s_oMenu,s_oSelectPlayers,s_oInterface,s_bStorageAvailable,s_bEnableAnim;typeof _pio=="undefined"&&(_pio={}),function(){_pio.channel=function(){};_pio.channel.prototype.call=function(n,t,i,r,u){var o=typeof PLAYERIO_API_HOST!="undefined"?PLAYERIO_API_HOST:(PlayerIO.useSecureApiRequests?"https":"http")+"://api.playerio.com/json/",f=new XMLHttpRequest,e;"withCredentials"in f?f.open("post",o,!0):typeof XDomainRequest!="undefined"?(f=new XDomainRequest,f.open("post",o)):f=new _pio.flashWebRequest("post",o);e=new Error;f!=null?(f.send("["+n+"|"+(this.token||"")+"]"+JSON.stringify(t)),f.onload=function(){var n=null,t,o,s;try{t=f.response||f.responseText;t[0]=="["&&(o=t.indexOf("]"),this.token=t.substring(1,o),t=t.substring(o+1));n=JSON.parse(t)}catch(h){_pio.handleError(e,r,PlayerIOErrorCode.GeneralError,"Error decoding response from webservice: "+h);return}if(typeof n.errorcode=="undefined"&&typeof n.message=="undefined"){if(s=n,u)try{s=u(n)}catch(h){_pio.handleError(e,r,PlayerIOErrorCode.GeneralError,h.message)}i&&i(s)}else _pio.handleError(e,r,n.errorcode,n.message)},f.onerror=function(n){_pio.handleError(e,r,PlayerIOErrorCode.GeneralError,"Error talking to webservice: "+JSON.stringify(n))}):_pio.handleError(e,r,PlayerIOErrorCode.GeneralError,"Need to implement flash calling")};_pio.runCallback=function(n,t,i){try{n&&n(t)}catch(u){var r="Unhandled error in callback: "+u.message;r+="\nStack:\n";r+=u.stack||u.stacktrace||u.StackTrace;i&&(r+="\nCallsite stack:\n",r+=i.stack||i.stacktrace||i.StackTrace);console.log(r)}};_pio.handleError=function(n,t,i,r){var u=_pio.error(i,r);n&&(n.stack&&(u.stack=n.stack),n.stacktrace&&(u.stacktrace=n.stacktrace),n.StackTrace&&(u.StackTrace=n.StackTrace));t?_pio.runCallback(t,u,n):typeof console!="undefined"?console.log("No error callback specified for: "+u.code+": "+u.message+"\n"+(u.stack||u.stacktrace||u.StackTrace)):alert("No error callback specified for: "+u.code+": "+u.message+"\n"+(u.stack||u.stacktrace||u.StackTrace))};_pio.error=function(n,t){if(arguments.length==1&&(t=n,n=PlayerIOErrorCode.GeneralError),typeof n=="number"&&(n=PlayerIOErrorCode.codes[n]),typeof n!="string"){console.log(n,t,(new Error).stack);throw"Code must be a string!";}var i=new Error;return new PlayerIOError(n,t,i.stack||i.stacktrace||i.StackTrace)};_pio.debugLog=function(n){typeof console!="undefined"&&console.log(n)};_pio.convertToKVArray=function(n){var i=[],t;if(n)for(t in n)i.push({key:""+t,value:""+n[t]});return i};_pio.convertFromKVArray=function(n){var i={},t;if(n&&n.length)for(t in n)i[n[t].key]=n[t].value;return i};_pio.convertToSegmentArray=function(n){var i=[],t;if(n)for(t in n)i.push(t+":"+n[t]);return i}}();PlayerIO={useSecureApiRequests:!1,authenticate:function(n,t,i,r,u,f){if(i.publishingnetworklogin=="auto"){if(typeof PublishingNetwork=="undefined"){f(new PlayerIOError(PlayerIOErrorCode.GeneralError,"Could not find the PublishingNetwork object on the current page. Did you include the PublishingNetwork.js script?"));return}PublishingNetwork.dialog("login",{gameId:n,connectionId:t,__use_usertoken__:!0},function(i){i.error?f(new PlayerIOError(PlayerIOErrorCode.GeneralError,i.error)):typeof i.userToken=="undefined"?f(new PlayerIOError(PlayerIOErrorCode.GeneralError,"Missing userToken value in result, but no error message given.")):PlayerIO.authenticate(n,t,{userToken:i.userToken},r,u,f)});return}var e=new _pio.channel;e.authenticate(n,t,_pio.convertToKVArray(i),_pio.convertToSegmentArray(r),"javascript",_pio.convertToKVArray({}),null,u,f,function(t){return e.token=t.token,new _pio.client(e,n,t.gamefsredirectmap,t.userid)})},quickConnect:null,gameFS:function(n){return new _pio.gameFS(n)}};JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function o(n){return e.lastIndex=0,e.test(n)?'"'+n.replace(e,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function u(i,f){var s,l,h,a,v=n,c,e=f[i];e&&typeof e=="object"&&typeof e.toJSON=="function"&&(e=e.toJSON(i));typeof t=="function"&&(e=t.call(f,i,e));switch(typeof e){case"string":return o(e);case"number":return isFinite(e)?String(e):"null";case"boolean":case"null":return String(e);case"object":if(!e)return"null";if(n+=r,c=[],Object.prototype.toString.apply(e)==="[object Array]"){for(a=e.length,s=0;s<a;s+=1)c[s]=u(s,e)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=u(l,e),h&&c.push(o(l)+(n?": ":":")+h));else for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&(h=u(l,e),h&&c.push(o(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",r="",typeof e=="number")for(o=0;o<e;o+=1)r+=" ";else typeof e=="string"&&(r=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return u("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),f.lastIndex=0,f.test(n)&&(n=n.replace(f,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}(),function(){function r(t){var u,r;i!=null?t(i):f?t(null):n==null?(n=[t],u=setInterval(function(){var n=o();n!=null&&r(n)},50),setTimeout(function(){i==null&&r(null)},3e4),r=function(t){i=t;f=t==null;clearInterval(u);for(var r=0;r!=n.length;r++)n[r](t)}):n.push(t)}function o(){var n="",i,t,r;if(n+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="10" height="10" style="$style$" id="$id$">',n+='\t<param name="movie" value="$src$" />',n+='\t<param name="allowNetworking" value="all" />',n+='\t<param name="allowScriptAccess" value="always" />',n+="\t<!--[if !IE]>-->",n+='\t<object type="application/x-shockwave-flash" data="$src$" width="10" height="10" style="$style$">',n+='\t\t<param name="allowNetworking" value="all" />',n+='\t\t<param name="allowScriptAccess" value="always" />',n+="\t<\/object>",n+="\t<!--<![endif]-->",n+="<\/object>",n=n.replace(/\$id\$/gi,"__pio_flashfallback__"),n=n.replace(/\$src\$/gi,e),n=n.replace(/\$style\$/gi,"width:10px;height:10px"),i=document.getElementById("containerId"),!i){t=document.createElement("div");t.setAttribute("id",i);t.setAttribute("style","position:absolute;top:-20px;left:-20px");t.innerHTML=n;try{document.body.appendChild(t)}catch(u){}}return r=function(n){for(var i=document.getElementsByTagName(n),t=0;t!=i.length;t++)if(i[t].ping&&i[t].ping()=="pong")return i[t]},r("embed")||r("object")}var t={},u=0,e="http://192.168.30.154/html5client/FlashFallback/bin-debug/FlashFallback.swf";__pio_flashfallback_callback__=function(){var r=t[arguments[0]],i,n;if(r){for(i=[],n=1;n!=arguments.length;n++)i[n-1]=arguments[n];r.apply(null,i)}};_pio.flashWebRequest=function(n,i){var f=this;this.response=null;this.onload=function(){};this.onerror=function(){};this.send=function(e){r(function(r){if(r==null)f.onerror("Browser does not support Cross-Origin (CORS) webrequest or Flash as a fallback method");else{var o="cb"+u++;t[o]=function(n,i){if(delete t[o],n)f.response=i,f.onload();else f.onerror(i)};r.webrequest(o,n,i,e)}})}};_pio.flashSocketConnection=function(n,i,f,e,o){var s="cb"+u++,c=this,a=new _pio.messageSerializer,h=!1,l=!1,v=setTimeout(function(){h||(h=!0,f(!1,"Connect attempt timed out"))},i);this.disconnect=function(){console.log("... this shouldn't happen")};this.sendMessage=function(){console.log("... send msg. this shouldn't happen")};r(function(i){i==null?(h=!0,f(!1,"Browser does not support WebSocket connections and the Flash fallback failed.")):(t[s]=function(n,t){switch(n){case"onopen":h||(clearTimeout(v),h=!0,l=!0,i.socketSend(s,[0]),f(l));break;case"onclose":c.disconnect();break;case"onerror":c.disconnect();break;case"onmessage":o(a.deserializeMessage(t,0,t.length))}},c.disconnect=function(){if(l){l=!1;e();try{i.socketClose(s)}catch(n){_pio.debugLog(n)}}},c.sendMessage=function(n){var t=a.serializeMessage(n);i.socketSend(s,t)},i.socketConnection(s,n))})};_pio.isFlashFallbackEnabled=function(n){r(function(t){n(t!=null)})};var i=null,f=!1,n=null}(),function(){var n=_pio.channel.prototype;n.connect=function(n,t,i,r,u,f,e,o,s,h,c){this.call(10,{gameid:n,connectionid:t,userid:i,auth:r,partnerid:u,playerinsightsegments:f,clientapi:e,clientinfo:o},s,h,c)};_pio.ApiSecurityRule={RespectClientSetting:0,UseHttp:1,UseHttps:2};n.authenticate=function(n,t,i,r,u,f,e,o,s,h){this.call(13,{gameid:n,connectionid:t,authenticationarguments:i,playerinsightsegments:r,clientapi:u,clientinfo:f,playcodes:e},o,s,h)};n.createRoom=function(n,t,i,r,u,f,e,o){this.call(21,{roomid:n,roomtype:t,visible:i,roomdata:r,isdevroom:u},f,e,o)};n.joinRoom=function(n,t,i,r,u,f,e){this.call(24,{roomid:n,joindata:t,isdevroom:i,serverdomainnameneeded:r},u,f,e)};n.createJoinRoom=function(n,t,i,r,u,f,e,o,s,h){this.call(27,{roomid:n,roomtype:t,visible:i,roomdata:r,joindata:u,isdevroom:f,serverdomainnameneeded:e},o,s,h)};n.listRooms=function(n,t,i,r,u,f,e,o){this.call(30,{roomtype:n,searchcriteria:t,resultlimit:i,resultoffset:r,onlydevrooms:u},f,e,o)};n.userLeftRoom=function(n,t,i,r,u,f){this.call(40,{extendedroomid:n,newplayercount:t,closed:i},r,u,f)};n.writeError=function(n,t,i,r,u,f,e,o){this.call(50,{source:n,error:t,details:i,stacktrace:r,extradata:u},f,e,o)};n.updateRoom=function(n,t,i,r,u,f){this.call(53,{extendedroomid:n,visible:t,roomdata:i},r,u,f)};_pio.ValueType={String:0,Int:1,UInt:2,Long:3,Bool:4,Float:5,Double:6,ByteArray:7,DateTime:8,Array:9,Obj:10};n.createObjects=function(n,t,i,r,u){this.call(82,{objects:n,loadexisting:t},i,r,u)};n.loadObjects=function(n,t,i,r){this.call(85,{objectids:n},t,i,r)};_pio.LockType={NoLocks:0,LockIndividual:1,LockAll:2};n.saveObjectChanges=function(n,t,i,r,u,f){this.call(88,{locktype:n,changesets:t,createifmissing:i},r,u,f)};n.deleteObjects=function(n,t,i,r){this.call(91,{objectids:n},t,i,r)};n.loadMatchingObjects=function(n,t,i,r,u,f,e){this.call(94,{table:n,index:t,indexvalue:i,limit:r},u,f,e)};n.loadIndexRange=function(n,t,i,r,u,f,e,o){this.call(97,{table:n,index:t,startindexvalue:i,stopindexvalue:r,limit:u},f,e,o)};n.deleteIndexRange=function(n,t,i,r,u,f,e){this.call(100,{table:n,index:t,startindexvalue:i,stopindexvalue:r},u,f,e)};n.loadMyPlayerObject=function(n,t,i){this.call(103,{},n,t,i)};n.payVaultReadHistory=function(n,t,i,r,u,f){this.call(160,{page:n,pagesize:t,targetuserid:i},r,u,f)};n.payVaultRefresh=function(n,t,i,r,u){this.call(163,{lastversion:n,targetuserid:t},i,r,u)};n.payVaultConsume=function(n,t,i,r,u){this.call(166,{ids:n,targetuserid:t},i,r,u)};n.payVaultCredit=function(n,t,i,r,u,f){this.call(169,{amount:n,reason:t,targetuserid:i},r,u,f)};n.payVaultDebit=function(n,t,i,r,u,f){this.call(172,{amount:n,reason:t,targetuserid:i},r,u,f)};n.payVaultBuy=function(n,t,i,r,u,f){this.call(175,{items:n,storeitems:t,targetuserid:i},r,u,f)};n.payVaultGive=function(n,t,i,r,u){this.call(178,{items:n,targetuserid:t},i,r,u)};n.payVaultPaymentInfo=function(n,t,i,r,u,f){this.call(181,{provider:n,purchasearguments:t,items:i},r,u,f)};n.payVaultUsePaymentInfo=function(n,t,i,r,u){this.call(184,{provider:n,providerarguments:t},i,r,u)};n.partnerPayTrigger=function(n,t,i,r,u){this.call(200,{key:n,count:t},i,r,u)};n.partnerPaySetTag=function(n,t,i,r){this.call(203,{partnerid:n},t,i,r)};n.notificationsRefresh=function(n,t,i,r){this.call(213,{lastversion:n},t,i,r)};n.notificationsRegisterEndpoints=function(n,t,i,r,u){this.call(216,{lastversion:n,endpoints:t},i,r,u)};n.notificationsSend=function(n,t,i,r){this.call(219,{notifications:n},t,i,r)};n.notificationsToggleEndpoints=function(n,t,i,r,u,f){this.call(222,{lastversion:n,endpoints:t,enabled:i},r,u,f)};n.notificationsDeleteEndpoints=function(n,t,i,r,u){this.call(225,{lastversion:n,endpoints:t},i,r,u)};n.gameRequestsSend=function(n,t,i,r,u,f){this.call(241,{requesttype:n,requestdata:t,requestrecipients:i},r,u,f)};n.gameRequestsRefresh=function(n,t,i,r){this.call(244,{playcodes:n},t,i,r)};n.gameRequestsDelete=function(n,t,i,r){this.call(247,{requestids:n},t,i,r)};n.achievementsRefresh=function(n,t,i,r){this.call(271,{lastversion:n},t,i,r)};n.achievementsLoad=function(n,t,i,r){this.call(274,{userids:n},t,i,r)};n.achievementsProgressSet=function(n,t,i,r,u){this.call(277,{achievementid:n,progress:t},i,r,u)};n.achievementsProgressAdd=function(n,t,i,r,u){this.call(280,{achievementid:n,progressdelta:t},i,r,u)};n.achievementsProgressMax=function(n,t,i,r,u){this.call(283,{achievementid:n,progress:t},i,r,u)};n.achievementsProgressComplete=function(n,t,i,r){this.call(286,{achievementid:n},t,i,r)};n.playerInsightRefresh=function(n,t,i){this.call(301,{},n,t,i)};n.playerInsightSetSegments=function(n,t,i,r){this.call(304,{segments:n},t,i,r)};n.playerInsightTrackInvitedBy=function(n,t,i,r,u){this.call(307,{invitinguserid:n,invitationchannel:t},i,r,u)};n.playerInsightTrackEvents=function(n,t,i,r){this.call(311,{events:n},t,i,r)};n.playerInsightTrackExternalPayment=function(n,t,i,r,u){this.call(314,{currency:n,amount:t},i,r,u)};n.playerInsightSessionKeepAlive=function(n,t,i){this.call(317,{},n,t,i)};n.playerInsightSessionStop=function(n,t,i){this.call(320,{},n,t,i)};n.oneScoreLoad=function(n,t,i,r){this.call(351,{userids:n},t,i,r)};n.oneScoreSet=function(n,t,i,r){this.call(354,{score:n},t,i,r)};n.oneScoreAdd=function(n,t,i,r){this.call(357,{score:n},t,i,r)};n.oneScoreRefresh=function(n,t,i){this.call(360,{},n,t,i)};n.simpleConnect=function(n,t,i,r,u,f,e,o,s){this.call(400,{gameid:n,usernameoremail:t,password:i,playerinsightsegments:r,clientapi:u,clientinfo:f},e,o,s)};n.simpleRegister=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){this.call(403,{gameid:n,username:t,password:i,email:r,captchakey:u,captchavalue:f,extradata:e,partnerid:o,playerinsightsegments:s,clientapi:h,clientinfo:c},l,a,v)};n.simpleRecoverPassword=function(n,t,i,r,u){this.call(406,{gameid:n,usernameoremail:t},i,r,u)};n.kongregateConnect=function(n,t,i,r,u,f,e,o,s){this.call(412,{gameid:n,userid:t,gameauthtoken:i,playerinsightsegments:r,clientapi:u,clientinfo:f},e,o,s)};n.simpleGetCaptcha=function(n,t,i,r,u,f){this.call(415,{gameid:n,width:t,height:i},r,u,f)};n.facebookOAuthConnect=function(n,t,i,r,u,f,e,o,s){this.call(418,{gameid:n,accesstoken:t,partnerid:i,playerinsightsegments:r,clientapi:u,clientinfo:f},e,o,s)};n.steamConnect=function(n,t,i,r,u,f,e,o,s){this.call(421,{gameid:n,steamappid:t,steamsessionticket:i,playerinsightsegments:r,clientapi:u,clientinfo:f},e,o,s)};n.simpleUserGetSecureLoginInfo=function(n,t,i){this.call(424,{},n,t,i)};n.leaderboardsGet=function(n,t,i,r,u,f,e,o,s){this.call(431,{group:n,leaderboard:t,index:i,count:r,neighbouruserid:u,filteruserids:f},e,o,s)};n.leaderboardsSet=function(n,t,i,r,u,f){this.call(434,{group:n,leaderboard:t,score:i},r,u,f)};n.leaderboardsCount=function(n,t,i,r,u){this.call(437,{group:n,leaderboard:t},i,r,u)};n.joinCluster=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){this.call(504,{clusteraccesskey:n,isdevelopmentserver:t,ports:i,machinename:r,version:u,machineid:f,os:e,cpu:o,cpucores:s,cpulogicalcores:h,cpuaddresswidth:c,cpumaxclockspeed:l,rammegabytes:a,ramspeed:v},y,p,w)};n.serverHeartbeat=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){this.call(510,{serverid:n,appdomains:t,servertypes:i,machinecpu:r,processcpu:u,memoryusage:f,avaliablememory:e,freememory:o,runningrooms:s,usedresources:h,apirequests:c,apirequestserror:l,apirequestsfailed:a,apirequestsexecuting:v,apirequestsqueued:y,apirequeststime:p,serverunixtimeutc:w},b,k,d)};n.getGameAssemblyUrl=function(n,t,i,r,u,f){this.call(513,{clusteraccesskey:n,gamecodeid:t,machineid:i},r,u,f)};n.devServerLogin=function(n,t,i,r,u){this.call(524,{username:n,password:t},i,r,u)};n.webserviceOnlineTest=function(n,t,i){this.call(533,{},n,t,i)};n.getServerInfo=function(n,t,i,r){this.call(540,{machineid:n},t,i,r)};n.socialRefresh=function(n,t,i){this.call(601,{},n,t,i)};n.socialLoadProfiles=function(n,t,i,r){this.call(604,{userids:n},t,i,r)}}();PlayerIOError=function(n,t,i){if(this.code=n,this.message=t,this.stack=i,!this.stack){var r=new Error;this.stack=r.stack||r.stacktrace||r.StackTrace}this.toString=function(){return"PlayerIOError["+n+"]: "+t}};PlayerIOError.prototype=new Error;PlayerIOErrorCode={UnsupportedMethod:"UnsupportedMethod",GeneralError:"GeneralError",InternalError:"InternalError",AccessDenied:"AccessDenied",InvalidMessageFormat:"InvalidMessageFormat",MissingValue:"MissingValue",GameRequired:"GameRequired",ExternalError:"ExternalError",ArgumentOutOfRange:"ArgumentOutOfRange",GameDisabled:"GameDisabled",UnknownGame:"UnknownGame",UnknownConnection:"UnknownConnection",InvalidAuth:"InvalidAuth",NoServersAvailable:"NoServersAvailable",RoomDataTooLarge:"RoomDataTooLarge",RoomAlreadyExists:"RoomAlreadyExists",UnknownRoomType:"UnknownRoomType",UnknownRoom:"UnknownRoom",MissingRoomId:"MissingRoomId",RoomIsFull:"RoomIsFull",NotASearchColumn:"NotASearchColumn",QuickConnectMethodNotEnabled:"QuickConnectMethodNotEnabled",UnknownUser:"UnknownUser",InvalidPassword:"InvalidPassword",InvalidRegistrationData:"InvalidRegistrationData",InvalidBigDBKey:"InvalidBigDBKey",BigDBObjectTooLarge:"BigDBObjectTooLarge",BigDBObjectDoesNotExist:"BigDBObjectDoesNotExist",UnknownTable:"UnknownTable",UnknownIndex:"UnknownIndex",InvalidIndexValue:"InvalidIndexValue",NotObjectCreator:"NotObjectCreator",KeyAlreadyUsed:"KeyAlreadyUsed",StaleVersion:"StaleVersion",CircularReference:"CircularReference",HeartbeatFailed:"HeartbeatFailed",InvalidGameCode:"InvalidGameCode",VaultNotLoaded:"VaultNotLoaded",UnknownPayVaultProvider:"UnknownPayVaultProvider",DirectPurchaseNotSupportedByProvider:"DirectPurchaseNotSupportedByProvider",BuyingCoinsNotSupportedByProvider:"BuyingCoinsNotSupportedByProvider",NotEnoughCoins:"NotEnoughCoins",ItemNotInVault:"ItemNotInVault",InvalidPurchaseArguments:"InvalidPurchaseArguments",InvalidPayVaultProviderSetup:"InvalidPayVaultProviderSetup",UnknownPartnerPayAction:"UnknownPartnerPayAction",InvalidType:"InvalidType",IndexOutOfBounds:"IndexOutOfBounds",InvalidIdentifier:"InvalidIdentifier",InvalidArgument:"InvalidArgument",LoggedOut:"LoggedOut",InvalidSegment:"InvalidSegment",GameRequestsNotLoaded:"GameRequestsNotLoaded",AchievementsNotLoaded:"AchievementsNotLoaded",UnknownAchievement:"UnknownAchievement",NotificationsNotLoaded:"NotificationsNotLoaded",InvalidNotificationsEndpoint:"InvalidNotificationsEndpoint",NetworkIssue:"NetworkIssue",OneScoreNotLoaded:"OneScoreNotLoaded",PublishingNetworkNotAvailable:"PublishingNetworkNotAvailable",PublishingNetworkNotLoaded:"PublishingNetworkNotLoaded",DialogClosed:"DialogClosed",AdTrackCheckCookie:"AdTrackCheckCookie",codes:{0:"UnsupportedMethod",1:"GeneralError",2:"InternalError",3:"AccessDenied",4:"InvalidMessageFormat",5:"MissingValue",6:"GameRequired",7:"ExternalError",8:"ArgumentOutOfRange",9:"GameDisabled",10:"UnknownGame",11:"UnknownConnection",12:"InvalidAuth",13:"NoServersAvailable",14:"RoomDataTooLarge",15:"RoomAlreadyExists",16:"UnknownRoomType",17:"UnknownRoom",18:"MissingRoomId",19:"RoomIsFull",20:"NotASearchColumn",21:"QuickConnectMethodNotEnabled",22:"UnknownUser",23:"InvalidPassword",24:"InvalidRegistrationData",25:"InvalidBigDBKey",26:"BigDBObjectTooLarge",27:"BigDBObjectDoesNotExist",28:"UnknownTable",29:"UnknownIndex",30:"InvalidIndexValue",31:"NotObjectCreator",32:"KeyAlreadyUsed",33:"StaleVersion",34:"CircularReference",40:"HeartbeatFailed",41:"InvalidGameCode",50:"VaultNotLoaded",51:"UnknownPayVaultProvider",52:"DirectPurchaseNotSupportedByProvider",54:"BuyingCoinsNotSupportedByProvider",55:"NotEnoughCoins",56:"ItemNotInVault",57:"InvalidPurchaseArguments",58:"InvalidPayVaultProviderSetup",70:"UnknownPartnerPayAction",80:"InvalidType",81:"IndexOutOfBounds",82:"InvalidIdentifier",83:"InvalidArgument",84:"LoggedOut",90:"InvalidSegment",100:"GameRequestsNotLoaded",110:"AchievementsNotLoaded",111:"UnknownAchievement",120:"NotificationsNotLoaded",121:"InvalidNotificationsEndpoint",130:"NetworkIssue",131:"OneScoreNotLoaded",200:"PublishingNetworkNotAvailable",201:"PublishingNetworkNotLoaded",301:"DialogClosed",302:"AdTrackCheckCookie"}},function(){_pio.client=function(n,t,i,r){this.connectUserId=r;this.gameId=t;this.gameFS=new _pio.gameFS(t,i);this.errorLog=new _pio.errorLog(n);this.payVault=new _pio.payVault(n);this.bigDB=new _pio.bigDB(n);this.multiplayer=new _pio.multiplayer(n);this.gameRequests=new _pio.gameRequests(n);this.achievements=new _pio.achievements(n);this.playerInsight=new _pio.playerInsight(n);this.oneScore=new _pio.oneScore(n);this.leaderboards=new _pio.leaderboards(n,this.connectUserId);this.notifications=new _pio.notifications(n);this.publishingNetwork=new _pio.publishingNetwork(n,this.connectUserId)}}(),function(){var n={};_pio.gameFS=function(t,i){var r,e,u,f;if(typeof i=="string"&&i.length>0&&(r=(i||"").split("|"),r.length>=1))for(e=n[t.toLowerCase()]={},u=0;u!=r.length;u++)f=r[u],f=="alltoredirect"||f=="cdnmap"?e.baseUrl=r[u+1]:f=="alltoredirectsecure"||f=="cdnmapsecure"?e.secureBaseUrl=r[u+1]:e["."+f]=r[u+1];this.getUrl=function(i,r){if(!i[0]=="/")throw _pio.error("The path given to getUrl must start with a slash, like: '/myfile.swf' or '/folder/file.jpg'");var u=n[t];return u?(r?u.secureBaseUrl:u.baseUrl)+(u["."+i]||i):(r?"https":"http")+"://r.playerio.com/r/"+t+i}}}(),function(){_pio.gameRequests=function(n){function i(n){var r,i,t;if(n==null||n.length==0)return[];for(r=[],i=0;i!=n.length;i++)t=n[i],r.push(new _pio.gameRequest(t.id,t.type,t.senderuserid,t.created,t.data));return r}var r=[],t;this.waitingRequests="[ERROR: You tried to access gameRequests.waitingRequests before loading waiting requests. You have to call the refresh method first.]";t=this;this.send=function(t,i,r,u,f){n.gameRequestsSend(t,_pio.convertToKVArray(i),r,u,f,function(){})};this.refresh=function(u,f){n.gameRequestsRefresh(r,u,f,function(n){t._playCodes=n.newplaycodes;t.waitingRequests=i(n.requests);var r=n.morerequestswaiting})};this.delete=function(r,u,f){var s,o,h,e;if(typeof r!="object"&&!r.length){e=_pio.error("The first argument to delete should be an array: client.gameRequests.delete([requests], ...)");_pio.handleError(e,f,e.code,e.message);return}for(s=[],o=0;o!=r.length;o++)if(h=r[o].id,h)s.push(h);else{e=_pio.error("No GameRequest id found on item#"+o+". You have to use requests from the gameRequests.waitingRequests array. For instance: client.gameRequests.delete(client.gameRequests.waitingRequests, ...)");_pio.handleError(e,f,e.code,e.message);return}n.gameRequestsDelete(s,u,f,function(n){t.waitingRequests=i(n.requests);var r=n.morerequestswaiting})}};_pio.gameRequest=function(n,t,i,r,u){this.id=n;this.type=t;this.senderUserId=i;this.created=new Date(r);this.data=_pio.convertFromKVArray(u)}}(),function(){_pio.errorLog=function(n){this.writeError=function(t,i,r,u){n.writeError("Javascript",t,i,r,_pio.convertToKVArray(u))}}}(),function(){_pio.quickConnect=function(){this.simpleGetCaptcha=function(n,t,i,r,u){var f=new _pio.channel;f.simpleGetCaptcha(n,t,i,r,u,function(n){return new _pio.simpleGetCaptchaOutput(n.captchakey,n.captchaimageurl)})};this.simpleRecoverPassword=function(n,t,i,r){var u=new _pio.channel;u.simpleRecoverPassword(n,t,i,r,function(){})}};_pio.simpleGetCaptchaOutput=function(n,t){this.captchaKey=n;this.captchaImageUrl=t};PlayerIO.quickConnect=new _pio.quickConnect}(),function(){_pio.payVault=function(n){function t(n){var t,u,f;if(n!=null&&(i=n.version,r.coins=n.coins||0,r.items=[],n.items&&n.items.length))for(t=0;t!=n.items.length;t++)u=n.items[t],f=r.items[t]=new _pio.vaultItem(u.id,u.itemkey,(new Date).setTime(u.purchasedate)),_pio.bigDBDeserialize(u.properties,f,!0)}var i=null,r;this.coins="[ERROR: you tried to access payVault.coins before the vault was loaded. You have to refresh the vault before the .coins property is set to the right value]";this.items="[ERROR: you tried to access payVault.items before the vault was loaded. You have to refresh the vault before the .items property is set to the right value]";this.has=function(n){if(i==null)throw new PlayerIOError(PlayerIOErrorCode.VaultNotLoaded,"Cannot access items before vault has been loaded. Please refresh the vault first");for(var t=0;t!=this.items.length;t++)if(this.items[t].itemKey==n)return!0;return!1};this.first=function(n){if(i==null)throw new PlayerIOError(PlayerIOErrorCode.VaultNotLoaded,"Cannot access items before vault has been loaded. Please refresh the vault first");for(var t=0;t!=this.items.length;t++)if(this.items[t].itemKey==n)return this.items[t];return null};this.count=function(n){var r,t;if(i==null)throw new PlayerIOError(PlayerIOErrorCode.VaultNotLoaded,"Cannot access items before vault has been loaded. Please refresh the vault first");for(r=0,t=0;t!=this.items.length;t++)this.items[t].itemKey==n&&r++;return r};this.refresh=function(r,u){n.payVaultRefresh(i,null,r,u,function(n){t(n.vaultcontents)})};this.readHistory=function(t,i,r,u){n.payVaultReadHistory(t,i,null,r,u,function(n){for(var t,r=[],i=0;i!=n.entries.length;i++)t=n.entries[i],r.push(new _pio.payVaultHistoryEntry(t.type,t.amount,t.timestamp,t.itemkeys||[],t.reason,t.providertransactionid,t.providerprice));return r})};this.credit=function(i,r,u,f){n.payVaultCredit(i,r,null,u,f,function(n){t(n.vaultcontents)})};this.debit=function(i,r,u,f){n.payVaultDebit(i,r,null,u,f,function(n){t(n.vaultcontents)})};this.consume=function(i,r,u){var o,e,s,f;if(typeof i!="object"&&!i.length){f=_pio.error("The first argument to consume should be an array: client.payVault.consume([item], ...)");_pio.handleError(f,u,f.code,f.message);return}for(o=[],e=0;e!=i.length;e++)if(s=i[e].id,s)o.push(s);else{f=_pio.error("No PayVault item id found on item#"+e+". You have to use items from the payVault.items array. For instance: client.payVault.consume([client.payVault.first('sportscar')], ...)");_pio.handleError(f,u,f.code,f.message);return}n.payVaultConsume(o,null,r,u,function(n){t(n.vaultcontents)})};this.buy=function(i,r,u,f){n.payVaultBuy(_pio.convertBuyItems(i),r,null,u,f,function(n){t(n.vaultcontents)})};this.give=function(i,r,u){n.payVaultGive(_pio.convertBuyItems(i),null,r,u,function(n){t(n.vaultcontents)})};this.getBuyCoinsInfo=function(t,i,r,u){n.payVaultPaymentInfo(t,_pio.convertToKVArray(i),null,r,u,function(n){return _pio.convertFromKVArray(n.providerarguments)})};this.getBuyDirectInfo=function(t,i,r,u,f){n.payVaultPaymentInfo(t,_pio.convertToKVArray(i),_pio.convertBuyItems(r),u,f,function(n){return _pio.convertFromKVArray(n.providerarguments)})};r=this};_pio.convertBuyItems=function(n){var r,t,i;if(n==null)return[];for(r=[],t=0;t!=n.length;t++){if(i=n[t].itemkey,!i)throw _pio.error("You have to specify an itemkey for the payvault item. Example:  {itemkey:'car'}");r.push({itemkey:i,payload:_pio.compareForChanges({itemkey:i},n[t],!0,!0)})}return r};_pio.vaultItem=function(n,t,i){this.id=n;this.itemKey=t;this.purchaseDate=i};_pio.payVaultHistoryEntry=function(n,t,i,r,u,f,e){this.type=n;this.amount=t;this.timestamp=(new Date).setTime(i);this.itemKeys=r;this.reason=u;this.providerTransactionId=f;this.providerPrice=e}}(),function(){_pio.bigDB=function(n){function u(){for(var n,e,r,f,u,t=0;t<i.length;t++){n=i[t];e=!0;for(r in n.objects)if(n.objects[r]._internal_("get-is-saving")){e=!1;break}if(e){for(r in n.objects)for(f=t+1;f<i.length;f++)for(futureSave=i[f],u=0;u<futureSave.objects.length;u++)futureSave.objects[u]==n.objects[r]&&futureSave.fullOverwrite==n.fullOverwrite&&futureSave.useOptimisticLock==n.useOptimisticLock&&(n.changesets[r]=futureSave.changesets[u],n.futureSaves.push(futureSave));i.splice(t,1);t--;n.execute()}}}function r(n,t){var r,u,i,f;for(n==null?n=[]:n instanceof Array||(n=[n]),t!=null&&(n=n.concat([t])),r=[],u=0;u!=n.length;u++){i=n[u];switch(typeof i){case"boolean":r.push({valuetype:_pio.ValueType.Bool,bool:i});break;case"string":r.push({valuetype:_pio.ValueType.String,string:i});break;case"number":f=i%1!=0;f?r.push({valuetype:_pio.ValueType.Double,double:i}):i>-2147483648&&i<2147483647?r.push({valuetype:_pio.ValueType.Int,int:i}):i>0&&i<4294967295?r.push({valuetype:_pio.ValueType.UInt,uint:i}):r.push({valuetype:_pio.ValueType.Long,long:i});break;case"object":if(i.getTime&&i.getMilliseconds)r.push({valuetype:_pio.ValueType.DateTime,datetime:i.getTime()});else throw new Error("Don't know how to serialize type '"+typeof i+"' for BigDB");break;default:throw new Error("Don't know how to serialize type '"+typeof i+"' for BigDB");}}return r}var t=this,i=[];this.createObject=function(i,r,u,f,e){var o=_pio.compareForChanges({},u||{},!0,!0);n.createObjects([{key:r,table:i,properties:o}],!1,f,e,function(n){if(n.objects.length==1)return new _pio.databaseobject(t,i,n.objects[0].key,n.objects[0].version,!1,o);throw new PlayerIOError(PlayerIOErrorCode.GeneralError,"Error creating object");})};this.loadMyPlayerObject=function(i,r){n.loadMyPlayerObject(i,r,function(n){return new _pio.databaseobject(t,"PlayerObjects",n.playerobject.key,n.playerobject.version,!0,n.playerobject.properties)})};this.load=function(i,r,u,f){n.loadObjects([{table:i,keys:[r]}],u,f,function(n){if(n.objects.length==1)return n.objects[0]==null?null:new _pio.databaseobject(t,i,n.objects[0].key,n.objects[0].version,!1,n.objects[0].properties);throw new PlayerIOError(PlayerIOErrorCode.GeneralError,"Error loading object");})};this.loadKeys=function(i,r,u,f){n.loadObjects([{table:i,keys:r}],u,f,function(n){for(var r,f=[],u=0;u!=n.objects.length;u++)r=n.objects[u],f[u]=r==null?null:new _pio.databaseobject(t,i,r.key,r.version,!1,r.properties);return f})};this.loadOrCreate=function(i,r,u,f){n.createObjects([{key:r,table:i,properties:[]}],!0,u,f,function(n){if(n.objects.length==1)return new _pio.databaseobject(t,i,n.objects[0].key,n.objects[0].version,!1,n.objects[0].properties);throw new PlayerIOError(PlayerIOErrorCode.GeneralError,"Error creating object");})};this.deleteKeys=function(t,i,r,u){n.deleteObjects([{table:t,keys:i}],r,u,function(){return null})};this.loadKeysOrCreate=function(i,r,u,f){for(var o=[],e=0;e!=r.length;e++)o.push({key:r[e],table:i,properties:[]});n.createObjects(o,!0,u,f,function(n){for(var u,f=[],r=0;r!=n.objects.length;r++)u=n.objects[r],f[r]=new _pio.databaseobject(t,i,u.key,u.version,!1,u.properties);return f})};this.loadSingle=function(i,u,f,e,o){n.loadMatchingObjects(i,u,r(f),1,e,o,function(n){return n.objects.length==0?null:new _pio.databaseobject(t,i,n.objects[0].key,n.objects[0].version,!1,n.objects[0].properties)})};this.loadRange=function(i,u,f,e,o,s,h,c){n.loadIndexRange(i,u,r(f,e),r(f,o),s,h,c,function(n){for(var r,f=[],u=0;u!=n.objects.length;u++)r=n.objects[u],f[u]=r==null?null:new _pio.databaseobject(t,i,r.key,r.version,!1,r.properties);return f})};this.deleteRange=function(t,i,u,f,e,o,s){n.deleteIndexRange(t,i,r(u,f),r(u,e),o,s,function(){})};this.saveChanges=function(t,r,f,e,o){var v=arguments[5]==!0,l=[],a,s,h,c;for(a in f){if(s=f[a],!s.existsInDatabase||!s.key||!s.table||!s._internal_||!s.save){h=_pio.error("You can only save database objects that exist in the database");_pio.handleError(h,o,h.code,h.message);return}c=_pio.compareForChanges(r?{}:s._internal_("get-dbCurrent"),s,!0,!0);(r||c.length>0)&&l.push({key:s._internal_("get-key"),table:s._internal_("get-table"),fulloverwrite:r,onlyifversion:t?s._internal_("get-version"):null,changes:c})}i.push({objects:f,changesets:l,fullOverwrite:r,useOptimisticLock:t,futureSaves:[],setIsSavingOnAll:function(n){for(var t=0;t!=this.objects.length;t++)this.objects[t]._internal_("set-is-saving",n)},done:function(){this.setIsSavingOnAll(!1);u()},execute:function(){var t=this;t.setIsSavingOnAll(!0);t.changesets.length>0?n.saveObjectChanges(_pio.LockType.LockAll,t.changesets,v,e,function(n){t.done();_pio.handleError(n,o,n.code,n.message)},function(n){for(var f,e,u,i,r=0;r!=t.objects.length;r++)for(f=t.objects[r],f._internal_("set-version",n.versions[r]),f._internal_("change-dbCurrent",t.changesets[r].changes),e=0;e!=t.futureSaves.length;e++)for(u=t.futureSaves[e],i=0;i<u.objects.length;i++)u.objects[i]==f&&(u.changesets.splice(i,1),u.objects.splice(i,1),i--);t.done()}):(t.done(),setTimeout(e,1))}});u()}};_pio.databaseobject=function(n,t,i,r,u,f){var e={},o=!1;_pio.bigDBDeserialize(f,e,!0);this.table=t;this.key=i;this.existsInDatabase=!0;this.save=function(t,i,r,f){n.saveChanges(t,i,[this],r,f,u)};this._internal_=function(n,u){switch(n){case"get-table":return t;case"get-key":return i;case"set-is-saving":o=u;case"get-is-saving":return o;case"get-version":return r;case"set-version":r=u;case"get-dbCurrent":return e;case"change-dbCurrent":_pio.bigDBDeserialize(u,e,!0)}};_pio.bigDBDeserialize(f,this,!0)};_pio.compareForChanges=function(n,t,i,r){var o=[],u,s,e,l,a,h,c,v;for(var f in t){u=t[f];s=n?n[f]:null;switch(f){case"table":if(r)continue;case"key":if(r)continue;case"save":if(r)continue;case"existsInDatabase":if(r)continue;case"_internal_":if(r)continue;case"_circular_reference_finder_":continue}if(u!=null){e=i?{name:f}:{index:parseInt(f)};switch(typeof u){case"boolean":u!=s&&(e.value={valuetype:_pio.ValueType.Bool,bool:u},o.push(e));break;case"number":u!=s&&(e.value=isFinite(u)&&Math.floor(u)===u?u>=-2147483648&&u<=2147483647?{valuetype:_pio.ValueType.Int,int:u}:u>0&&u<=4294967295?{valuetype:_pio.ValueType.UInt,uint:u}:u>=-9223372036854775000&&u<=9223372036854775000?{valuetype:_pio.ValueType.Long,long:u}:u>0&&u<=18446744073709550000?{valuetype:_pio.ValueType.ULong,ulong:u}:{valuetype:_pio.ValueType.Double,double:u}:{valuetype:_pio.ValueType.Double,double:u},o.push(e));break;case"string":u!=s&&(e.value={valuetype:_pio.ValueType.String,string:u},o.push(e));break;case"object":if(u.getTime&&u.getMilliseconds)u+""!=s+""&&(e.value={valuetype:_pio.ValueType.DateTime,datetime:u.getTime()},o.push(e));else{if(u._circular_reference_finder_)throw new PlayerIOError(PlayerIOErrorCode.CircularReference,"The object you're trying to save contains a circular reference for "+(i?"a property named":"the array entry")+"): "+f);else u._circular_reference_finder_=!0;if(l=u instanceof Array,l&&u.bytearray){for(a=new Array(u.length),h=0;h!=a.length;h++)if(c=u[h],c>=0&&c<=255)a[h]=c;else throw new PlayerIOError(PlayerIOErrorCode.GeneralError,"The bytearray property '"+f+"' was supposed to only contain byte (0-255) values, but contained the value: "+c);e.value={valuetype:_pio.ValueType.ByteArray,bytearray:a}}else v=_pio.compareForChanges(s,u,!l,!1),e.value=l?{valuetype:_pio.ValueType.Array,arrayproperties:v}:{valuetype:_pio.ValueType.Obj,objectproperties:v};o.push(e);delete u._circular_reference_finder_}break;case"undefined":break;case"function":break;default:throw new Error("Don't know how to serialize type '"+typeof u+"' for BigDB");}}}for(f in n)(t[f]==null||typeof t[f]=="undefined")&&o.push(i?{name:f}:{index:parseInt(f)});return o};_pio.bigDBDeserialize=function(n,t,i){var s,e,o;for(s in n){var f=n[s],r=i?f.name:f.index||0,u=f.value;if(u)switch(u.valuetype||0){case _pio.ValueType.String:t[r]=u.string||"";break;case _pio.ValueType.Int:t[r]=u.int||0;break;case _pio.ValueType.UInt:t[r]=u.uint||0;break;case _pio.ValueType.Long:t[r]=u.long||0;break;case _pio.ValueType.Bool:t[r]=u.bool||0;break;case _pio.ValueType.Float:t[r]=u.float||0;break;case _pio.ValueType.Double:t[r]=u.double||0;break;case _pio.ValueType.ByteArray:t[r]=u.bytearray;t[r].bytearray=!0;break;case _pio.ValueType.DateTime:t[r]=new Date(u.datetime||0);break;case _pio.ValueType.Array:e=t[r]instanceof Array?t[r]:[];_pio.bigDBDeserialize(u.arrayproperties,e,!1);t[r]=e;break;case _pio.ValueType.Obj:o=typeof t[r]=="object"?t[r]:{};_pio.bigDBDeserialize(u.objectproperties,o,!0);t[r]=o}else delete t[r]}}}(),function(){var r=0,u=1,f=2,e=3,o=4,s=5,h=6,c=7,l=8,n,t,i;for(_pio.multiplayer=function(n){var t=this;this.developmentServer=null;this.useSecureConnections=!1;this.createRoom=function(i,r,u,f,e,o){n.createRoom(i,r,u,_pio.convertToKVArray(f),t.developmentServer!=null,e,o,function(n){return n.roomid})};this.joinRoom=function(i,r,u,f){clearTimeout(setTimeout(function(){u(new _pio.connection)},1e4));var e=new Error;n.joinRoom(i,_pio.convertToKVArray(r),t.developmentServer!=null,t.useSecureConnections,function(){},f,function(n){return new _pio.connection(e,t.developmentServer,t.useSecureConnections,n.endpoints,n.joinkey,r||{},u,f)})};this.createJoinRoom=function(i,r,u,f,e,o,s){clearTimeout(setTimeout(function(){o(new _pio.connection)},1e4));var h=new Error;n.createJoinRoom(i,r,u,_pio.convertToKVArray(f),_pio.convertToKVArray(e),t.developmentServer!=null,t.useSecureConnections,function(){},s,function(n){return new _pio.connection(h,t.developmentServer,t.useSecureConnections,n.endpoints,n.joinkey,e||{},o,s)})};this.listRooms=function(i,r,u,f,e,o){n.listRooms(i,_pio.convertToKVArray(r),u,f,t.developmentServer!=null,e,o,function(n){var r=[],i,t;if(n.rooms&&n.rooms.length>0)for(i=0;i!=n.rooms.length;i++)t=n.rooms[i],r.push(new _pio.roomInfo(t.id,t.roomtype,t.onlineusers,_pio.convertFromKVArray(t.roomdata)));return r})}},_pio.websocketConnection=function(n,t,i,r,u,f,e){var l=this,h=!1,c=new _pio.messageSerializer,s=!1,o=null,a=(t?"wss://":"ws://")+i+"/",v;try{o=typeof MozWebSocket!="undefined"?new MozWebSocket(a):new WebSocket(a)}catch(y){u(!1,""+y);return}v=setTimeout(function(){h||(h=!0,u(!1,"Connect attempt timed out"))},r);o.onopen=function(){h||(clearTimeout(v),h=!0,s=!0,u(s))};o.onclose=function(){l.disconnect()};o.onerror=function(){l.disconnect()};o.onmessage=function(t){var i,r;s&&(n?(i=new FileReader,i.onloadend=function(){for(var t=new Uint8Array(i.result),r=new Array(t.length),n=0;n!=t.length;n++)r[n]=t[n];e(c.deserializeMessage(r,0,r.length))},i.readAsArrayBuffer(t.data)):(r=_pio.base64decode(t.data),e(c.deserializeMessage(r,0,r.length))))};this.disconnect=function(){if(s){s=!1;f();try{o.close()}catch(n){_pio.debugLog(n)}}};this.sendMessage=function(t){var r=c.serializeMessage(t),u,i,f;if(n){for(u=new Uint8Array(r.length),i=0;i<r.length;i++)u[i]=r[i];o.send(u.buffer)}else f=_pio.base64encode(r),o.send(f)}},_pio.connection=function(n,t,i,r,u,f,e,o){function p(c){function p(){var t,r;v.length>0?(t=v[0],v.splice(0,1),r=c(i,t,4e3,function(n,i){var e,o;if(n){if(a=r,s.connected=!0,e=s.createMessage("join"),e.addString(u),f!=null)for(o in f)e.addString(o),e.addString(""+f[o]);s.sendMessage(e)}else _pio.debugLog("Unable to connect to endpoint: "+t+'. reason: "'+i+(v.length>0?'". Trying next endpoint.':'". No more endpoints to try.')),p()},function(){s.connected&&(s.connected=!1,setTimeout(function(){for(var n=0;n!=h.length;n++)_pio.runCallback(h[n].callback,s,h[n].stackSource)},100))},function(t){w?t.type=="playerio.joinresult"?(w=!1,t.getBoolean(0)?_pio.runCallback(e,s,null):_pio.handleError(n,o,t.getInt(1),t.getString(2))):_pio.handleError(n,o,PlayerIOErrorCode.GeneralError,"The expected inital messagetype is: playerio.joinresult, received: "+joinResult.getType()):(b(t.type,t),b("*",t))})):_pio.handleError(n,o,PlayerIOErrorCode.GeneralError,"Could not establish a socket connection to any of the given endpoints for the room")}function b(n,t){var r=l[n],i;if(r)for(i=0;i<r.length;i++)_pio.runCallback(r[i].callback,t,r[i].stackSource)}var v=[],y;if(t)v.push(t);else for(y=0;y!=r.length;y++)v.push(r[y].address+":"+r[y].port);p()}var s=this,w=!0,h=[],l={},b=[],a=null,c=/(WebKit|Firefox|Trident)\/([0-9]+)/gi.exec(navigator.userAgent),v=c&&c.length>=3?c[1]:null,y=c&&c.length>=3?parseInt(c[2]):null,k=window.FileReader&&v=="WebKit"&&y>=535||v=="Firefox"&&y>=11||v=="Trident"&&y>=6;k?p(function(n,t,i,r,u,f){return new _pio.websocketConnection(!0,n,t,i,r,u,f)}):_pio.isFlashFallbackEnabled(function(n){n?p(function(n,t,i,r,u,f){return new _pio.flashSocketConnection(t,i,r,u,f)}):p(function(n,t,i,r,u,f){return new _pio.websocketConnection(!1,n,t,i,r,u,f)})});this.connected=!1;this.addDisconnectCallback=function(n){h.push({callback:n,stackSourc:new Error})};this.addMessageCallback=function(n,t){n==null&&(n="*");var i=l[n];i||(l[n]=i=[]);i.push({callback:t,stackSource:new Error})};this.removeDisconnectCallback=function(n){for(var t=0;t<h.length;t++)h[t].callback==n&&(h.splice(t,1),t--)};this.removeMessageCallback=function(n){var r,i,t;for(r in l)for(i=l[r],t=0;t<i.length;t++)i[t].callback==n&&(i.splice(t,1),t--)};this.createMessage=function(n){for(var i=new _pio.message(n),t=1;t<arguments.length;t++)i.add(arguments[t]);return i};this.send=function(){var n=this.createMessage.apply(this,arguments);this.sendMessage(n)};this.sendMessage=function(n){s.connected?a.sendMessage(n):b.push(n)};this.disconnect=function(){s.connected&&a.disconnect()}},_pio.message=function(n){function i(n,i,r,u){if(n)v.push(i),y.push(r),t.length=v.length;else throw _pio.error("The given value ("+i+") is not "+u);}function a(n,i){if(n>v.length)throw _pio.error("this message ("+t.type+") only has "+v.length+" entries");else{if(y[n]==i)return v[n];throw _pio.error("Value at index:"+n+" is a "+p(y[n])+" and not a "+p(i)+" as requested. The value is: "+v[n]);}}function p(n){var t={};return t[r]="Integer",t[u]="Unsigned Integer",t[f]="Long",t[e]="Unsigned Long",t[o]="Double",t[s]="Float",t[h]="String",t[c]="ByteArray",t[l]="Boolean",t[n]}function w(n){var i=typeof n=="object"&&typeof n.length!="undefined",t;if(i)for(t=0;t!=n.length;t++)if(n[t]>255||n[t]<0){i=!1;break}return i}var t=this,y=[],v=[];this.type=n;this.length=0;this.add=function(){for(var n,i=0;i<arguments.length;i++){n=arguments[i];switch(typeof n){case"string":t.addString(n);break;case"boolean":t.addBoolean(n);break;case"number":if(isFinite(n)&&Math.floor(n)===n)if(n>=-2147483648&&n<=2147483647){t.addInt(n);break}else if(n>0&&n<=4294967295){t.addUInt(n);break}else if(n>=-9223372036854775000&&n<=9223372036854775000){t.addLong(n);break}else if(n>0&&n<=18446744073709550000){t.addULong(n);break}t.addDouble(n);break;case"object":if(w(n)){this.addByteArray(n);break}default:throw _pio.error("The type of the value ("+n+") cannot be inferred");}}};this.addInt=function(n){i(n>=-2147483648&&n<=2147483647,Math.trunc(n),r,"an integer (32bit)")};this.addUInt=function(n){i(n>=0&&n<=4294967295,Math.trunc(n),u,"an unsigned integer (32bit)")};this.addLong=function(n){i(n>=-9223372036854775000&&n<=9223372036854775000,Math.trunc(n),f,"a long (64bit)")};this.addULong=function(n){i(n>=0&&n<=18446744073709550000,n,e,"an unsigned long (64bit)")};this.addBoolean=function(n){i(!0,n?!0:!1,l,"a boolean value")};this.addFloat=function(n){i(!0,Number(n),s,"a floating point value (32bit)")};this.addDouble=function(n){i(!0,Number(n),o,"a double floating point value (64bit)")};this.addByteArray=function(n){i(w(n),n,c,"a bytearray")};this.addString=function(n){i(!0,n+"",h,"a string")};this.getInt=function(n){return a(n,r)};this.getUInt=function(n){return a(n,u)};this.getLong=function(n){return a(n,f)};this.getULong=function(n){return a(n,e)};this.getBoolean=function(n){return a(n,l)};this.getDouble=function(n){return a(n,o)};this.getFloat=function(n){return a(n,s)};this.getByteArray=function(n){return a(n,c)};this.getString=function(n){return a(n,h)};this.toString=function(){for(var t="msg.Type = "+this.type+"",n=0;n!=this.length;n++)t+=", msg["+n+"] = "+v[n]+" ("+p(y[n])+")";return t};this._internal_=function(n){switch(n){case"get-objects":return v;case"get-types":return y}}},_pio.roomInfo=function(n,t,i,r){this.id=n;this.roomType=t;this.onlineUsers=i;this.roomData=r},_pio.byteWriter=function(){this.bytes=[];this.writeByte=function(n){if(n>=0&&n<=255)this.bytes.push(n);else throw new Error("This is not a byte value: "+n);};this.writeBytes=function(n){for(var t=0;t!=n.length;t++)this.writeByte(n[t])};this.writeTagWithLength=function(n,t,i){n>63||n<0?this.writeBottomPatternAndBytes(i,_pio.binaryserializer.bytesFromInt(n)):this.writeByte(t|n)};this.writeBottomPatternAndBytes=function(n,t){var i=0,r;for(t[0]!=0?i=3:t[1]!=0?i=2:t[2]!=0&&(i=1),this.writeByte(n|i),r=t.length-i-1;r!=t.length;r++)this.writeByte(t[r])};this.writeLongPattern=function(n,t,i){for(var u=0,r=0;r!=7;r++)if(i[r]!=0){u=7-r;break}for(u>3?this.writeByte(t|u-4):this.writeByte(n|u),r=i.length-u-1;r!=i.length;r++)this.writeByte(i[r])}},_pio.messageSerializer=function(){var rt=192,ut=60,n=192,t=128,v=64,i=4,y=8,a=12,p=16,w=48,b=52,k=56,d=60,g=3,nt=2,tt=1,it=0;this.serializeMessage=function(rt){var ut=new _pio.byteWriter,ht=ut.length,ot,ft,et,st;for(ut.writeTagWithLength(rt.length,t,i),et=_pio.binaryserializer.bytesFromString(rt.type),ut.writeTagWithLength(et.length,n,a),ut.writeBytes(et),ot=0;ot!=rt.length;ot++){ft=rt._internal_("get-objects")[ot];switch(rt._internal_("get-types")[ot]){case h:et=_pio.binaryserializer.bytesFromString(ft);ut.writeTagWithLength(et.length,n,a);ut.writeBytes(et);break;case r:ut.writeTagWithLength(ft,t,i);break;case u:ut.writeBottomPatternAndBytes(y,_pio.binaryserializer.bytesFromUInt(ft));break;case f:ut.writeLongPattern(w,b,_pio.binaryserializer.bytesFromLong(ft));break;case e:ut.writeLongPattern(k,d,_pio.binaryserializer.bytesFromULong(ft));break;case c:ut.writeTagWithLength(ft.length,v,p);ut.writeBytes(ft);break;case o:ut.writeByte(g);ut.writeBytes(_pio.binaryserializer.bytesFromDouble(ft));break;case s:ut.writeByte(nt);st=_pio.binaryserializer.bytesFromFloat(ft);ut.writeBytes(st);break;case l:ut.writeByte(ft?tt:it)}}return ut.bytes};this.deserializeMessage=function(r,u,f){for(var o=u,et=u+f,s=null,l=0,c,ot;o<et;){var st=o,e=0,ft=0,h=r[o];o++;c=h&rt;c==0&&(c=h&ut,c==0&&(c=h));switch(c){case a:case p:if(e=(h&3)+1,o+e>et)throw new Error("Unexpected: Unfinished message");ot=e;e=_pio.binaryserializer.intFromBytes(r,o,e);o+=ot;break;case n:e=h&63;break;case t:ft=h&63;break;case v:e=h&63;break;case i:case y:case w:case k:e=(h&3)+1;break;case b:case d:e=(h&3)+5;break;case g:e=8;break;case nt:e=4}if(o+e>et)throw new Error("Unexpected: Unfinished message");switch(c){case a:case n:s==null?(s=new _pio.message(_pio.binaryserializer.stringFromBytes(r,o,e)),l++):s.addString(_pio.binaryserializer.stringFromBytes(r,o,e));break;case i:ft=_pio.binaryserializer.intFromBytes(r,o,e);case t:l==0?l=ft:s.addInt(ft);break;case p:case v:s.addByteArray(r.slice(o,o+e));break;case y:s.addUInt(_pio.binaryserializer.uintFromBytes(r,o,e));break;case w:case b:s.addLong(_pio.binaryserializer.longFromBytes(r,o,e));break;case k:case d:s.addULong(_pio.binaryserializer.ulongFromBytes(r,o,e));break;case g:s.addDouble(_pio.binaryserializer.doubleFromBytes(r,o,e));break;case nt:s.addFloat(_pio.binaryserializer.floatFromBytes(r,o,e));break;case tt:s.addBoolean(!0);break;case it:s.addBoolean(!1)}if(o+=e,s!=null&&--l==0)return s}throw new Error("Unexpected: Misaligned message");}},_pio.binaryserializer={pow2:function(n){return n>=0&&n<31?1<<n:this.pow2[n]||(this.pow2[n]=Math.pow(2,n))},_intEncode:function(n,t){var u=new Array(t),i,r;return t==4?u=[n>>>24&255,n>>>16&255,n>>>8&255,n&255]:n>=0?(i=Math.floor(n/this.pow2(32)),r=n-i*this.pow2(32),u=[i>>>24&255,i>>>16&255,i>>>8&255,i&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255]):(i=Math.floor(n/this.pow2(32)),r=n-i*this.pow2(32),i+=this.pow2(32),u=[i>>>24&255,i>>>16&255,i>>>8&255,i&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255]),u},_floatEncode:function(n,t,i){var s=n<0?1:0,r,u,e=~(-1<<i-1),o=1-e,f;for(n<0&&(n=-n),n===0?(r=0,u=0):isNaN(n)?(r=2*e+1,u=1):n===Infinity?(r=2*e+1,u=0):(r=Math.floor(Math.log(n)/Math.LN2),r>=o&&r<=e?(u=Math.floor((n*this.pow2(-r)-1)*this.pow2(t)),r+=e):(u=Math.floor(n/this.pow2(o-t)),r=0)),f=[];t>=8;)f.push(u%256),u=Math.floor(u/256),t-=8;for(r=r<<t|u,i+=t;i>=8;)f.push(r&255),r>>>=8,i-=8;return f.push(s<<i|r),f.reverse(),f},bytesFromString:function(n){for(var u,i,r=[],t=0;t<n.length;t++)if(n.charCodeAt(t)<=127)r.push(n.charCodeAt(t));else for(u=encodeURIComponent(n.charAt(t)).substr(1).split("%"),i=0;i<u.length;i++)r.push(parseInt(u[i],16));return r},bytesFromInt:function(n){return this._intEncode(n,4)},bytesFromUInt:function(n){return this._intEncode(n,4)},bytesFromLong:function(n){return this._intEncode(n,8)},bytesFromULong:function(n){return this._intEncode(n,8)},bytesFromFloat:function(n){return this._floatEncode(n,23,8)},bytesFromDouble:function(n){return this._floatEncode(n,52,11)},_intDecode:function(n,t,i,r,u){for(var f,c=t+i-1,s=u&&i==r&&n[t]&128,o=0,h=1,e=0;e<i;e++)f=n[c-e],s&&(f=(f^255)+h,h=f>>8,f=f&255),o+=f*this.pow2(e*8);return s?-o:o},_float32Decode:function(n,t){var i=n.slice(t,t+4).reverse(),r=1-2*(i[3]>>7),u=(i[3]<<1&255|i[2]>>7)-127,f=(i[2]&127)<<16|i[1]<<8|i[0];return u===128?f!==0?NaN:r*Infinity:u===-127?r*f*this.pow2(-149):r*(1+f*this.pow2(-23))*this.pow2(u)},_float64Decode:function(n,t){var i=n.slice(t,t+8).reverse(),r=1-2*(i[7]>>7),u=((i[7]<<1&255)<<3|i[6]>>4)-1023,f=(i[6]&15)*this.pow2(48)+i[5]*this.pow2(40)+i[4]*this.pow2(32)+i[3]*this.pow2(24)+i[2]*this.pow2(16)+i[1]*this.pow2(8)+i[0];return u===1024?f!==0?NaN:r*Infinity:u===-1023?r*f*this.pow2(-1074):r*(1+f*this.pow2(-52))*this.pow2(u)},stringFromBytes:function(n,t,i){for(var u="",r=t;r<t+i;r++)u+=n[r]<=127?n[r]===37?"%25":String.fromCharCode(n[r]):"%"+n[r].toString(16).toUpperCase();return decodeURIComponent(u)},intFromBytes:function(n,t,i){return this._intDecode(n,t,i,4,!0)},uintFromBytes:function(n,t,i){return this._intDecode(n,t,i,4,!1)},longFromBytes:function(n,t,i){return this._intDecode(n,t,i,8,!0)},ulongFromBytes:function(n,t,i){return this._intDecode(n,t,i,8,!1)},floatFromBytes:function(n,t,i){return i==4?this._float32Decode(n,t):NaN},doubleFromBytes:function(n,t,i){return i==8?this._float64Decode(n,t):NaN}},n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=[],i=0;i!=n.length;i++)t[n.charCodeAt(i)]=i;_pio.base64encode=function(t){for(var r=[],i=0;i<t.length;i++){var o=t[i],u=++i<=t.length?t[i]:NaN,f=++i<=t.length?t[i]:NaN,h=o>>2,c=(o&3)<<4|u>>4,s=(u&15)<<2|f>>6,e=f&63;isNaN(u)?s=e=64:isNaN(f)&&(e=64);r.push(n.charAt(h));r.push(n.charAt(c));r.push(n.charAt(s));r.push(n.charAt(e))}return r.join("")};_pio.base64decode=function(n){for(var r=[],i=0;i<n.length;i++){var o=t[n.charCodeAt(i)],f=++i<n.length?t[n.charCodeAt(i)]:64,u=++i<n.length?t[n.charCodeAt(i)]:64,e=++i<n.length?t[n.charCodeAt(i)]:64,s=o<<2|f>>4,h=(f&15)<<4|u>>2,c=(u&3)<<6|e;r.push(s);u!=64&&(r.push(h),e!=64&&r.push(c))}return r}}(),function(){_pio.achievements=function(n){function i(n,i){var u=new _pio.achievement(n.identifier,n.title,n.description,n.imageurl,n.progress,n.progressgoal,n.lastupdated),r,f;if(typeof t.myAchievements!="string")for(r=0;r<t.myAchievements.length;r++)t.myAchievements[r].id==u.id&&(t.myAchievements[r]=u,t.currentVersion=null);if(i)for(r=0;r<t.onCompleteHandlers.length;r++)f=t.onCompleteHandlers[r],f(u);return u}var r=null,t;this.myAchievements="[ERROR: You tried to access achievements.myAchievements before loading them. You have to call the refresh method first.]";this.onCompleteHandlers=[];t=this;this.addOnComplete=function(n){if(typeof n=="function"&&n.length==1)t.onCompleteHandlers.push(n);else throw new PlayerIOError(PlayerIOErrorCode.InvalidArgument,"Expects argument to be a function that takes an achievement as an argument.");};this.get=function(n){if(typeof t.myAchievements=="string")return null;for(var i=0;i<t.myAchievements.length;i++)if(t.myAchievements[i].id==n)return t.myAchievements[i];return null};this.refresh=function(i,u){n.achievementsRefresh(r,i,u,function(n){var f,u,i;if(r!=n.version)if(r=n.version,n.achievements==null||n.achievements.length==0)t.myAchievements=[];else{for(f=[],u=0;u<n.achievements.length;u++)i=n.achievements[u],f.push(new _pio.achievement(i.identifier,i.title,i.description,i.imageurl,i.progress,i.progressgoal,i.lastupdated));t.myAchievements=f}})};this.load=function(t,i,r){if(typeof t!="object"&&!requests.length){var u=_pio.error("The first argument to load should be an array: client.achievements.load(['user1', 'user2', ...], ...)");_pio.handleError(u,r,u.code,u.message);return}n.achievementsLoad(t,i,r,function(n){var f,i,r,e,u,t;if(n==null||n.length==0)return{};for(f={},i=0;i<n.userachievements.length;i++){for(r=n.userachievements[i],e=[],u=0;u<r.achievements.length;u++)t=r.achievements[u],e.push(new _pio.achievement(t.identifier,t.title,t.description,t.imageurl,t.progress,t.progressgoal,t.lastupdated));f[r.userid]=e}return f})};this.progressSet=function(t,r,u,f){n.achievementsProgressSet(t,r,u,f,function(n){return i(n.achievement,n.completednow)})};this.progressAdd=function(t,r,u,f){n.achievementsProgressAdd(t,r,u,f,function(n){return i(n.achievement,n.completednow)})};this.progressMax=function(t,r,u,f){n.achievementsProgressMax(t,r,u,f,function(n){return i(n.achievement,n.completednow)})};this.progressComplete=function(t,r,u){n.achievementsProgressComplete(t,r,u,function(n){return i(n.achievement,n.completednow)})}};_pio.achievement=function(n,t,i,r,u,f,e){this.id=n;this.title=t;this.description=i;this.imageUrl=r;this.progress=typeof u=="undefined"?0:u;this.progressGoal=f;this.lastUpdated=new Date(e*1e3);this.progressRatio=this.progress/this.progressGoal;this.completed=this.progress==this.progressGoal}}(),function(){_pio.playerInsight=function(n){function i(n){t.playersOnline=n.playersonline==-1?"[ERROR: The current connection does not have the rights required to read the playersonline variable.]":n.playersonline;t.segments=_pio.convertFromKVArray(n.segments)}this.playersOnline="[ERROR: You tried to access playerInsight.playersOnline before loading it. You have to call the refresh method first.]";this.segments={};var t=this;this.refresh=function(t,r){n.playerInsightRefresh(t,r,function(n){i(n.state)})};this.setSegments=function(t,r,u){n.playerInsightSetSegments(_pio.convertToSegmentArray(t),r,u,function(n){i(n.state)})};this.trackInvitedBy=function(t,i,r,u){n.playerInsightTrackInvitedBy(t,i,r,u,function(){})};this.trackEvent=function(t,i,r,u){n.playerInsightTrackEvents([{eventtype:t,value:i}],r,u,function(){})};this.trackExternalPayment=function(t,i,r,u){n.playerInsightTrackExternalPayment(t,i,r,u,function(){})};this.sessionKeepAlive=function(t,i){n.playerInsightSessionKeepAlive(t,i,function(){})}}}(),function(){_pio.leaderboards=function(n,t){this.set=function(t,i,r,u,f){n.leaderboardsSet(t,i,r,u,f,function(n){return new _pio.leaderboardEntry(n.leaderboardentry.userid,n.leaderboardentry.rank,n.leaderboardentry.score)})};this.count=function(t,i,r,u){n.leaderboardsCount(t,i,r,u,function(n){return n.count})};this.getTop=function(t,i,r,u,f,e,o){n.leaderboardsGet(t,i,r,u,null,f,e,o,function(n){var i,t;if(n==null||n.leaderboardentry==null||n.leaderboardentry.length==0)return[];for(i=[],t=0;t<n.leaderboardentry.length;t++)i.push(new _pio.leaderboardEntry(n.leaderboardentry[t].userid,n.leaderboardentry[t].rank,n.leaderboardentry[t].score));return i})};this.getNeighbourhood=function(i,r,u,f,e,o,s){n.leaderboardsGet(i,r,u,f,t,e,o,s,function(n){var i,t;if(n==null||n.leaderboardentry==null||n.leaderboardentry.length==0)return[];for(i=[],t=0;t<n.leaderboardentry.length;t++)i.push(new _pio.leaderboardEntry(n.leaderboardentry[t].userid,n.leaderboardentry[t].rank,n.leaderboardentry[t].score));return i})}};_pio.leaderboardEntry=function(n,t,i){this.userId=n;this.rank=t;this.score=i}}(),function(){_pio.oneScore=function(n){this.percentile="[ERROR: You tried to access oneScore.percentile before loading the OneScore. You have to call the refresh method first.]";this.score="[ERROR: You tried to access oneScore.score before loading the OneScore. You have to call the refresh method first.]";this.topRank="[ERROR: You tried to access oneScore.topRank before loading the OneScore. You have to call the refresh method first.]";var t=this;this.refresh=function(i,r){n.oneScoreRefresh(i,r,function(n){var i=new _pio.oneScoreValue(n.onescore.percentile,n.onescore.score,n.onescore.toprank);t.percentile=i.percentile;t.score=i.score;t.topRank=i.toprank})};this.set=function(i,r,u){n.oneScoreSet(i,r,u,function(n){var i=new _pio.oneScoreValue(n.onescore.percentile,n.onescore.score,n.onescore.toprank);return t.percentile=i.percentile,t.score=i.score,t.topRank=i.toprank,i})};this.add=function(i,r,u){n.oneScoreAdd(i,r,u,function(n){var i=new _pio.oneScoreValue(n.onescore.percentile,n.onescore.score,n.onescore.toprank);return t.percentile=i.percentile,t.score=i.score,t.topRank=i.toprank,i})};this.load=function(t,i,r){if(typeof t!="object"&&!requests.length){var u=_pio.error("The first argument to load should be an array: client.oneScore.load(['user1', 'user2', ...], ...)");_pio.handleError(u,r,u.code,u.message);return}n.oneScoreLoad(t,i,r,function(n){var r,f,u,i;if(n==null||n.onescores==null||n.onescores.length==0)return[];for(r=[],f=0,u=0;u<t.length;u++)i=n.onescores[f],i&&t[u]==i.userid?(r.push(new _pio.oneScoreValue(i.percentile,i.score,i.toprank)),f++):r.push(null);return r})}};_pio.oneScoreValue=function(n,t,i){this.percentile=typeof n=="undefined"?0:n;this.score=typeof t=="undefined"?0:t;this.topRank=typeof i=="undefined"?0:i}}(),function(){_pio.notifications=function(n){function i(n){var f,i,u;if(n.version!=t){if(f=[],n.endpoints)for(i=0;i!=n.endpoints.length;i++)u=n.endpoints[i],f[i]=new _pio.notificationEndpoint(u.type,u.identifier,_pio.convertFromKVArray(u.configuration),u.enabled?!0:!1);t=n.version;r.myEndpoints=f}}function f(n,t){return JSON.stringify(n)==JSON.stringify(t)}function e(n,i){var u,f;if(t!="")for(u=0;u!=r.myEndpoints.length;u++)if(f=r.myEndpoints[u],f.type==n&&f.identifier==i)return f;return null}function u(n){var r=[],i,t;if(n&&n.length>0)for(i=0;i!=n.length;i++)t=n[i],t.type&&t.identifier&&r.push({type:t.type,identifier:t.identifier});return r}this.myEndpoints="[ERROR: You tried to access notifications.myEndpoints before calling refresh.]";var r=this,t="";this.refresh=function(r,u){n.notificationsRefresh(t,r,u,i)};this.registerEndpoint=function(r,u,o,s,h,c){var l=e(r,u);l!=null&&l.enabled==s&&f(l.configuration,o)?h&&h():n.notificationsRegisterEndpoints(t,[{type:r,identifier:u,configuration:_pio.convertToKVArray(o),enabled:s}],h,c,i)};this.toggleEndpoints=function(r,f,e,o){var s=u(r);s.length>0?n.notificationsToggleEndpoints(t,s,f?!0:!1,e,o,i):e&&e()};this.deleteEndpoints=function(r,f,e){var o=u(r);o.length>0?n.notificationsDeleteEndpoints(t,o,f,e,i):f&&f()};this.send=function(t,i,r){for(var u,f,e,s=[],o=0;o!=t.length;o++){u=t[o];f={recipient:u.recipientUserId,endpointtype:u.endpointType,data:{}};((f.recipient+"").length==0||(f.endpointtype+"").length==0)&&console.log("error");for(e in u)e!="recipientUserId"&&e!="endpointType"&&(f.data[e]=u[e]);s[o]=f}s.length>0?n.notificationsSend(s,i,r,null):i&&i()}};_pio.notificationEndpoint=function(n,t,i,r){this.type=n;this.identifier=t;this.configuration=i;this.enabled=r}}(),function(){_pio.publishingNetwork=function(n,t){var i=this;this.profiles=new _pio.publishingNetworkProfiles(n);this.payments=new _pio.publishingNetworkPayments(n);this.relations=new _pio.publishingNetworkRelations(n,t,this);this.userToken="[ERROR: you tried to access publishingNetwork.userToken before calling publishingNetwork.refresh(callback)]";this.refresh=function(t,r){n.socialRefresh(t,r,function(n){var r,u,f,t;for(i.userToken=n.myprofile.usertoken,i.profiles.myProfile=new _pio.publishingNetworkProfile(n.myprofile),typeof _pio.friendLookup=="undefined"&&(_pio.friendLookup={},_pio.blockedLookup={}),r=_pio.friendLookup[i.profiles.myProfile.userId],u=_pio.blockedLookup[i.profiles.myProfile.userId],r||u||(r=_pio.friendLookup[i.profiles.myProfile.userId]={},u=_pio.blockedLookup[i.profiles.myProfile.userId]={}),i.relations.friends=[],t=0;t!=n.friends.length;t++)f=new _pio.publishingNetworkProfile(n.friends[t]),i.relations.friends.push(f),r[f.userId]=!0;for(t=0;t!=n.blocked.length;t++)u[n.blocked[t]]=!0})}};_pio.showDialog=function(n,t,i,r){if(typeof PublishingNetwork=="undefined")throw new PlayerIOError(PlayerIOErrorCode.PublishingNetworkNotAvailable,"PublishingNetwork.js was not found on the current page. You have to include the 'piocdn.com/publishingnetwork.js' on the containing page to show dialogs. See http://playerio.com/documentation/ for more information.");else i.__apitoken__=t.token,window.PublishingNetwork.dialog(n,i,r)}}(),function(){_pio.publishingNetworkPayments=function(n){var t=this;this.showBuyCoinsDialog=function(t,i,r,u){i||(i={});i.coinamount=t;n.payVaultPaymentInfo("publishingnetwork",_pio.convertToKVArray(i),null,function(t){_pio.showDialog("buy",n,t,function(n){n.error?u(new PlayerIOError(PlayerIOErrorCode.GeneralError,n.error)):r(n)})},u,function(n){return _pio.convertFromKVArray(n.providerarguments)})};this.showBuyItemsDialog=function(t,i,r,u){n.payVaultPaymentInfo("publishingnetwork",_pio.convertToKVArray(i||{}),_pio.convertBuyItems(t),function(t){_pio.showDialog("buy",n,t,function(n){n.error?u(new PlayerIOError(PlayerIOErrorCode.GeneralError,n.error)):r(n)})},u,function(n){return _pio.convertFromKVArray(n.providerarguments)})}}}(),function(){_pio.publishingNetworkProfiles=function(n){var t=this;this.myProfile="[ERROR: you tried to access publishingNetworkProfiles.myProfile before calling publishingNetwork.refresh(callback)]";this.showProfile=function(t,i){_pio.showDialog("profile",n,{userId:t},i)};this.loadProfiles=function(t,i,r){n.socialLoadProfiles(t,i,r,function(n){for(var e,r,f,u=[],i=0;i!=t.length;i++)for(e=t[i],u[i]=null,r=0;r!=n.profiles.length;r++)if(f=n.profiles[r],f&&f.userid==e){u[i]=new _pio.publishingNetworkProfile(n.profiles[r]);break}return u})}};_pio.publishingNetworkProfile=function(n){this.userId=n.userid;this.displayName=n.displayname;this.avatarUrl=n.avatarurl;this.lastOnline=new Date(n.lastonline);this.countryCode=n.countrycode}}(),function(){_pio.publishingNetworkRelations=function(n,t,i){var r=this;this.friends="[ERROR: you tried to access publishingNetworkRelations.friends before calling publishingNetwork.refresh(callback)]";this.isFriend=function(n){if(typeof _pio.friendLookup!="undefined"&&typeof _pio.friendLookup[t]!="undefined")return _pio.friendLookup[t][n]||!1;throw new PlayerIOError(PlayerIOErrorCode.PublishingNetworkNotLoaded,"Cannot access profile, friends, ignored before Publishing Network has been loaded. Please refresh Publishing Network first");};this.isBlocked=function(n){if(typeof _pio.blockedLookup!="undefined"&&typeof _pio.blockedLookup[t]!="undefined")return _pio.blockedLookup[t][n]||!1;throw new PlayerIOError(PlayerIOErrorCode.PublishingNetworkNotLoaded,"Cannot access profile, friends, ignored before Publishing Network has been loaded. Please refresh Publishing Network first");};this.showRequestFriendshipDialog=function(t,i){_pio.showDialog("requestfriendship",n,{userId:t},i)};this.showRequestBlockUserDialog=function(t,r){_pio.showDialog("requestblockuser",n,{userId:t},function(){i.refresh(function(){r&&r()},function(){r&&r()})})};this.showFriendsManager=function(t){_pio.showDialog("friendsmanager",n,{},function(n){n.updated?i.refresh(function(){t&&t()},function(){t&&t()}):t&&t()})};this.showBlockedUsersManager=function(t){_pio.showDialog("blockedusersmanager",n,{},function(n){n.updated?i.refresh(function(){t&&t()},function(){t&&t()}):t&&t()})}}}(),function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):function(){var r=n.Base64,i=t();i.noConflict=function(){return n.Base64=r,i};n.Meteor&&(Base64=i);n.Base64=i}()}(typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:this,function(){"use strict";var l="3.7.2",st=l,ht=typeof atob=="function",ct=typeof btoa=="function",t=typeof Buffer=="function",a=typeof TextDecoder=="function"?new TextDecoder:undefined,v=typeof TextEncoder=="function"?new TextEncoder:undefined,r=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),f=function(n){var t={};return n.forEach(function(n,i){return t[n]=i}),t}(r),lt=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,n=String.fromCharCode.bind(String),y=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(n,t){return t===void 0&&(t=function(n){return n}),new Uint8Array(Array.prototype.slice.call(n,0).map(t))},p=function(n){return n.replace(/=/g,"").replace(/[+\/]/g,function(n){return n=="+"?"-":"_"})},w=function(n){return n.replace(/[^A-Za-z0-9\+\/]/g,"")},b=function(n){for(var t,e,o,s,u="",f=n.length%3,i=0;i<n.length;){if((e=n.charCodeAt(i++))>255||(o=n.charCodeAt(i++))>255||(s=n.charCodeAt(i++))>255)throw new TypeError("invalid character found");t=e<<16|o<<8|s;u+=r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[t&63]}return f?u.slice(0,f-3)+"===".substring(f):u},o=ct?function(n){return btoa(n)}:t?function(n){return Buffer.from(n,"binary").toString("base64")}:b,s=t?function(n){return Buffer.from(n).toString("base64")}:function(t){for(var r=4096,u=[],i=0,f=t.length;i<f;i+=r)u.push(n.apply(null,t.subarray(i,i+r)));return o(u.join(""))},e=function(n,t){return t===void 0&&(t=!1),t?p(s(n)):s(n)},at=function(t){var i;return t.length<2?(i=t.charCodeAt(0),i<128?t:i<2048?n(192|i>>>6)+n(128|i&63):n(224|i>>>12&15)+n(128|i>>>6&63)+n(128|i&63)):(i=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320),n(240|i>>>18&7)+n(128|i>>>12&63)+n(128|i>>>6&63)+n(128|i&63))},vt=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,k=function(n){return n.replace(vt,at)},d=t?function(n){return Buffer.from(n,"utf8").toString("base64")}:v?function(n){return s(v.encode(n))}:function(n){return o(k(n))},i=function(n,t){return t===void 0&&(t=!1),t?p(d(n)):d(n)},g=function(n){return i(n,!0)},yt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,pt=function(t){switch(t.length){case 4:var r=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),i=r-65536;return n((i>>>10)+55296)+n((i&1023)+56320);case 3:return n((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return n((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},nt=function(n){return n.replace(yt,pt)},tt=function(t){var i,u,e,o,r;if(t=t.replace(/\s+/g,""),!lt.test(t))throw new TypeError("malformed base64.");for(t+="==".slice(2-(t.length&3)),u="",r=0;r<t.length;)i=f[t.charAt(r++)]<<18|f[t.charAt(r++)]<<12|(e=f[t.charAt(r++)])<<6|(o=f[t.charAt(r++)]),u+=e===64?n(i>>16&255):o===64?n(i>>16&255,i>>8&255):n(i>>16&255,i>>8&255,i&255);return u},h=ht?function(n){return atob(w(n))}:t?function(n){return Buffer.from(n,"base64").toString("binary")}:tt,it=t?function(n){return y(Buffer.from(n,"base64"))}:function(n){return y(h(n),function(n){return n.charCodeAt(0)})},rt=function(n){return it(ut(n))},wt=t?function(n){return Buffer.from(n,"base64").toString("utf8")}:a?function(n){return a.decode(it(n))}:function(n){return nt(h(n))},ut=function(n){return w(n.replace(/[-_]/g,function(n){return n=="-"?"+":"/"}))},c=function(n){return wt(ut(n))},bt=function(n){if(typeof n!="string")return!1;var t=n.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},ft=function(n){return{value:n,enumerable:!1,writable:!0,configurable:!0}},et=function(){var n=function(n,t){return Object.defineProperty(String.prototype,n,ft(t))};n("fromBase64",function(){return c(this)});n("toBase64",function(n){return i(this,n)});n("toBase64URI",function(){return i(this,!0)});n("toBase64URL",function(){return i(this,!0)});n("toUint8Array",function(){return rt(this)})},ot=function(){var n=function(n,t){return Object.defineProperty(Uint8Array.prototype,n,ft(t))};n("toBase64",function(n){return e(this,n)});n("toBase64URI",function(){return e(this,!0)});n("toBase64URL",function(){return e(this,!0)})},kt=function(){et();ot()},u={version:l,VERSION:st,atob:h,atobPolyfill:tt,btoa:o,btoaPolyfill:b,fromBase64:c,toBase64:i,encode:i,encodeURI:g,encodeURL:g,utob:k,btou:nt,decode:c,isValid:bt,fromUint8Array:e,toUint8Array:rt,extendString:et,extendUint8Array:ot,extendBuiltins:kt};return u.Base64={},Object.keys(u).forEach(function(n){return u.Base64[n]=u[n]}),u}),function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("@popperjs/core")):typeof define=="function"&&define.amd?define(["@popperjs/core"],t):(n=n||self,n.tippy=t(n.Popper))}(this,function(n){"use strict";function vi(n){var t=document.createElement("style"),i,r;t.textContent=n;t.setAttribute("data-tippy-stylesheet","");i=document.head;r=document.querySelector("head>style,head>link");r?i.insertBefore(t,r):i.appendChild(t)}function bi(n,t){return{}.hasOwnProperty.call(n,t)}function d(n,t,i){if(Array.isArray(n)){var r=n[t];return r==null?Array.isArray(i)?i[t]:i:r}return n}function g(n,t){var i={}.toString.call(n);return i.indexOf("[object")===0&&i.indexOf(t+"]")>-1}function ct(n,t){return typeof n=="function"?n.apply(void 0,t):n}function lt(n,t){if(t===0)return n;var i;return function(r){clearTimeout(i);i=setTimeout(function(){n(r)},t)}}function nt(n,t){var i=Object.assign({},n);return t.forEach(function(n){delete i[n]}),i}function ki(n){return n.split(/\s+/).filter(Boolean)}function o(n){return[].concat(n)}function at(n,t){n.indexOf(t)===-1&&n.push(t)}function di(n){return n.filter(function(t,i){return n.indexOf(t)===i})}function vt(n){return n.split("-")[0]}function s(n){return[].slice.call(n)}function gi(n){return Object.keys(n).reduce(function(t,i){return n[i]!==undefined&&(t[i]=n[i]),t},{})}function e(){return document.createElement("div")}function l(n){return["Element","Fragment"].some(function(t){return g(n,t)})}function nr(n){return g(n,"NodeList")}function tt(n){return g(n,"MouseEvent")}function yt(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function tr(n){return l(n)?[n]:nr(n)?s(n):Array.isArray(n)?n:s(document.querySelectorAll(n))}function it(n,t){n.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function a(n,t){n.forEach(function(n){n&&n.setAttribute("data-state",t)})}function pt(n){var i,r=o(n),t=r[0];return(t==null?void 0:(i=t.ownerDocument)==null?void 0:i.body)?t.ownerDocument:document}function ir(n,t){var i=t.clientX,r=t.clientY;return n.every(function(n){var u=n.popperRect,o=n.popperState,s=n.props,f=s.interactiveBorder,e=vt(o.placement),t=o.modifiersData.offset;if(!t)return!0;var h=e==="bottom"?t.top.y:0,c=e==="top"?t.bottom.y:0,l=e==="right"?t.left.x:0,a=e==="left"?t.right.x:0,v=u.top-r+h>f,y=r-u.bottom-c>f,p=u.left-i+l>f,w=i-u.right-a>f;return v||y||p||w})}function rt(n,t,i){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(t){n[r](t,i)})}function rr(){r.isTouch||(r.isTouch=!0,window.performance&&document.addEventListener("mousemove",bt))}function bt(){var n=performance.now();n-wt<20&&(r.isTouch=!1,document.removeEventListener("mousemove",bt));wt=n}function ur(){var n=document.activeElement,t;yt(n)&&(t=n._tippy,n.blur&&!t.state.isVisible&&n.blur())}function fr(){document.addEventListener("touchstart",rr,f);window.addEventListener("blur",ur)}function h(n){var t=n==="destroy"?"n already-":" ";return[n+"() was called on a"+t+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function kt(n){return n.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function er(n){return kt("\n  %ctippy.js\n\n  %c"+kt(n)+"\n\n  %c👷‍ This is a development-only message. It will be removed in production.\n  ")}function dt(n){return[er(n),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function or(){v=new Set}function u(n,t){if(n&&!v.has(t)){var i;v.add(t);(i=console).warn.apply(i,dt(t))}}function c(n,t){if(n&&!v.has(t)){var i;v.add(t);(i=console).error.apply(i,dt(t))}}function sr(n){var t=!n,i=Object.prototype.toString.call(n)==="[object Object]"&&!n.addEventListener;c(t,["tippy() was passed","`"+String(n)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" "));c(i,"tippy() was passed a plain object which is not supported as an argument for virtual positioning. Use props.getReferenceClientRect instead.")}function ni(n){var t=n.plugins||[],i=t.reduce(function(t,i){var r=i.name,u=i.defaultValue;return r&&(t[r]=n[r]!==undefined?n[r]:u),t},{});return Object.assign({},n,{},i)}function lr(n,i){var r=i?Object.keys(ni(Object.assign({},t,{plugins:i}))):hr;return r.reduce(function(t,i){var r=(n.getAttribute("data-tippy-"+i)||"").trim();if(!r)return t;if(i==="content")t[i]=r;else try{t[i]=JSON.parse(r)}catch(u){t[i]=r}return t},{})}function ti(n,i){var r=Object.assign({},i,{content:ct(i.content,[n])},i.ignoreAttributes?{}:lr(n,i.plugins));return r.aria=Object.assign({},t.aria,{},r.aria),r.aria={expanded:r.aria.expanded==="auto"?i.interactive:r.aria.expanded,content:r.aria.content==="auto"?i.interactive?null:"describedby":r.aria.content},r}function ii(n,i){n===void 0&&(n={});i===void 0&&(i=[]);var r=Object.keys(n);r.forEach(function(n){var f=nt(t,Object.keys(gt)),r=!bi(f,n);r&&(r=i.filter(function(t){return t.name===n}).length===0);u(r,["`"+n+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.","\n\n","All props: https://atomiks.github.io/tippyjs/v6/all-props/\n","Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}function ut(n,t){n[ri()]=t}function ui(n){var t=e();return n===!0?t.className=st:(t.className=ht,l(n)?t.appendChild(n):ut(t,n)),t}function fi(n,t){l(t.content)?(ut(n,""),n.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?ut(n,t.content):n.textContent=t.content)}function p(n){var i=n.firstElementChild,t=s(i.children);return{box:i,content:t.find(function(n){return n.classList.contains(et)}),arrow:t.find(function(n){return n.classList.contains(st)||n.classList.contains(ht)}),backdrop:t.find(function(n){return n.classList.contains(ot)})}}function ei(n){function u(t,i){var e=p(r),u=e.box,o=e.content,f=e.arrow;i.theme?u.setAttribute("data-theme",i.theme):u.removeAttribute("data-theme");typeof i.animation=="string"?u.setAttribute("data-animation",i.animation):u.removeAttribute("data-animation");i.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia");u.style.maxWidth=typeof i.maxWidth=="number"?i.maxWidth+"px":i.maxWidth;i.role?u.setAttribute("role",i.role):u.removeAttribute("role");(t.content!==i.content||t.allowHTML!==i.allowHTML)&&fi(o,n.props);i.arrow?f?t.arrow!==i.arrow&&(u.removeChild(f),u.appendChild(ui(i.arrow))):u.appendChild(ui(i.arrow)):f&&u.removeChild(f)}var r=e(),t=e(),i;return t.className=wi,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1"),i=e(),i.className=et,i.setAttribute("data-state","hidden"),fi(i,n.props),r.appendChild(t),t.appendChild(i),u(n.props,n.props),{popper:r,onUpdate:u}}function vr(i,l){function tr(){var n=v.props.touch;return Array.isArray(n)?n:[n,0]}function rr(){return tr()[0]==="hold"}function g(){var n;return!!((n=v.props.render)==null?void 0:n.$$tippy)}function ut(){return ai||i}function st(){var n=ut().parentNode;return n?pt(n):document}function ht(){return p(y)}function ur(n){return v.state.isMounted&&!v.state.isVisible||r.isTouch||yt&&yt.type==="focus"?0:d(v.props.delay,n?0:1,t.delay)}function wt(){y.style.pointerEvents=v.props.interactive&&v.state.isVisible?"":"none";y.style.zIndex=""+v.props.zIndex}function k(n,t,i){if(i===void 0&&(i=!0),bi.forEach(function(i){i[n]&&i[n].apply(void 0,t)}),i){var r;(r=v.props)[n].apply(r,t)}}function fr(){var r=v.props.aria;if(r.content){var n="aria-"+r.content,t=y.id,u=o(v.props.triggerTarget||i);u.forEach(function(i){var r=i.getAttribute(n),u;v.state.isVisible?i.setAttribute(n,r?r+" "+t:t):(u=r&&r.replace(t,"").trim(),u?i.setAttribute(n,u):i.removeAttribute(n))})}}function vt(){if(!nr&&v.props.aria.expanded){var n=o(v.props.triggerTarget||i);n.forEach(function(n){v.props.interactive?n.setAttribute("aria-expanded",v.state.isVisible&&n===ut()?"true":"false"):n.removeAttribute("aria-expanded")})}}function ui(){st().removeEventListener("mousemove",nt);w=w.filter(function(n){return n!==nt})}function bt(n){if((!r.isTouch||!gt&&n.type!=="mousedown")&&(!v.props.interactive||!y.contains(n.target))){if(ut().contains(n.target)){if(r.isTouch)return;if(v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else k("onClickOutside",[v,n]);v.props.hideOnClick===!0&&(v.clearDelayTimeouts(),v.hide(),dt=!0,setTimeout(function(){dt=!1}),v.state.isMounted||fi())}}function er(){gt=!0}function or(){gt=!1}function sr(){var n=st();n.addEventListener("mousedown",bt,!0);n.addEventListener("touchend",bt,f);n.addEventListener("touchstart",or,f);n.addEventListener("touchmove",er,f)}function fi(){var n=st();n.removeEventListener("mousedown",bt,!0);n.removeEventListener("touchend",bt,f);n.removeEventListener("touchstart",or,f);n.removeEventListener("touchmove",er,f)}function tu(n,t){hr(n,function(){!v.state.isVisible&&y.parentNode&&y.parentNode.contains(y)&&t()})}function iu(n,t){hr(n,t)}function hr(n,t){function r(n){n.target===i&&(rt(i,"remove",r),t())}var i=ht().box;if(n===0)return t();rt(i,"remove",ci);rt(i,"add",r);ci=r}function et(n,t,r){r===void 0&&(r=!1);var u=o(v.props.triggerTarget||i);u.forEach(function(i){i.addEventListener(n,t,r);ri.push({node:i,eventType:n,handler:t,options:r})})}function cr(){rr()&&(et("touchstart",vr,{passive:!0}),et("touchend",pr,{passive:!0}));ki(v.props.trigger).forEach(function(n){if(n!=="manual"){et(n,vr);switch(n){case"mouseenter":et("mouseleave",pr);break;case"focus":et(pi?"focusout":"blur",wr);break;case"focusin":et("focusout",wr)}}})}function lr(){ri.forEach(function(n){var t=n.node,i=n.eventType,r=n.handler,u=n.options;t.removeEventListener(i,r,u)});ri=[]}function vr(n){var i,t=!1,r;!v.state.isEnabled||br(n)||dt||(r=((i=yt)==null?void 0:i.type)==="focus",yt=n,ai=n.currentTarget,vt(),!v.state.isVisible&&tt(n)&&w.forEach(function(t){return t(n)}),n.type==="click"&&(v.props.trigger.indexOf("mouseenter")<0||ot)&&v.props.hideOnClick!==!1&&v.state.isVisible?t=!0:gr(n),n.type==="click"&&(ot=!t),t&&!r&&kt(n))}function yr(n){var t=n.target,r=ut().contains(t)||y.contains(t),i;n.type==="mousemove"&&r||(i=ei().concat(y).map(function(n){var t,r=n._tippy,i=(t=r.popperInstance)==null?void 0:t.state;return i?{popperRect:n.getBoundingClientRect(),popperState:i,props:ft}:null}).filter(Boolean),ir(i,n)&&(ui(),kt(n)))}function pr(n){var t=br(n)||v.props.trigger.indexOf("click")>=0&&ot;if(!t){if(v.props.interactive){v.hideWithInteractivity(n);return}kt(n)}}function wr(n){v.props.trigger.indexOf("focusin")<0&&n.target!==ut()||v.props.interactive&&n.relatedTarget&&y.contains(n.relatedTarget)||kt(n)}function br(n){return r.isTouch?rr()!==n.type.indexOf("touch")>=0:!1}function kr(){dr();var t=v.props,u=t.popperOptions,o=t.placement,s=t.offset,f=t.getReferenceClientRect,h=t.moveTransition,e=g()?p(y).arrow:null,c=f?{getBoundingClientRect:f,contextElement:f.contextElement||ut()}:i,l={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(n){var i=n.state,r,t;g()&&(r=ht(),t=r.box,["placement","reference-hidden","escaped"].forEach(function(n){n==="placement"?t.setAttribute("data-placement",i.placement):i.attributes.popper["data-popper-"+n]?t.setAttribute("data-"+n,""):t.removeAttribute("data-"+n)}),i.attributes.popper={})}},r=[{name:"offset",options:{offset:s}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!h}},l];g()&&e&&r.push({name:"arrow",options:{element:e,padding:3}});r.push.apply(r,(u==null?void 0:u.modifiers)||[]);v.popperInstance=n.createPopper(c,y,Object.assign({},u,{placement:o,onFirstUpdate:li,modifiers:r}))}function dr(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function ru(){var n=v.props.appendTo,i,r=ut();i=v.props.interactive&&n===t.appendTo||n==="parent"?r.parentNode:ct(n,[r]);i.contains(y)||i.appendChild(y);kr();u(v.props.interactive&&n===t.appendTo&&r.nextElementSibling!==y,"Interactive tippy element may not be accessible via keyboard navigation because it is not directly after the reference element in the DOM source order. \n\n Using a wrapper <div> or <span> tag around the reference element solves this by creating a new parentNode context. \n\n Specifying `appendTo: document.body` silences this warning, but it assumes you are using a focus management solution to handle keyboard navigation. \n\n See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity")}function ei(){return s(y.querySelectorAll("[data-tippy-root]"))}function gr(n){v.clearDelayTimeouts();n&&k("onTrigger",[v,n]);sr();var t=ur(!0),i=tr(),f=i[0],u=i[1];r.isTouch&&f==="hold"&&u&&(t=u);t?oi=setTimeout(function(){v.show()},t):v.show()}function kt(n){if(v.clearDelayTimeouts(),k("onUntrigger",[v,n]),!v.state.isVisible){fi();return}if(!(v.props.trigger.indexOf("mouseenter")>=0)||!(v.props.trigger.indexOf("click")>=0)||!(["mouseleave","mousemove"].indexOf(n.type)>=0)||!ot){var t=ur(!1);t?si=setTimeout(function(){v.state.isVisible&&v.hide()},t):hi=requestAnimationFrame(function(){v.hide()})}}function uu(){v.state.isEnabled=!0}function fu(){v.hide();v.state.isEnabled=!1}function eu(){clearTimeout(oi);clearTimeout(si);cancelAnimationFrame(hi)}function ou(n){if(u(v.state.isDestroyed,h("setProps")),!v.state.isDestroyed){k("onBeforeUpdate",[v,n]);lr();var r=v.props,t=ti(i,Object.assign({},v.props,{},n,{ignoreAttributes:!0}));v.props=t;cr();r.interactiveDebounce!==t.interactiveDebounce&&(ui(),nt=lt(yr,t.interactiveDebounce));r.triggerTarget&&!t.triggerTarget?o(r.triggerTarget).forEach(function(n){n.removeAttribute("aria-expanded")}):t.triggerTarget&&i.removeAttribute("aria-expanded");vt();wt();wi&&wi(r,t);v.popperInstance&&(kr(),ei().forEach(function(n){requestAnimationFrame(n._tippy.popperInstance.forceUpdate)}));k("onAfterUpdate",[v,n])}}function su(n){v.setProps({content:n})}function hu(){u(v.state.isDestroyed,h("show"));var f=v.state.isVisible,e=v.state.isDestroyed,o=!v.state.isEnabled,s=r.isTouch&&!v.props.touch,n=d(v.props.duration,0,t.duration);if(!f&&!e&&!o&&!s&&!ut().hasAttribute("disabled")&&(k("onShow",[v],!1),v.props.onShow(v)!==!1)){if(v.state.isVisible=!0,g()&&(y.style.visibility="visible"),wt(),sr(),v.state.isMounted||(y.style.transition="none"),g()){var i=ht(),c=i.box,l=i.content;it([c,l],0)}li=function(){var t;if(v.state.isVisible&&!ii){if(ii=!0,void y.offsetHeight,y.style.transition=v.props.moveTransition,g()&&v.props.animation){var i=ht(),r=i.box,u=i.content;it([r,u],n);a([r,u],"visible")}fr();vt();at(b,v);(t=v.popperInstance)==null?void 0:t.forceUpdate();v.state.isMounted=!0;k("onMount",[v]);v.props.animation&&g()&&iu(n,function(){v.state.isShown=!0;k("onShown",[v])})}};ru()}}function cu(){u(v.state.isDestroyed,h("hide"));var e=!v.state.isVisible,o=v.state.isDestroyed,s=!v.state.isEnabled,n=d(v.props.duration,1,t.duration);if(!e&&!o&&!s&&(k("onHide",[v],!1),v.props.onHide(v)!==!1)){if(v.state.isVisible=!1,v.state.isShown=!1,ii=!1,ot=!1,g()&&(y.style.visibility="hidden"),ui(),fi(),wt(),g()){var i=ht(),r=i.box,f=i.content;v.props.animation&&(it([r,f],n),a([r,f],"hidden"))}fr();vt();v.props.animation?g()&&tu(n,v.unmount):v.unmount()}}function lu(n){u(v.state.isDestroyed,h("hideWithInteractivity"));st().addEventListener("mousemove",nt);at(w,nt);nt(n)}function au(){(u(v.state.isDestroyed,h("unmount")),v.state.isVisible&&v.hide(),v.state.isMounted)&&(dr(),ei().forEach(function(n){n._tippy.unmount()}),y.parentNode&&y.parentNode.removeChild(y),b=b.filter(function(n){return n!==v}),v.state.isMounted=!1,k("onHidden",[v]))}function vu(){(u(v.state.isDestroyed,h("destroy")),v.state.isDestroyed)||(v.clearDelayTimeouts(),v.unmount(),lr(),delete i._tippy,v.state.isDestroyed=!0,k("onDestroy",[v]))}var ft=ti(i,Object.assign({},t,{},ni(gi(l)))),oi,si,hi,ot=!1,dt=!1,gt=!1,ii=!1,yt,ci,li,ri=[],nt=lt(yr,ft.interactiveDebounce),ai,nu=ar++,vi=di(ft.plugins),v={id:nu,reference:i,popper:e(),popperInstance:null,props:ft,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:vi,clearDelayTimeouts:eu,setProps:ou,setContent:su,show:hu,hide:cu,hideWithInteractivity:lu,enable:uu,disable:fu,unmount:au,destroy:vu},bi,nr;if(!ft.render)return c(!0,"render() function has not been supplied."),v;var yi=ft.render(v),y=yi.popper,wi=yi.onUpdate;return y.setAttribute("data-tippy-root",""),y.id="tippy-"+v.id,v.popper=y,i._tippy=v,y._tippy=v,bi=vi.map(function(n){return n.fn(v)}),nr=i.hasAttribute("aria-expanded"),cr(),vt(),wt(),k("onCreate",[v]),ft.showOnCreate&&gr(),y.addEventListener("mouseenter",function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()}),y.addEventListener("mouseleave",function(n){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&(st().addEventListener("mousemove",nt),nt(n))}),v}function i(n,i){var r,f;i===void 0&&(i={});r=t.plugins.concat(i.plugins||[]);sr(n);ii(i,r);fr();var e=Object.assign({},i,{plugins:r}),o=tr(n),s=l(e.content),h=o.length>1;return u(s&&h,"tippy() was passed an Element as the `content` prop, but more than one tippy instance was created by this invocation. This means the content element will only be appended to the last tippy instance. \n\n Instead, pass the .innerHTML of the element, or use a function that returns a cloned version of the element instead. \n\n 1) content: element.innerHTML\n 2) content: () => element.cloneNode(true)"),f=o.reduce(function(n,t){var i=t&&vr(t,e);return i&&n.push(i),n},[]),l(n)?f[0]:f}function kr(n,r){function e(n){var f,o,e;n.target&&!l&&(f=n.target.closest(p),f)&&((o=f.getAttribute("data-tippy-trigger")||r.trigger||t.trigger,f._tippy)||(n.type!=="touchstart"||typeof v.touch!="boolean")&&(n.type!=="touchstart"&&o.indexOf(br[n.type])<0||(e=i(f,v),e&&(u=u.concat(e)))))}function s(n,t,i,r){r===void 0&&(r=!1);n.addEventListener(t,i,r);h.push({node:n,eventType:t,handler:i,options:r})}function k(n){var t=n.reference;s(t,"touchstart",e,f);s(t,"mouseover",e);s(t,"focusin",e);s(t,"click",e)}function d(){h.forEach(function(n){var t=n.node,i=n.eventType,r=n.handler,u=n.options;t.removeEventListener(i,r,u)});h=[]}function g(n){var t=n.destroy,i=n.enable,r=n.disable;n.destroy=function(n){n===void 0&&(n=!0);n&&u.forEach(function(n){n.destroy()});u=[];d();t()};n.enable=function(){i();u.forEach(function(n){return n.enable()});l=!1};n.disable=function(){r();u.forEach(function(n){return n.disable()});l=!0};k(n)}c(!(r&&r.target),"You must specity a `target` prop indicating a CSS selector string matching the target elements that should receive a tippy.");var h=[],u=[],l=!1,p=r.target,a=nt(r,["target"]),w=Object.assign({},a,{trigger:"manual",touch:!1}),v=Object.assign({},a,{showOnCreate:!0}),y=i(n,w),b=o(y);return b.forEach(g),y}function dr(){var n=e();return n.className=ot,a([n],"hidden"),n}function si(n){var t=n.clientX,i=n.clientY;k={clientX:t,clientY:i}}function gr(n){n.addEventListener("mousemove",si)}function nu(n){n.removeEventListener("mousemove",si)}function tu(n,t){var i;return{popperOptions:Object.assign({},n.popperOptions,{modifiers:[].concat((((i=n.popperOptions)==null?void 0:i.modifiers)||[]).filter(function(n){var i=n.name;return i!==t.name}),[t])})}}function iu(n,t,i,r){if(i.length<2||n===null)return t;if(i.length===2&&r>=0&&i[0].left>i[1].right)return i[r]||t;switch(n){case"top":case"bottom":var u=i[0],f=i[i.length-1],o=n==="top",s=u.top,h=f.bottom,c=o?u.left:f.left,l=o?u.right:f.right,k=l-c,d=h-s;return{top:s,bottom:h,left:c,right:l,width:k,height:d};case"left":case"right":var a=Math.min.apply(Math,i.map(function(n){return n.left})),v=Math.max.apply(Math,i.map(function(n){return n.right})),e=i.filter(function(t){return n==="left"?t.left===a:t.right===v}),y=e[0].top,p=e[e.length-1].bottom,w=a,b=v,g=b-w,nt=p-y;return{top:y,bottom:p,left:w,right:b,width:g,height:nt};default:return t}}function ai(n,t){return n&&t?n.top!==t.top||n.right!==t.right||n.bottom!==t.bottom||n.left!==t.left:!0}var ft=typeof window!="undefined"&&typeof document!="undefined",yi=ft?navigator.userAgent:"",pi=/MSIE |Trident\//.test(yi),wi="tippy-box",et="tippy-content",ot="tippy-backdrop",st="tippy-arrow",ht="tippy-svg-arrow",f={passive:!0,capture:!0},r={isTouch:!1},wt=0,v,ri,oi,k,y,hi,ci,li;or();var gt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},t=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},gt,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),hr=Object.keys(t),cr=function(n){ii(n,[]);var i=Object.keys(n);i.forEach(function(i){t[i]=n[i]})};ri=function(){return"innerHTML"};ei.$$tippy=!0;var ar=1,w=[],b=[];i.defaultProps=t;i.setDefaultProps=cr;i.currentInput=r;var yr=function(n){var i=n===void 0?{}:n,t=i.exclude,r=i.duration;b.forEach(function(n){var i=!1,u;t&&(i=yt(t)?n.reference===t:n.popper===t.popper);i||(u=n.props.duration,n.setProps({duration:r}),n.hide(),n.state.isDestroyed||n.setProps({duration:u}))})},pr=Object.assign({},n.applyStyles,{effect:function(n){var t=n.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper);t.styles=i;t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}}),wr=function(n,t){function p(){u=o.map(function(n){return n.reference})}function l(n){o.forEach(function(t){n?t.enable():t.disable()})}function w(n){return o.map(function(t){var i=t.setProps;return t.setProps=function(r){i(r);t.reference===f&&n.setProps(r)},function(){t.setProps=i}})}function s(n,t){var r=u.indexOf(t),i;t!==f&&(f=t,i=(a||[]).concat("content").reduce(function(n,t){return n[t]=o[r].props[t],n},{}),n.setProps(Object.assign({},i,{getReferenceClientRect:typeof i.getReferenceClientRect=="function"?i.getReferenceClientRect:function(){return t.getBoundingClientRect()}})))}var v,b;t===void 0&&(t={});c(!Array.isArray(n),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String(n)].join(" "));var o=n,u=[],f,a=t.overrides,y=[],h=!1;l(!1);p();var k={fn:function(){return{onDestroy:function(){l(!0)},onHidden:function(){f=null},onClickOutside:function(n){n.props.showOnCreate&&!h&&(h=!0,f=null)},onShow:function(n){n.props.showOnCreate&&!h&&(h=!0,s(n,u[0]))},onTrigger:function(n,t){s(n,t.currentTarget)}}}},r=i(e(),Object.assign({},nt(t,["overrides"]),{plugins:[k].concat(t.plugins||[]),triggerTarget:u,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat(((v=t.popperOptions)==null?void 0:v.modifiers)||[],[pr])})})),d=r.show;return r.show=function(n){if(d(),!f&&n==null)return s(r,u[0]);if(!f||n!=null){if(typeof n=="number")return u[n]&&s(r,u[n]);if(o.includes(n)){var t=n.reference;return s(r,t)}if(u.includes(n))return s(r,n)}},r.showNext=function(){var t=u[0],n;if(!f)return r.show(0);n=u.indexOf(f);r.show(u[n+1]||t)},r.showPrevious=function(){var n=u[u.length-1],t,i;if(!f)return r.show(n);t=u.indexOf(f);i=u[t-1]||n;r.show(i)},b=r.setProps,r.setProps=function(n){a=n.overrides||a;b(n)},r.setInstances=function(n){l(!0);y.forEach(function(n){return n()});o=n;l(!1);p();w(r);r.setProps({triggerTarget:u})},y=w(r),r},br={mouseover:"mouseenter",focusin:"focus",click:"click"};return oi={name:"animateFill",defaultValue:!1,fn:function(n){var r;if(!((r=n.props.render)==null?void 0:r.$$tippy))return c(n.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var u=p(n.popper),i=u.box,f=u.content,t=n.props.animateFill?dr():null;return{onCreate:function(){t&&(i.insertBefore(t,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",n.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(t){var n=i.style.transitionDuration,r=Number(n.replace("ms",""));f.style.transitionDelay=Math.round(r/10)+"ms";t.style.transitionDuration=n;a([t],"visible")}},onShow:function(){t&&(t.style.transitionDuration="0ms")},onHide:function(){t&&a([t],"hidden")}}}},k={clientX:0,clientY:0},y=[],hi={name:"followCursor",defaultValue:!1,fn:function(n){function s(){return n.props.followCursor==="initial"&&n.state.isVisible}function h(){t.addEventListener("mousemove",e)}function c(){t.removeEventListener("mousemove",e)}function l(){r=!0;n.setProps({getReferenceClientRect:null});r=!1}function e(t){var o=t.target?i.contains(t.target):!0,r=n.props.followCursor,u=t.clientX,f=t.clientY,e=i.getBoundingClientRect(),s=u-e.left,h=f-e.top;(o||!n.props.interactive)&&n.setProps({getReferenceClientRect:function(){var n=i.getBoundingClientRect(),t=u,e=f;r==="initial"&&(t=n.left+s,e=n.top+h);var o=r==="horizontal"?n.top:e,c=r==="vertical"?n.right:t,l=r==="horizontal"?n.bottom:e,a=r==="vertical"?n.left:t;return{width:c-a,height:l-o,top:o,right:c,bottom:l,left:a}}})}function a(){n.props.followCursor&&(y.push({instance:n,doc:t}),gr(t))}function v(){y=y.filter(function(t){return t.instance!==n});y.filter(function(n){return n.doc===t}).length===0&&nu(t)}var i=n.reference,t=pt(n.props.triggerTarget||i),r=!1,u=!1,f=!0,o=n.props;return{onCreate:a,onDestroy:v,onBeforeUpdate:function(){o=n.props},onAfterUpdate:function(t,i){var f=i.followCursor;r||f!==undefined&&o.followCursor!==f&&(v(),f?(a(),!n.state.isMounted||u||s()||h()):(c(),l()))},onMount:function(){n.props.followCursor&&!u&&(f&&(e(k),f=!1),s()||h())},onTrigger:function(n,t){tt(t)&&(k={clientX:t.clientX,clientY:t.clientY});u=t.type==="focus"},onHidden:function(){n.props.followCursor&&(l(),c(),f=!0)}}}},ci={name:"inlinePositioning",defaultValue:!1,fn:function(n){function e(){return!!n.props.inlinePositioning}function h(n){return iu(vt(n),r.getBoundingClientRect(),s(r.getClientRects()),t)}function c(t){i=!0;n.setProps(t);i=!1}function f(){i||c(tu(n.props,o))}var r=n.reference,u,t=-1,i=!1,o={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(t){var i=t.state;e()&&(u!==i.placement&&n.setProps({getReferenceClientRect:function(){return h(i.placement)}}),u=i.placement)}};return{onCreate:f,onAfterUpdate:f,onTrigger:function(i,r){if(tt(r)){var u=s(n.reference.getClientRects()),f=u.find(function(n){return n.left-2<=r.clientX&&n.right+2>=r.clientX&&n.top-2<=r.clientY&&n.bottom+2>=r.clientY});t=u.indexOf(f)}},onUntrigger:function(){t=-1}}}},li={name:"sticky",defaultValue:!1,fn:function(n){function o(){return n.popperInstance?n.popperInstance.state.elements.reference:f}function t(t){return n.props.sticky===!0||n.props.sticky===t}function u(){var f=t("reference")?o().getBoundingClientRect():null,s=t("popper")?e.getBoundingClientRect():null;(f&&ai(i,f)||s&&ai(r,s))&&n.popperInstance&&n.popperInstance.update();i=f;r=s;n.state.isMounted&&requestAnimationFrame(u)}var f=n.reference,e=n.popper,i=null,r=null;return{onMount:function(){n.props.sticky&&u()}}}},ft&&vi('.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}'),i.setDefaultProps({plugins:[oi,hi,ci,li],render:ei}),i.createSingleton=wr,i.delegate=kr,i.hideAll=yr,i.roundArrow='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"><\/svg>',i});
/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 * Copyright 2011-2013 John-David Dalton
 * Available under MIT license <https://mths.be/mit>
 */
(function(){"use strict";function p(n){return n=String(n),n.charAt(0).toUpperCase()+n.slice(1)}function nt(n,t,i){var r={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&i&&/^Win/i.test(n)&&!/^Windows Phone /i.test(n)&&(r=r[/[\d.]+$/.exec(n)])&&(n="Windows "+r),n=String(n),t&&i&&(n=n.replace(RegExp(t,"i"),i)),o(n.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function tt(n,t){var r=-1,i=n?n.length:0;if(typeof i=="number"&&i>-1&&i<=k)while(++r<i)t(n[r],r,n);else s(n,t)}function o(n){return n=w(n),/^(?:webOS|i(?:OS|P))/.test(n)?n:p(n)}function s(n,t){for(var i in n)g.call(n,i)&&t(n[i],i,n)}function t(n){return n==null?p(n):y.call(n).slice(8,-1)}function it(n,t){var i=n!=null?typeof n[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(i)&&(i=="object"?!!n[t]:!0)}function i(n){return String(n).replace(/([ -])(?!$)/g,"$1?")}function r(n,t){var i=null;return tt(n,function(r,u){i=t(i,r,u,n)}),i}function w(n){return String(n).replace(/^ +| +$/g,"")}function h(n){function ui(t){return r(t,function(t,r){return t||RegExp("\\b"+(r.pattern||i(r))+"\\b","i").exec(n)&&(r.label||r)})}function fi(t){return r(t,function(t,r,u){return t||(r[p]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(p)]||RegExp("\\b"+i(u)+"(?:\\b|\\w*\\d)","i").exec(n))&&u})}function ei(t){return r(t,function(t,r){return t||RegExp("\\b"+(r.pattern||i(r))+"\\b","i").exec(n)&&(r.label||r)})}function oi(t){return r(t,function(t,r){var u=r.pattern||i(r);return!t&&(t=RegExp("\\b"+u+"(?:/[\\d.]+|[ \\w.]*)","i").exec(n))&&(t=nt(t,u,r.label||r)),t})}function wt(t){return r(t,function(t,r){var u=r.pattern||i(r);return!t&&(t=RegExp("\\b"+u+" *\\d+[.\\w_]*","i").exec(n)||RegExp("\\b"+u+" *\\w+-[\\w]*","i").exec(n)||RegExp("\\b"+u+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(n))&&((t=String(r.label&&!RegExp(u,"i").test(r.label)?r.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),r=r.label||r,t=o(t[0].replace(RegExp(u,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function si(t){return r(t,function(t,i){return t||(RegExp(i+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(n)||0)[1]||null})}function hi(){return this.description||""}var g=u,ut=n&&typeof n=="object"&&t(n)!="String",ot,at,tt;ut&&(g=n,n=null);ot=g.navigator||{};at=ot.userAgent||"";n||(n=at);var ci=ut||d==b,bt=ut?!!ot.likeChrome:/\bChrome\b/.test(n)&&!/internal|\n/i.test(y.toString()),vt="Object",kt=ut?vt:"ScriptBridgingProxyObject",dt=ut?vt:"Environment",gt=ut&&g.java?"JavaPackage":t(g.java),ni=ut?vt:"RuntimeObject",st=/\bJava/.test(gt)&&g.java,ti=st&&t(g.environment)==dt,ii=st?"a":"α",ri=st?"b":"β",yt=g.document||{},ft=g.operamini||g.opera,ht=e.test(ht=ut&&ft?ft["[[Class]]"]:t(ft))?ht:ft=null,f,ct=n,v=[],lt=null,et=n==at,a=et&&ft&&typeof ft.version=="function"&&ft.version(),pt,k=ui([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),c=ei(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),p=wt([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),rt=fi({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),l=oi(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(k&&(k=[k]),rt&&!p&&(p=wt([rt])),(f=/\bGoogle TV\b/.exec(p))&&(p=f[0]),/\bSimulator\b/i.test(n)&&(p=(p?p+" ":"")+"Simulator"),c=="Opera Mini"&&/\bOPiOS\b/.test(n)&&v.push("running in Turbo/Uncompressed mode"),c=="IE"&&/\blike iPhone OS\b/.test(n)?(f=h(n.replace(/like iPhone OS/,"")),rt=f.manufacturer,p=f.product):/^iP/.test(p)?(c||(c="Safari"),l="iOS"+((f=/ OS ([\d_]+)/i.exec(n))?" "+f[1].replace(/_/g,"."):"")):c!="Konqueror"||/buntu/i.test(l)?rt&&rt!="Google"&&(/Chrome/.test(c)&&!/\bMobile Safari\b/i.test(n)||/\bVita\b/.test(p))||/\bAndroid\b/.test(l)&&/^Chrome/.test(c)&&/\bVersion\//i.test(n)?(c="Android Browser",l=/\bAndroid\b/.test(l)?l:"Android"):c=="Silk"?(/\bMobi/i.test(n)||(l="Android",v.unshift("desktop mode")),/Accelerated *= *true/i.test(n)&&v.unshift("accelerated")):c=="PaleMoon"&&(f=/\bFirefox\/([\d.]+)\b/.exec(n))?v.push("identifying as Firefox "+f[1]):c=="Firefox"&&(f=/\b(Mobile|Tablet|TV)\b/i.exec(n))?(l||(l="Firefox OS"),p||(p=f[1])):!c||(f=!/\bMinefield\b/i.test(n)&&/\b(?:Firefox|Safari)\b/.exec(c))?(c&&!p&&/[\/,]|^[^(]+?\)/.test(n.slice(n.indexOf(f+"/")+8))&&(c=null),(f=p||rt||l)&&(p||rt||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(l))&&(c=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(l)?l:f)+" Browser")):c=="Electron"&&(f=(/\bChrome\/([\d.]+)\b/.exec(n)||0)[1])&&v.push("Chromium "+f):l="Kubuntu",a||(a=si(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",i(c),"(?:Firefox|Minefield|NetFront)"])),(f=k=="iCab"&&parseFloat(a)>3&&"WebKit"||/\bOpera\b/.test(c)&&(/\bOPR\b/.test(n)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(n)&&!/^(?:Trident|EdgeHTML)$/.test(k)&&"WebKit"||!k&&/\bMSIE\b/i.test(n)&&(l=="Mac OS"?"Tasman":"Trident")||k=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(c)&&"NetFront")&&(k=[f]),c=="IE"&&(f=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(n)||0)[1])?(c+=" Mobile",l="Windows Phone "+(/\+$/.test(f)?f:f+".x"),v.unshift("desktop mode")):/\bWPDesktop\b/i.test(n)?(c="IE Mobile",l="Windows Phone 8.x",v.unshift("desktop mode"),a||(a=(/\brv:([\d.]+)/.exec(n)||0)[1])):c!="IE"&&k=="Trident"&&(f=/\brv:([\d.]+)/.exec(n))&&(c&&v.push("identifying as "+c+(a?" "+a:"")),c="IE",a=f[1]),et){if(it(g,"global"))if(st&&(f=st.lang.System,ct=f.getProperty("os.arch"),l=l||f.getProperty("os.name")+" "+f.getProperty("os.version")),ti){try{a=g.require("ringo/engine").version.join(".");c="RingoJS"}catch(li){(f=g.system)&&f.global.system==g.system&&(c="Narwhal",l||(l=f[0].os||null))}c||(c="Rhino")}else typeof g.process=="object"&&!g.process.browser&&(f=g.process)&&(typeof f.versions=="object"&&(typeof f.versions.electron=="string"?(v.push("Node "+f.versions.node),c="Electron",a=f.versions.electron):typeof f.versions.nw=="string"&&(v.push("Chromium "+a,"Node "+f.versions.node),c="NW.js",a=f.versions.nw)),c||(c="Node.js",ct=f.arch,l=f.platform,a=/[\d.]+/.exec(f.version),a=a?a[0]:null));else t(f=g.runtime)==kt?(c="Adobe AIR",l=f.flash.system.Capabilities.os):t(f=g.phantom)==ni?(c="PhantomJS",a=(f=f.version||null)&&f.major+"."+f.minor+"."+f.patch):typeof yt.documentMode=="number"&&(f=/\bTrident\/(\d+)/i.exec(n))?(a=[a,yt.documentMode],(f=+f[1]+4)!=a[1]&&(v.push("IE "+a[1]+" mode"),k&&(k[1]=""),a[1]=f),a=c=="IE"?String(a[1].toFixed(1)):a[0]):typeof yt.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(c)&&(v.push("masking as "+c+" "+a),c="IE",a="11.0",k=["Trident"],l="Windows");l=l&&o(l)}if(a&&(f=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(a)||/(?:alpha|beta)(?: ?\d)?/i.exec(n+";"+(et&&ot.appMinorVersion))||/\bMinefield\b/i.test(n)&&"a")&&(lt=/b/i.test(f)?"beta":"alpha",a=a.replace(RegExp(f+"\\+?$"),"")+(lt=="beta"?ri:ii)+(/\d+\+?/.exec(f)||"")),c=="Fennec"||c=="Firefox"&&/\b(?:Android|Firefox OS)\b/.test(l))c="Firefox Mobile";else if(c=="Maxthon"&&a)a=a.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(p))p=="Xbox 360"&&(l=null),p=="Xbox 360"&&/\bIEMobile\b/.test(n)&&v.unshift("mobile mode");else if((/^(?:Chrome|IE|Opera)$/.test(c)||c&&!p&&!/Browser|Mobi/.test(c))&&(l=="Windows CE"||/Mobi/i.test(n)))c+=" Mobile";else if(c=="IE"&&et)try{g.external===null&&v.unshift("platform preview")}catch(li){v.unshift("embedded")}else(/\bBlackBerry\b/.test(p)||/\bBB10\b/.test(n))&&(f=(RegExp(p.replace(/ +/g," *")+"/([.\\d]+)","i").exec(n)||0)[1]||a)?(f=[f,/BB10/.test(n)],l=(f[1]?(p=null,rt="BlackBerry"):"Device Software")+" "+f[0],a=null):this!=s&&p!="Wii"&&(et&&ft||/Opera/.test(c)&&/\b(?:MSIE|Firefox)\b/i.test(n)||c=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(l)||c=="IE"&&(l&&!/^Win/.test(l)&&a>5.5||/\bWindows XP\b/.test(l)&&a>8||a==8&&!/\bTrident\b/.test(n)))&&!e.test(f=h.call(s,n.replace(e,"")+";"))&&f.name&&(f="ing as "+f.name+((f=f.version)?" "+f:""),e.test(c)?(/\bIE\b/.test(f)&&l=="Mac OS"&&(l=null),f="identify"+f):(f="mask"+f,c=ht?o(ht.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(f)&&(l=null),et||(a=null)),k=["Presto"],v.push(f));return(f=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(n)||0)[1])&&(f=[parseFloat(f.replace(/\.(\d)$/,".0$1")),f],c=="Safari"&&f[1].slice(-1)=="+"?(c="WebKit Nightly",lt="alpha",a=f[1].slice(0,-1)):(a==f[1]||a==(f[2]=(/\bSafari\/([\d.]+\+?)/i.exec(n)||0)[1]))&&(a=null),f[1]=(/\bChrome\/([\d.]+)/i.exec(n)||0)[1],f[0]==537.36&&f[2]==537.36&&parseFloat(f[1])>=28&&k=="WebKit"&&(k=["Blink"]),et&&(bt||f[1])?(k&&(k[1]="like Chrome"),f=f[1]||(f=f[0],f<530?1:f<532?2:f<532.05?3:f<533?4:f<534.03?5:f<534.07?6:f<534.1?7:f<534.13?8:f<534.16?9:f<534.24?10:f<534.3?11:f<535.01?12:f<535.02?"13+":f<535.07?15:f<535.11?16:f<535.19?17:f<536.05?18:f<536.1?19:f<537.01?20:f<537.11?"21+":f<537.13?23:f<537.18?24:f<537.24?25:f<537.36?26:k!="Blink"?"27":"28")):(k&&(k[1]="like Safari"),f=(f=f[0],f<400?1:f<500?2:f<526?3:f<533?4:f<534?"4+":f<535?5:f<537?6:f<538?7:f<601?8:"8")),k&&(k[1]+=" "+(f+=typeof f=="number"?".x":/[.+]/.test(f)?"":"+")),c=="Safari"&&(!a||parseInt(a)>45)&&(a=f)),c=="Opera"&&(f=/\bzbov|zvav$/.exec(l))?(c+=" ",v.unshift("desktop mode"),f=="zvav"?(c+="Mini",a=null):c+="Mobile",l=l.replace(RegExp(" *"+f+"$"),"")):c=="Safari"&&/\bChrome\b/.exec(k&&k[1])&&(v.unshift("desktop mode"),c="Chrome Mobile",a=null,/\bOS X\b/.test(l)?(rt="Apple",l="iOS 4.3+"):l=null),a&&a.indexOf(f=/[\d.]+$/.exec(l))==0&&n.indexOf("/"+f+"-")>-1&&(l=w(l.replace(f,""))),k&&!/\b(?:Avant|Nook)\b/.test(c)&&(/Browser|Lunascape|Maxthon/.test(c)||c!="Safari"&&/^iOS/.test(l)&&/\bSafari\b/.test(k[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(c)&&k[1])&&(f=k[k.length-1])&&v.push(f),v.length&&(v=["("+v.join("; ")+")"]),rt&&p&&p.indexOf(rt)<0&&v.push("on "+rt),p&&v.push((/^on /.test(v[v.length-1])?"":"on ")+p),l&&(f=/ ([\d.+]+)$/.exec(l),pt=f&&l.charAt(l.length-f[0].length-1)=="/",l={architecture:32,family:f&&!pt?l.replace(f[0],""):l,version:f?f[1]:null,toString:function(){var n=this.version;return this.family+(n&&!pt?" "+n:"")+(this.architecture==64?" 64-bit":"")}}),(f=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(ct))&&!/\bi686\b/i.test(ct)?(l&&(l.architecture=64,l.family=l.family.replace(RegExp(" *"+f),"")),c&&(/\bWOW64\b/i.test(n)||et&&/\w(?:86|32)$/.test(ot.cpuClass||ot.platform)&&!/\bWin64; x64\b/i.test(n))&&v.unshift("32-bit")):l&&/^OS X/.test(l.family)&&c=="Chrome"&&parseFloat(a)>=39&&(l.architecture=64),n||(n=null),tt={},tt.description=n,tt.layout=k&&k[0],tt.manufacturer=rt,tt.name=c,tt.prerelease=lt,tt.product=p,tt.ua=n,tt.version=c&&a,tt.os=l||{architecture:null,family:null,version:null,toString:function(){return"null"}},tt.parse=h,tt.toString=hi,tt.version&&v.unshift(a),tt.name&&v.unshift(c),!l||!c||l==String(l).split(" ")[0]&&(l==c.split(" ")[0]||p)||v.push(p?"("+l+")":"on "+l),v.length&&(tt.description=v.join(" ")),tt}var c={"function":!0,object:!0},u=c[typeof window]&&window||this,b=u,l=c[typeof exports]&&exports,a=c[typeof module]&&module&&!module.nodeType&&module,n=l&&a&&typeof global=="object"&&global,f;n&&(n.global===n||n.window===n||n.self===n)&&(u=n);var k=Math.pow(2,53)-1,e=/\bOpera/,d=this,v=Object.prototype,g=v.hasOwnProperty,y=v.toString;f=h();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(u.platform=f,define(function(){return f})):l&&a?s(f,function(n,t){l[t]=n}):u.platform=f}).call(this);document.addEventListener("DOMContentLoaded",()=>{platform&&platform.product==="iPhone"&&platform.name.toLowerCase()!=="safari"&&!iosInIframe()&&(buildIOSFullscreenPanel(),buildIOSMeta())});window.addEventListener("resize",function(){platform&&platform.product==="iPhone"&&platform.name.toLowerCase()!=="safari"&&!iosInIframe()&&iosResize()}),function(){"use strict";var t=typeof window!="undefined"&&typeof window.document!="undefined"?window.document:{},r=typeof module!="undefined"&&module.exports,n=function(){for(var i,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,f=r.length,u={};n<f;n++)if(i=r[n],i&&i[1]in t){for(n=0;n<i.length;n++)u[r[0][n]]=i[n];return u}return!1}(),u={change:n.fullscreenchange,error:n.fullscreenerror},i={request:function(i){return new Promise(function(r,u){var f=function(){this.off("change",f);r()}.bind(this);this.on("change",f);i=i||t.documentElement;Promise.resolve(i[n.requestFullscreen]()).catch(u)}.bind(this))},exit:function(){return new Promise(function(i,r){if(!this.isFullscreen){i();return}var u=function(){this.off("change",u);i()}.bind(this);this.on("change",u);Promise.resolve(t[n.exitFullscreen]()).catch(r)}.bind(this))},toggle:function(n){return this.isFullscreen?this.exit():this.request(n)},onchange:function(n){this.on("change",n)},onerror:function(n){this.on("error",n)},on:function(n,i){var r=u[n];r&&t.addEventListener(r,i,!1)},off:function(n,i){var r=u[n];r&&t.removeEventListener(r,i,!1)},raw:n};if(!n){r?module.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(t[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[n.fullscreenEnabled])}}});r?module.exports=i:window.screenfull=i}();var FORBIDDEN_LIST_EN=["2 girls 1 cup","2g1c","4r5e","5h1t","5hit","a_s_s","a55","a55hole","acrotomophilia","aeolus","ahole","alabama hot pocket","alaskan pipeline","anal","analprobe","anilingus","anus","apeshit","ar5e","areola","areole","arian","arrse","arse","arsehole","aryan","ass","ass hole","assbag","assbandit","assbang","assbanged","assbanger","assbangs","assbite","assclown","asscock","asscracker","asses","assface","assfuck","assfucker","ass-fucker","assfukka","assgoblin","assh0le","asshat","ass-hat","asshead","assho1e","asshole","assholes","asshopper","ass-jabber","assjacker","asslick","asslicker","assmaster","assmonkey","assmunch","assmuncher","assnigger","asspirate","ass-pirate","assshit","assshole","asssucker","asswad","asswhole","asswipe","asswipes","auto erotic","autoerotic","axwound","azazel","azz","b!tch","b00bs","b17ch","b1tch","babe","babeland","babes","baby batter","baby juice","ball gag","ball gravy","ball kicking","ball licking","ball sack","ball sucking","ballbag","balls","ballsack","bampot","bang","bangbros","banger","bareback","barely legal","barenaked","barf","bastard","bastardo","bastards","bastinado","bawdy","bbw","bdsm","beaner","beaners","beardedclam","beastial","beastiality","beatch","beater","beaver","beaver cleaver","beaver lips","beer","beeyotch","bellend","beotch","bestial","bestiality","bi+ch","biatch","big black","big breasts","big knockers","big tits","bigtits","bimbo","bimbos","birdlock","bitch","bitchass","bitched","bitcher","bitchers","bitches","bitchin","bitching","bitchtits","bitchy","black cock","blonde action","blonde on blonde action","bloody","blow","blow job","blow your load","blowjob","blowjobs","blue waffle","blumpkin","bod","bodily","boink","boiolas","bollock","bollocks","bollok","bollox","bondage","bone","boned","boner","boners","bong","boob","boobies","boobs","booby","booger","bookie","booobs","boooobs","booooobs","booooooobs","bootee","bootie","booty","booty call","booze","boozer","boozy","bosom","bosomy","bowel","bowels","bra","brassiere","breast","breasts","breeder","brotherfucker","brown showers","brunette action","buceta","bugger","bukkake","bull shit","bulldyke","bullet vibe","bullshit","bullshits","bullshitted","bullturds","bum","bumblefuck","bung","bung hole","bunghole","bunny fucker","busty","butt","butt fuck","butt plug","buttcheeks","buttfuck","buttfucka","buttfucker","butthole","buttmuch","butt-pirate","buttplug","c.0.c.k","c.o.c.k.","c.u.n.t","c0ck","c-0-c-k","c0cksucker","caca","cahone","camel toe","cameltoe","camgirl","camslut","camwhore","carpet muncher","carpetmuncher","cawk","cervix","chesticle","chinc","chincs","chink","choad","chocolate rosebuds","chode","chodes","cipa","circlejerk","cl1t","cleveland steamer","climax","clit","clitface","clitfuck","clitoris","clitorus","clits","clitty","clover clamps","clusterfuck","cnut","cocain","cocaine","cock","c-o-c-k","cock sucker","cockass","cockbite","cockblock","cockburger","cockeye","cockface","cockfucker","cockhead","cockholster","cockjockey","cockknocker","cockknoker","cocklump","cockmaster","cockmongler","cockmongruel","cockmonkey","cockmunch","cockmuncher","cocknose","cocknugget","cocks","cockshit","cocksmith","cocksmoke","cocksmoker","cocksniffer","cocksuck","cocksucked","cocksucker","cock-sucker","cocksucking","cocksucks","cocksuka","cocksukka","cockwaffle","coital","cok","cokmuncher","coksucka","commie","condom","coochie","coochy","coon","coons","cooter","coprolagnia","coprophilia","corksucker","cornhole","cox","crabs","crack","cracker","crackwhore","crap","crappy","creampie","crotte","cum","cumbubble","cumdumpster","cumguzzler","cumjockey","cummer","cummin","cumming","cums","cumshot","cumshots","cumslut","cumstain","cumtart","cunilingus","cunillingus","cunnie","cunnilingus","cunny","cunt","c-u-n-t","cuntass","cuntface","cunthole","cunthunter","cuntlick","cuntlicker","cuntlicking","cuntrag","cunts","cuntslut","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d0ng","d0uch3","d0uche","d1ck","d1ld0","d1ldo","dago","dagos","dammit","damn","damned","damnit","darkie","date rape","daterape","dawgie-style","deep throat","deepthroat","deggo","dendrophilia","dick","dickbag","dickbeaters","dickdipper","dickface","dickflipper","dickfuck","dickfucker","dickhead","dickheads","dickhole","dickish","dick-ish","dickjuice","dickmilk�","dickmonger","dickripper","dicks","dicksipper","dickslap","dick-sneeze","dicksucker","dicksucking","dicktickler","dickwad","dickweasel","dickweed","dickwhipper","dickwod","dickzipper","diddle","dike","dildo","dildos","diligaf","dillweed","dimwit","dingle","dingleberries","dingleberry","dink","dinks","dipship","dipshit","dirsa","dirty pillows","dirty sanchez","dlck","dog style","dog-fucker","doggie style","doggiestyle","doggie-style","doggin","dogging","doggy style","doggystyle","doggy-style","dolcett","domination","dominatrix","dommes","dong","donkey punch","donkeyribber","doochbag","doofus","dookie","doosh","dopey","double dong","double penetration","doublelift","douch3","douche","douchebag","douchebags","douche-fag","douchewaffle","douchey","dp action","drunk","dry hump","duche","dumass","dumb ass","dumbass","dumbasses","dumbcunt","dumbfuck","dumbshit","dummy","dumshit","dvda","dyke","dykes","eat my ass","ecchi","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","enlargement","erect","erection","erotic","erotism","escort","essohbee","eunuch","extacy","extasy","f u c k","f u c k e r","f.u.c.k","f_u_c_k","f4nny","fack","fag","fagbag","fagfucker","fagg","fagged","fagging","faggit","faggitt","faggot","faggotcock","faggs","fagot","fagots","fags","fagtard","faig","faigt","fanny","fannybandit","fannyflaps","fannyfucker","fanyy","fart","fartknocker","fat","fatass","fcuk","fcuker","fcuking","fecal","feck","fecker","felch","felcher","felching","fellate","fellatio","feltch","feltcher","female squirting","femdom","figging","fingerbang","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fingering","fisted","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","fisting","fisty","flamer","flange","floozy","foad","foah","fondle","foobar","fook","fooker","foot fetish","footjob","foreskin","freex","frigg","frigga","frotting","fubar","fuck","f-u-c-k","fuck buttons","fuck off","fucka","fuckass","fuckbag","fuckboy","fuckbrain","fuckbutt","fuckbutter","fucked","fucker","fuckers","fuckersucker","fuckface","fuckhead","fuckheads","fuckhole","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucknugget","fucknut","fucknutt","fuckoff","fucks","fuckstick","fucktard","fuck-tard","fucktards","fucktart","fucktwat","fuckup","fuckwad","fuckwhit","fuckwit","fuckwitt","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","futanari","fux","fux0r","fvck","fxck","gae","gai","gang bang","gangbang","gangbanged","gangbangs","ganja","gay","gay sex","gayass","gaybob","gaydo","gayfuck","gayfuckist","gaylord","gays","gaysex","gaytard","gaywad","genitals","gey","gfy","ghay","ghey","giant cock","gigolo","girl on","girl on top","girls gone wild","glans","goatcx","goatse","god damn","godamn","godamnit","goddam","god-dam","goddammit","goddamn","goddamned","god-damned","goddamnit","gokkun","golden shower","goldenshower","gonad","gonads","goo girl","gooch","goodpoop","gook","gooks","goregasm","gringo","grope","group sex","gspot","g-spot","gtfo","guido","guro","h0m0","h0mo","hand job","handjob","hard core","hard on","hardcore","hardcoresex","he11","hebe","heeb","hell","hemp","hentai","heroin","herp","herpes","herpy","heshe","hitler","hiv","ho","hoar","hoare","hobag","hoe","hoer","hom0","homey","homo","homodumbshit","homoerotic","homoey","honkey","honky","hooch","hookah","hooker","hoor","hootch","hooter","hooters","hore","horniest","horny","hot carl","hot chick","hotsex","how to kill","how to murder","huge fat","hump","humped","humping","hussy","hymen","inbred","incest","injun","intercourse","j3rk0ff","jack Off","jackass","jackhole","jackoff","jack-off","jaggi","jagoff","jail bait","jailbait","jap","japs","jelly donut","jerk","jerk off","jerk0ff","jerkass","jerked","jerkoff","jerk-off","jigaboo","jiggaboo","jiggerboo","jism","jiz","jizm","jizz","jizzed","juggs","jungle bunny","junglebunny","junkie","junky","kawk","kike","kikes","kill","kinbaku","kinkster","kinky","kkk","klan","knob","knobbing","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kooch","kooches","kootch","kraut","kum","kummer","kumming","kums","kunilingus","kunja","kunt","kyke","l3i+ch","l3itch","labia","lameass","lardass","leather restraint","leather straight jacket","lech","lemon party","leper","lesbian","lesbians","lesbo","lesbos","lez","lezbian","lezbians","lezbo","lezbos","lezzie","lezzies","lezzy","lmao","lmfao","loin","loins","lolita","lovemaking","lube","lust","lusting","lusty","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","make me come","male squirting","mams","masochist","massa","masterb8","masterbat","masterbat3","masterbate","master-bate","masterbating","masterbation","masterbations","masturbate","masturbating","masturbation","maxi","mcfagget","menage a trois","menses","menstruate","menstruation","meth","m-fucking","mick","milf","minge","missionary position","mof0","mofo","mo-fo","molest","moolie","moron","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucka","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","mound of venus","mr hands","mtherfucker","mthrfucker","mthrfucking","muff","muff diver","muffdiver","muffdiving","munging","murder","mutha","muthafecker","muthafuckaz","muthafucker","muthafuckker","muther","mutherfucker","mutherfucking","muthrfucking","n1gga","n1gger","nad","nads","naked","nambla","napalm","nappy","nawashi","nazi","nazism","negro","neonazi","nig nog","nigaboo","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","niggle","niglet","nimphomania","nimrod","ninny","nipple","nipples","nob","nob jokey","nobhead","nobjocky","nobjokey","nooky","nsfw images","nude","nudity","numbnuts","nut sack","nutsack","nympho","nymphomania","octopussy","omorashi","one cup two girls","one guy one jar","opiate","opium","oral","orally","organ","orgasim","orgasims","orgasm","orgasmic","orgasms","orgies","orgy","ovary","ovum","ovums","p.u.s.s.y.","p0rn","paddy","paedophile","paki","panooch","pantie","panties","panty","pastie","pasty","pawn","pcp","pecker","peckerhead","pedo","pedobear","pedophile","pedophilia","pedophiliac","pee","peepee","pegging","penetrate","penetration","penial","penile","penis","penisbanger","penisfucker","penispuffer","perversion","peyote","phalli","phallic","phone sex","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","piece of shit","pigfucker","pillowbiter","pimp","pimpis","pinko","piss","piss pig","pissed","pissed off","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","piss-off","pisspig","playboy","pleasure chest","pms","polack","pole smoker","polesmoker","pollock","ponyplay","poof","poon","poonani","poonany","poontang","poop","poop chute","poopchute","poopuncher","porch monkey","porchmonkey","porn","porno","pornography","pornos","pot","potty","prick","pricks","prig","prince albert piercing","pron","prostitute","prude","pthc","pube","pubes","pubic","pubis","punanny","punany","punkass","punky","punta","puss","pusse","pussi","pussies","pussy","pussylicking","pussypounder","pussys","pust","puto","queaf","queef","queer","queerbait","queerhole","queero","queers","quicky","quim","racy","raghead","raging boner","rape","raped","raper","raping","rapist","raunch","rectal","rectum","rectus","reefer","reetard","reich","renob","retard","retarded","reverse cowgirl","revue","rimjaw","rimjob","rimming","ritard","rosy palm","rosy palm and her 5 sisters","rtard","r-tard","rum","rump","rumprammer","ruski","rusty trombone","s hit","s&m","s.h.i.t.","s.o.b.","s_h_i_t","s0b","sadism","sadist","sand nigger","sandler","sandnigger","sanger","santorum","scag","scantily","scat","schizo","schlong","scissoring","screw","screwed","screwing","scroat","scrog","scrot","scrote","scrotum","scrud","scum","seaman","seamen","seduce","seks","semen","sex","sexo","sexual","sexy","sh!+","sh!t","sh1t","s-h-1-t","shag","shagger","shaggin","shagging","shamedame","shaved beaver","shaved pussy","shemale","shi+","shibari","shit","s-h-i-t","shitass","shitbag","shitbagger","shitblimp","shitbrains","shitbreath","shitcanned","shitcunt","shitdick","shite","shiteater","shited","shitey","shitface","shitfaced","shitfuck","shitfull","shithead","shithole","shithouse","shiting","shitings","shits","shitspitter","shitstain","shitt","shitted","shitter","shitters","shittiest","shitting","shittings","shitty","shiz","shiznit","shota","shrimping","sissy","skag","skank","skeet","skullfuck","slag","slanteye","slave","sleaze","sleazy","slut","slutbag","slutdumper","slutkiss","sluts","smeg","smegma","smut","smutty","snatch","sniper","snowballing","snuff","s-o-b","sodom","sodomize","sodomy","son-of-a-bitch","souse","soused","spac","sperm","spic","spick","spik","spiks","splooge","splooge moose","spooge","spook","spread legs","spunk","steamy","stfu","stiffy","stoned","strap on","strapon","strappado","strip","strip club","stroke","stupid","style doggy","suck","suckass","sucked","sucking","sucks","suicide girls","sultry women","sumofabiatch","swastika","swinger","t1t","t1tt1e5","t1tties","tainted love","tampon","tard","taste my","tawdry","tea bagging","teabagging","teat","teets","teez","terd","teste","testee","testes","testical","testicle","testis","threesome","throating","thrust","thug","thundercunt","tied up","tight white","tinkle","tit","titfuck","titi","tits","titt","tittie5","tittiefucker","titties","titty","tittyfuck","tittyfucker","tittywank","titwank","toke","tongue in a","toots","topless","tosser","towelhead","tramp","tranny","transsexual","trashy","tribadism","tub girl","tubgirl","turd","tush","tushy","tw4t","twat","twathead","twatlips","twats","twatty","twatwaffle","twink","twinkie","two girls one cup","twunt","twunter","ugly","unclefucker","undies","undressing","unwed","upskirt","urethra play","urinal","urine","urophilia","uterus","uzi","v14gra","v1gra","vag","vagina","vajayjay","va-j-j","valium","venus mound","viagra","vibrator","violet wand","virgin","vixen","vjayjay","vodka","vomit","vorarephilia","voyeur","vulgar","vulva","w00se","wad","wang","wank","wanker","wankjob","wanky","wazoo","wedgie","weed","weenie","weewee","weiner","weirdo","wench","wet dream","wetback","wh0re","wh0reface","white power","whitey","whiz","whoar","whoralicious","whore","whorealicious","whorebag","whored","whoreface","whorehopper","whorehouse","whores","whoring","wigger","willies","willy","womb","woody","wop","wrapping men","wrinkled starfish","wtf","xrated","x-rated","xx","xxx","yaoi","yeasty","yellow showers","yiffy","yobbo","zoophile","zoophilia","zubb"],FORBIDDEN_LIST_IT=["a fanabla","a pecorina","abcdiet","accidenti","accidenti ","affanculo","alla cazzo di cane","alla pecorina","allupato","amico del cazzo","ammucchiata","anabootcampdiet","anale","andare a puttane","arrapato","arrusa","arruso","assatanato","avere la faccia come il culo","avere un culo così grande","bacha ma culo","bafangu chooch","bagasce","bagascia","bagascione","bagassa","bagnarsi","baldracca","baldraccacce","baldraccaccia","baldracche","baldraccona","baldraccone","balle","bariledimerda","bastardacce","bastardacci","bastardaccia","bastardaccio","bastardamadonna","bastarde","bastardi","bastardo","bastardona","bastardone","bastardoni","battere","battona","battone","bbwpit","belino","biga","bimbominkia","bocchinara","bocchinare","bocchinari","bocchinaro","bocchini","bocchino","bofilo","boiata","bordello","brinca","brutto cornuto","brutto figlio di puttana bastardo","brutto stronzo","bucaiolo","budellodidio","budiùlo","buona donna","busone","bustadipiscio","cacaminchia","cacare","cacasotto","cacata","cacca","caciocappella","cadavere","cagacazzo","cagaminchia","cagare","cagasotto","cagata","cagna","cammello","canacciodidio","canagliadidio","caned'allah","caned'eva","canedidio","cappella","carciofo","carità","carogna","caronya","casci","cavolate","cavolo","cazzacci","cazzaccio","cazzaro","cazzata","cazzate","cazzetti","cazzetto","cazzi","cazzimma","cazzissimo","cazzo","cazzo di merda","cazzo in culo","cazzo madre di dio","cazzo si","cazzona","cazzone","cazzoni","cazzuta","cazzute","cazzuti","cazzutissimo","cazzuto","ce l’hai piccolo","ce un cibirut","cesso","che cavolo","che cavolo.","che cazzo","che cazzo fai?","che cazzo ne so","che culo","che due coglioni","che due palle","che palle","che te pozzino ammazza","checca","checche","chi cazzo sei tu?","chiappa","chiavare","chiavata","chiavate","chiavatona","chiavatone","chissenefrega","chissenefrega?","ci sei cascato come una pirla","ciolla","ciolle","ciornia","ciospo","ciucciamelo","ciucciami il cazzo","ciucciapalle","cogliona","coglionaggine","coglionare","coglionata","coglionate","coglionatore","coglionatrice","coglionatura","coglionature","coglionazzi","coglionazzo","coglioncelli","coglioncello","coglioncini","coglioncino","coglione","coglioneria","coglionerie","coglioni","col cavolo","coprofago","coprofilo","cornuti","cornuto","cornutoilpapa","cozza","cozzo","credoana","cretinetti","cretino","cristod'undio","cristodecapitato","cristoincroce","culattina","culattone","culattoni","culi","culo","culona","culone","curnut","dare un calcio nel culo a qualcuno","deficiente","di merda","dietaabc","dietaana","dietaanabootcamp","dietabootcamp","dietadell'abc","dio bastardo","dio boia","dio cane","dio cangurello","dio dannato","dio fa","dio Fottuto","dio infame","dio lupo","dio maiale","dio merda","dio merdoso","dio mona","dio poj","dio povero","dio santo","dio schifoso","dio serpente","dio sorcio","dio stronzo","dio verme","dio zozzo","diobastardo","diobestia","diobestiazza","dioboia","diocan","diocane","diocannaiolo","diocapra","diocoglione","diocomunista","diocrasto","diocristo","dioculattone","diofarabutto","diofascista","diofinocchio","dioflagellato","dioimpestato","dioimpiccato","dioladro","diolebbroso","diolobotomizzato","diolurido","diomaiale","diomaledetto","diomerda","diominchione","dionegro","dioporco","diopoveraccio","diopovero","diorotto","diorottoinculo","diorutto","diosbudellato","dioschifoso","dioseppellito","dioserpente","diostracane","diostramerda","diostronzo","diosventrato","dioverme","ditalini","ditalino","dito al","dove cazzo vai?","duro","e che cazzo","essere un culo","fa cagare","fa schifo","faccia a culo","faccia di culo","faccia di merda","facciadaculo","facciadimerda","fanculo","fare una sega","fare unaŠ","fatti i cazzi tuoi","fatti una pugnetta","fava","femminuccia","fica","ficata","ficate","fiche","fichetta","fichette","fichetti","fichetto","ficona","ficone","figa","figata","figate","fighe","fighetta","fighette","fighetti","fighetto","figliadicane","figliadimignotta","figliadiputtana","figliaditroia","figlidicani","figlidimignotta","figlidiputtana","figliditroia","figliedicani","figliedimignotta","figliediputtana","figlieditroia","figlio di buona donna","figlio di mignotta","figlio di puttana","figlio di troia","figlio un cane","figliodicane","figliodimignotta","figliodiputtana","figlioditroia","figona","figone","figoni","figura di merda","finocchi","finocchio","fongoul","formaggio","fottere","fottersi","fottiti","fottuta","fottute","fottuti","fottutissima","fottutissime","fottutissimi","fottutissimo","fottuto","fracicone","frega un cazzo","fregna","frocetto","froci","frociara","frociaro","frociarola","frociarolo","frocio","frocione","frocioni","frocissimo","froscio","fucker","fumato il cervello","fuori come un balcone","garibaldi","gesùcristaccio","gesùesorcizzato","gesùhandicappato","gesùimpasticcato","gesùmalandato","gesùradioattivo","gesùsieropositivo","gesùstordito","gesùzozzo","gnocca","gnocche","goldone","gran’ disgraziato","grilletto","guanto","guardone","heyyyyy","i coglioni","incazzare","incazzarsi","incazzata","incazzate","incazzati","incazzatissima","incazzatissime","incazzatissimi","incazzatissimo","incazzato","incazzato nero","incoglionirsi","inculare","inculata","inculate","infrociato","ingoio","intro culo di mammata","ir budello di tu ma’","l'arte bolognese","latrin","leccacazzi","leccaculi","leccaculo","leccafica","leccafiga","leccafighe","leccami il culo","leccami la figa","leccapalle","lecchino","levati dai coglioni","li mortacci tua","lofare","loffa","loffare","lui è proprio un bischero","lui è un coglione","lumaca","ma’ va te ne a fanculo","Madonna","Madonna avvelenata","Madonna bastarda","Madonna bocchinara","Madonna impalata","Madonna infiammata","Madonna maiala","Madonna mignotta","Madonna puttana","madonna santa","Madonna schifosa","Madonna strega","Madonna svergognata","Madonna troia","Madonna zoccola","madonnaassassinata","madonnacane","madonnaimpestata","madonnaisterica","madonnalurida","madonnamaiala","madonnamongoloide","madonnanegra","madonnaputtana","madonnaschiava","madonnastregaccia","madonnasudicia","madonnasuicida","madonnasurgelata","madonnatroia","madonnaviolentata","mafankulo","maiala","manache","mangia la minchia","mangia merda","mangia merde e morte","manico","mannaggia","mannaggia tua","mannaggiacristo","mannaggiadio","mannaggiailbattesimo","mannaggiailclero","mannaggiaisanti","mannaggial'arcangelo","mannaggialabibbia","mannaggialadiocesi","mannaggialamadonna","mannaggialaputtana","mannaggiapadrepio","mannaggiasangiuseppe","merda","merdacce","merdaccia","merdamalcagata","merdata","merdate","merde","merdina","merdine","merdolina","merdoline","merdona","merdone","merdosa","merdose","merdosi","merdoso","mezza sega","mezzasega","mezzeseghe","mi stai facendo incazzare","micio","mignotta","mignotte","minchia","minchiadura","minchiaduro","minchiata","minchiate","minchie","minchione","minchioni","miserabili pezzo di merda","mona","mone","mongoloide","monta","montare","mortacci tua","mussa","nave scuola","negra","negraccia","negraccio","negro","negrona","negrone","nel culo","nerchia","nessuno mi unfungulo","non hai capito una sega","non me ne importa","non mi rompere i coglioni","nudo","oddio","padulo","palle","palloso","patacca","patonza","patonze","pecorina","perché cazzo non mi rispondi?","pesce","pezzo di merda","picio","pigliacazzi","pigliainculo","pincare","pinnolone","pipa","pipì","pippone","pirla","pisciare","pisciasotto","pisciata","pisciatina","pisciato","pisciatona","piscio","pisciona","piscione","piscioni","pisello","pistola","pistolotto","pomiciare","pompa","pompinara","pompinare","pompinari","pompinaro","pompini","pompino","porca","porca madonna","porca miseria","porca paletta","porca puttana","porca troia","porca vacca","porcamadonna","porcaputtana","porco","porco cane","porco dio","porco due","porco giuda","porco Iddio","porco zio","porcodidio","porcodio","porcoilclero","porcoilsignore","posso leccare il tua figa?","potta","prendere per il culo","prete","pro-ana","pro-anoressia","pro-bulimia","pro-ed","pro-ednos","pro-mia","proana","proanoressia","probulimia","proed","proednos","promia","pugnetta","pugnette","puppa","puppamela","puppamelo","puppami","puppare","puppe","puttana","puttana la Madonna","puttanacce","puttanaccia","puttanaeva","puttanaio","puttanamadonna","puttanata","puttanate","puttane","puttanella","puttanelle","puttaniere","puttanieri","puttano","puttanona","puttanone","quaglia","quando cazzo torni?","raspone","rasponi","recchione","regina","ricchione","ricchioni","rincoglionire","rincoglionito","rizzacazzi","rizzarsi","rompere i miei coglioni","rompere il culo a qualcuno","rompiballe","rompicazzi","rompicazzo","rompicoglioni","rompipalle","rotta in culo","rottinculo","rotto nel culo","ruffiano","santo cazzo madre di cristo","sbattere","sbattersi","sbocchinare","sbocchinato","sbocchiniamolo","sbora","sborra","sborrare","sborrata","sborrate","sborrato","sborratona","sborro","sborrone","sbrodolata","sburra","sburrare","sburro","scassacazzo","scassacoglioni","scassaminchia","scazzare","scazzata","scazzate","scazzati","scazzato","schifoso","scopare","scopata","scopate","scoregge","scoreggia","scorreggiare","scungio","secchione","sega","segaiolo","segars","seghe","segone","sei diventato pazza?","sei diventato pazzo?","sei duro come il muro","sei impazzita?","sei impazzito?","sei pazza?","sei pazzo?","sei scemo","sei stupido","sei un cretino","sei un deficiente","sei un idiota","sei un rompicoglioni","sei una sfigata","sei una testa di cazzo","sei uno stronzo","sembri un peni","sfacim e merde","sfiga","sfigati","sfigato","signorebastardo","slinguare","slinguata","smandrappata","smerdare","soccia","socmel","sorca","spagnola","spompinare","spompinata","spompinato","spompiniamolo","sputtanare","sta puttana","sti cazza","sticchio","stronza","stronzata","stronzate","stronzetta","stronzette","stronzetti","stronzetto","stronzi","stronzina","stronzine","stronzini","stronzino","stronzino/a","stronzo","stronzo/a","stronzoli","stronzolo","stronzomalcagato","stronzona","stronzone","stronzoni","strunzo","suca!","succhiacazzi","succhiamelo","succhiami","succhiaminchia","succhiapalle","succhione","sveltina","sverginare","tarzanelli","tarzanello","tenere qualcuno per le palle","terrone","testa di cazzo","testa di cazzo.","testa di minchia","tetta","tette","tettina","tettine","tettona","tettone","thinspiration","thinspo","ti ammazzo","ti corro in culo","ti sei bevuto","tirare","topa","troia","troiacce","troiaccia","troiamadonna","troie","troietta","troiette","troio","troiona","troioncella","troioncelle","troione","trombare","trombata","trombatona","tu ma’ piscia in piedi","tu piezza di merda","tua mamma bocchinara","uccello","un pompino","va’ a cacare","va’ a farti fottere","vacca","vaccamadonna","vada a bordo","vaffanculo","vaffanculo a chi t'è morto","vaffonculo","vai a cacare","vai a cagare","vai a farti fottere","vai a farti fottere, puttana","vai a quel paese","Vai a vendere il culo","vai all’inferno","vangare","vattela a pigliare in culo","venire","zinne","zio cantante","zoccola","zoccole","zuia",],FORBIDDEN_LIST_ES=["a tomar por culo","a tomar por saco","anda a cagar","apestar","bastardo","basura","bicho","burro","cabron","cabrón","cacorro","cagar","calientapollas","capullo","cara de culo","cara de monda","carajo","chancla (México)","chapero","chichi","chimba","chingar","chocho","chúpame la pija","chúpame la polla","chúpamedias","chúpamela","chupar","cipote","coger","cojonazos","cojones","come mierda y muere","coño","culiao","culo","de puta madre","estúpido","follar","forro","gilipollas","gonorrea","guarra","hijo de perra","hijo de puta","hijueputa","hostia","huevo","huevón","huevos","idiota","imbécil","jode","joder","joder ","jódete","joto","la concha de tu madre","la hostia","la madre que te parió","lame botas","loco","los cojones","maldito","malparido","mamahuevo","mamón","marica","maricon","maricón","mariconazo","mariquita","me cago en la hostia","me cago en ti","métetelo por el culo","mierda","mongolo","nabo","no me jodas","no me jodás","no seas gilipollas","pajero","payaso","pelos de los huevos","pelotas","pelotudo","pendejo","percanta","perro","pichacorta","pinche","piruja","polla","pollas en vinagre","puta","Puta madre","puto","qué cabrón","que te den","que te jodan","qué te jodan","rabo","raja","soplapollas","tarado","tonto","tonto del culo","tontopollas","trompada","un putero","verga","vete a la mierda","vete a la verga","vete al demonio","vete al infierno","zorra","zunga",],FORBIDDEN_LIST_FR=["abruti","aller se faire foutre","allez, va t’en","amène ta mère pourque je te refasse","avale mes couilles","bachie coupe","baise","baise moi mor","baise toi","baiser","bander","batard","bigornette","bique","bise","bite","bitte","bloblos","bon sang","bordel","bordel de merde","bosser","bourré","bourrée","brackmard","branlage","branler","branlette","branleur","branleur de chiens morts","branleuse","brouter le cresson","broutte-minou","brûle en enfer","brûle en l'enfer","c'est des conneries","c’est chiant","c’est des conneries","c’est le bordel ici","c’est naze","c’est quoi ce bordel","c’est vraiment de ta faute","ça casse les couilles","ça craint","ça fait shier","ça m'emmerde","ça me casse les couilles","ça me fait chier","ça me saoûle","ça pue","ça schlingue","caca","cailler","calice","calisse","casse-couille","casse-couilles","casse-toi","casse-toi, idiot","casse-toi, idiote","casser les couilles","cave","ce putain d’embouteillage","ce putain d’ordinateur","cela me soûle","charogne","chatte","chiant","chiante","chiasse","chien sale","chienne","chier","chieur","chieuse","chiottes","choleque de merde","clito","clitoris","con","conasse","connard","connasse","conne","connerie","conneries","couille","couilles","couillon","couillonne","cramouille","crétin","crève la gueule ouverte","criss","crisse","crosseur","cul","debile","déconne","déconner","dégage","dégénéré","dégueulasse","dinde","drague","emmerdant","emmerder","emmerdeur","emmerdeuse","enculé","enculé de ta mère","enculé toi salaud","enculée","enculer","enculer les mouches","enculer une mouche","enculeur","enculeurs","enfoiré","enfoirée","étron","face de cul","faire enculer","faire foutre","fais chier","fait moi jouir","ferme ta gueule","fiche moi le paix","fif","fille de pute","film de cul","fils de pute","fils de salope","folle","fous le camps","fous le camps et morte","foutre","foutre la merde","foutre le bordel","framble","fucker","garage à bite","garce","gerbe","gerber","gouine","graine","grande folle","grogniasse","gros tas","gross cul","guenon","gueule","idiot","idiote","il est stupide","il fait chaud ici, enculé","il me fait chier","imbécile","j'en ai marre","j'en ai plus rien à foutre","j'en ai ral le bol","j'en ai ral le cul","j'en ai rien à cirer","j'en ai rien à foutre","j’ai baisé ta mère","j’ai envie de chier","j’en ai marre","j’en ai plus rien à foutre","j’en ai ral le bol","j’en ai ral le cul","j’en ai ras le bol","j’en ai rien à cirer","je m'en fiche","je m'en fou","je m'en fous","je m'en sacre","je m’emmerde","Je m’en bats les couilles","je m’en fiche","je m’en fou","je m’en fous","je me fais chier","je me fais chier ici","je pis dans ta bouche","je t'emmerde","je t'encule","je te déteste","je te nique ta race sale fils de chien","je veux faire l’amour avec toi","jouir","la chatte","la meme chose a toi","la putain de ta mère","la vache","laisse-moi tranquille","le con","lèche-cul","ma couille","mal baisée","mance","mange de la merde","mange ma bite","mange merde et morte","mange tes grands morts","maudit","ménage à trois","merdasse","merde","merde embulante","merdeuse","merdeux","mes couilles en toi","metteux","meuf","mince","mon dieu","morceau de merde","nana","ne rien foutre","nègre","negro","nique la police","nique ta mere","nique ta mère","nique ta mère espèce de gros bâtard de merde","nique ta mère la chauve","nique ta race","niquer","nom de dieu","nom de dieu de merde","noune","oh la vache","oh putain de merde","oh, merde","ordure","osti","osti de calisse de tabarnak","ostie","palucher","partir en couille","pauvre con","pédale","pédé","pétasse","péter","péter la cenne","péter les couilles","petit tabernac","petite pute","pipi","pisser","pisser dans","plotte","pouffe","pouffiasse","poupée","pousse-crotte","punaise","purée","putain","putain de bordel de merde","putain de merde","putain de temps","putain t’es moche","pute","qu’est-ce que tu branles","quel bordel","quel salaud","queue","queutard","ramoner","retourne enculer","rien à branler","rien à foutre","s’en branler","s’en foutre","sa mère","sa mère la pute","sa race","sac à foutre","sac à merde","sac merde","sac vin","sacrament","sacrebleu","salaud","salopard","salope","saloperie","se foutre dans la merde","se taire","stupide","suce","suceuse","t'as pas de couilles","t'es rien qu'un petit connard","t'es un salaud","t’as intérêt ne pas m’énervé","t’as pas de couilles","t’es débile","t’es rien qu’un petit connard","t’es un salaud","t’es vraiment emmerdant, toi","ta gueule","ta mère elle suce des ours","ta mere est francaise","ta mère est une pute","ta mère la pute","ta mere suce des bites en enfer","tabarnak","tais-toi","tanche","tantouze","tapette","tarte","tas de marde","tata","tête de nœud","tête moi le dard","tête moi le noeud","téteux","teuch","teuf","traînée","très stupide","tringler","trique","troncher","trou de cul","trou du cul","tu commence m’enmerder","tu es con","tu es très stupide","tu es un putain","tu et un ane","tu fais chier","tu m'emmerdes","tu me fais chier","tu me fatigues","tu me gonfles","turlute","une salope","va te branler","va te crosser","va te faire","va te faire baiser","va te faire enculer","va te faire foutre","va te faire mettre","va te faire voir","va te tripoter","vache","vas faire foutre a la vache","veuve","vous êtes stupide","vous sentez comme le boeuf et le fromage","vous vissez","zigounette","zizi","zut","zut alors",],FORBIDDEN_LIST_DE=["abschaum","affenschwanz","ah du schwein","alter muschi","alter wichser","am blitz geleckt haben","analritter","arsch","arschficker","arschfotze","arschgeige","arschgesicht","arschkeks","arschkriecher","arschlecker","arschloch","auberfeiger","aufgeilen","backpfeifengesicht","bastard","bimbo","blöde gans","blöde stinkpot","blödmann","blödsinn","bloede kuh","blutige sau","blvde fotze","bonze","bratze","bruchbude","bumsen","das arschloch","das ist mir scheißegal","das miststück","das schwein","depp","der dreckskerl","der fotzenlecker","der mist","der mistkerl","der wichser","die drecksau","die sau","die verarsche","dödel","donnerwetter","dreckige hure","drecksack","drecksau","dreckskerl","drecksnest","du bastard","du blöde kuh","du fickfehler","du hurensohn","du Hurensohn","du kannst mich mal","du sau","du schwein","du weichei","dummbatz","dumme","dumme kuh","dumme nuss","dummkopf","dumpfbacke","erarschen","fahr zur holle","feigling","fick","fick deine mutter","fick dich","fick dich arschloch","fick dich in knie","ficke","ficken","ficker","filzlaus","flachwichser","flittchen","fotze","fratze","geh zum teufel","gottverdammt","hackfresse","halt deinen mund","halt die fotze","halt die klappe","hat jemand dir ins gehirn geschissen","hirnrissig","homo","hosenscheisser","huhrensohn","hure","huren","huren sohn","hurensohn","ich ficke deine mutter","ich ficke deine schwester","ich hasse dich","ich will dich ficken","ich will ficken","idiot","ische","kackbratze","kacke","kacken","kackwurst","kampflesbe","kanake","kimme","klugscheißer","küss meinen arsch","küss meinen arsch","lech mien arsch","leck mich","leck mich am arsch","lesbe","lick","lms","lümmel","lusche","lutsch mein’ schwanz","lutsch’ meine eier","lutschen","milf","mist","miststück","möpse","morgenlatte","möse","mufti","muschi","muschi lecker","mutterficker","nackt","neger","nigger","nippel","nutte","ohne scheiß","onanieren","orgasmus","penis","penner","pimmel","pimpern","pinkeln","pisse","pissen","pisser","popel","poppen","porno","puff","quatsch","reudig","rosette","saugen","schabracke","scheiss","scheissdreck","scheisse","scheiße","scheissekopf","scheissen","scheisser","scheisskerl","scheisskopf","schiesser","schlampe","schnackeln","schnoodle noodle","schwanz","schwanzlutscher","schweinebacke","schweinehund","schwuchtel","schwuchtl","shaisa","sheisse","sohn einer hündin","spasti","spießig","spinnen","spinner","spinnst","teufel","tittchen","titten","trottel","verdammt","verdammte scheiße","verdammter","verdammter Scheiß","verfluchter","verpiss dich","verrückter mann","vögeln","vollidiot","vollpfosten","vollscheißen","volltrottel","was zum teufel","was zur hölle","weichei","wichse","wichsen","wichser","witzbold","zicke","zur holle mit dir",],FORBIDDEN_LIST_PT=["boquete","caralho","do caralho","foda","foda-se","foder","nem fodendo","pau","pica","porra","porra nenhuma","pra caralho","merda","punheta","teu cu","trepar","olho do cu","buceta","xoxota","sacanagem","cacete","caceta","siririca","arrombado","babaca","brocha","bicha","boiola","cracudo","filho da puta","galinha","puta","piranha","vagabundo","viado","chupa meu pau","vai pro caralho","vai se foder","vai tomar no cu","corno","fodido","cachorro","canalha","escroto","trouxa","vaca","mijar","cagar","monte de merda","saco de merda","peido","encher o saco",],FORBIDDEN_LIST_RU=["хуй","сука","сволочь","жoпа","мудак","гавно","пиздец","блядь","лох","гандон","мочи перхоти","лошадь мочи","развалюха","ебаный","подонок","сучий потрох","долбоеб","чушь собачья","трахни тебя","ти дегхенераат","отыебис от меныа","чертовски дно","hooy tebe v zhopu","hooy na ny","blyat","zalupa konskaya","hooy morzhovy ","gandon shtopany","perdoon stary","pizdobol, pizdoon","govnosos","moodozvon","zaebis","pizdets","po hooy","do pizdy","yelda","zalupa","tselka","minet","naveshat pizdyley","dat pizdy","pizdy vlomit","srat tebe v rot","past zabej, padla jebanaja","zasranec","nu vse, tebe pizda","poshyel k chyertu","potselui mou zhopy","zhri govno i zdohni!","pyeryestan zalupatsa","yob tvoyu mat","durak neschastnyi","balvan","dubiina","viyebnutsa","govno","zhopa","sraka","mudak","passossee mayee yaitsa","ti durak","zacroy rot","ti degheneraat","bliad","govniuk","pidaras","poshol nahuj","pashol na khui","eto mnye do huya","na huy?","a huy li?","huy tebye v glaz!","yobanaya suka!","otyebis ot menya!","yobni yivo","yob materi vashi!","ootebya nyetu peeski","nee da dyeloni","ya hachu tebya trakhate","zasranees","kooshay govno sooka","ootebya nyet yayeesav","cuchka derganaya","poydi k chertu","fsyoe zaeebahnuh","gndon","prezirvativ","thomarai gand mai lund hai?","eedee tryakhate tvayu mamu","suka","sooka","jebat moi lisiy cherep","chlen tebie v rot","otyebis","zhopu porvu margala vikoliu","otlez gnida","zhopoliz","srachishche","idi nahuey","ya tibyi dam po yibalu","za cyun v shopu","ti sleepoy, asleyp","otsosi, potom prosi","jri govno i zdohni","blad","bliatz","opezdol","ebanashka","eblan","dolboyob","raspizdyai","mudlan","ja pycckij pidaras","alkash","babnik","devushka po vyzovu","zi detka","dostal/zakolebal","dura","durak","zadnitza","zanuda","zatknis","ischenzni","kakaya zanuda","kakogo chyorta","kachok","konchaj bazar","loh","macho","mne nasrat, chto ty dumaesh","mne do lampochki","mne vse ravno","mymra","ostyn","otvali","perdet","pit zapoem","pridurok","svoloch","sidet na igle","suka","travka","trajat'sya","halyavshchik","chyort voz'mi!","chyort poberi!","chyort!","chush' sobach'ya","yajtza","zloebuchii hui","idi v zhopu","ia tebya imeyu","perhot' podzalupnaya","minyet","chlen marinovanii","raspizdyay kolhoznii","kon' pedal'nii","bariga","idi nyuhai plavki","pizda ti jopoglazaya","rodilsya cherez jopu","pizda s ushami","zalupoglazaya mondavushka","anus perepuganii","khrenoten'","indanahway suka bluut","niegadzai","svolotch","sooksin","jopa","perestan' bit dabayobom","ya sru na tvayu mat'","yobanyi karas'","yeban'ko maloletnee","zjelob","ment ","menti","zona","na zone","ti menia dostal","shluha vokzal'naja","wed'ma","past' zakroi","tvar'","vrezat","gaduka","vrubatsa","huyniu nesti","savok","poshlaja svenja","dovodit","unbju!","prishju!","paritsa","starik","bomzj","beloruchka","durak","botanik","burda","krisha poehala","nochnaja babochka","kak muhi na govno","vlip","popal","promazal","svinets","pulia","pushka","kalash","gaishnik","gai","oblom","ne pudri mne mozgi","okachenel","vstat","hohol","patsan","kosiak","kosiachok","lobizatsa","razvaluha","derevianni rubli","baba jaga","zmei gorinich","koshei bessmertni","vziatka","vziatochnik","baba","rabochie","udavis","podonok","tovo, on/ona tovo","goli","obnazjonni","zjulik","zviaknut","roga pristavit","jaitsa razbit","raskvasit","molokosos","yebanat vonuchii","ne hnich","mordoboy","sooka sin","rogatii kozyol","golovorez","shestiorka","nu ti dajosh!","naguliala","peshka","krisha",],FORBIDDEN_LIST_AR=["أحط رجلي بطيزك و بركض فيك","أطرش","أعمى","أهبل","أي كلام","ابعتلي اختك","ابن الاحبة","ابن البلاعة","ابن الحمار","ابن الشرموطة","ابن العاهرة","ابن العرص","ابن الفشخة","ابن القحبة","ابن اللبوة","ابن المتناكة","ابن الممحونة","ابن الوسخة","ابن حمار","ابن كلب","ابو ريحه","ابو قرعة","اتنيل بنيلة","اتنيلي بنيلة","احا","احترم نفسك","احتلام","احمق","اخرس","اخرسي","اذهب الى الجحيم","اصبع على صرمك","اصمت","اطرش","اطفح","اطفح بالسم الهاري","اطفح بسم الهاري","اطفحي","اطفحي بالسم الهاري","اطفحي بسم الهاري","اعمى","اغبياء","اغتصاب","اقرع","الأحمق","الحس طيزى","الحس طيزي","الحس مكوتي","الحمار","الشيطان عليكم","العمى","القرف","الكلبة","اللعنة","اللعنة عليك","الله لا يعطيك العافية","الله ياخذك","الله يخدك","الله يلعنك","الله ينعل ابوك","الله ينعل ابوكم","الله ينعل ابوكي","النيك","النيك فى الطيز","النيك فى الكس","امشي","امك شرموطه","انت شاذ","انتا كلبى","انقلع","انيك امك","اه كيسى","اهبل","اي كلام","اية الزفت دة","ايري بابوك","ايري باختك","ايري بامك","ايري ببخش طيزا لامك","ايري بستك","ايري بطيزك","ايري بيلي بزرك","ايري فى وجه امك","ايري فيك","ايري قلبك","ايلان كتاب","باترون","بارا نايك","بحشى رجلى فى طيز امك","بحشى رجلى فى طيزك","بخيل","بدي امروج فى عينك","بدي انكحك","بدي انيك كوسك","بدي فوت ايرى بطيزك","بدي نيك بزاز امك","بدي نيك كسك","بدي نيكك","بز","بزاز","بشخ على امك","بشخ عليك","بظر","بعبوص","بغيض","بلطجي","بن كلب","بنت الحمار","بنت الشرموطة","بنت العاهرة","بنت العرص","بنت الفشخة","بنت القحبة","بنت اللبوة","بنت المتناكة","بنت الممحونة","بنت المنتاكة","بنت الوسخة","بنت حمار","بنت كلب","بهايم","بهيم","بهيمة","بوس طيزى","بيتتناك","بيتتناك فى طيزها","بيتتناك فى كسها","بيتناك فى طيزه","بيتنتاك","بيتنتاك فى طيزها","بيتنتاك فى كسها","بيري ببزيزات اختك","بيضاتى فيك","بيضان","بيوض","تبا لك","تربيه وسخه","تعا موص","تعريص","تعمل جنس","تلحس","تلحس ايري","تلحس بخشي","تلحس بيضي","تلحس طيز","تلحس طيزى","تمص","تمص بيتاعي","ثدي","ثقيل الظل","جاتك داهية","جاتك ضربة في قلبك","جاتك نيلة","جاهل","جاهلة","جبان","جبانة","جرابيع","جرار","جربوع","جربوعة","جزمة قديمة","جماع","جنس","جنسي","حرامي","حرامية","حلمة","حمار","حيوان","حيوانات","خاوي","خرايا عليك","خرب بيتك","خرة","خرنتة","خنثي","خنيث","خنيث العود","خنيق","خول","خولات","دا سؤال مالوش رد الى الدرب","دخليه كله","دميم","دنىء","ديك","ديوث","راس الزب","راكب ايرى","روح انتاك","روح في داهية","روح في ستين داهية","روحي في داهية","روحي في ستين داهية","زاكا","زب","زبطلي اختك","زبي","زبي في بقك","زي الزفت","ساذج","سافل","سافلة","سحاق","سحاقية","سحقا لك","سراب منة","سفلة","سكس","سكسى","سليط اللسان","سمبول","سمبولى ما عندى غيره","سىئ الطباع","شاذ","شاذة","شخص احمق","شراميط","شرج","شرموط","شرموطة","شرير","شهوة","شواذ","شيلب","ضهري عليك","طز","طز فيك","طز فيكم","طز فيكي","طعمه ابن كلب","طه حاثك","طوز فيك","طوز فيكم","طوز فيكي","طيز","طيزك","طيزك حمرا","طيزه","طيزها","عاهرة","عبد","عبط","عبطاء","عبيط","عبيطة","عديم الأدب","عديم الأصل","عديم الحيا","عديمة الأدب","عديمة الأصل","عديمة الحيا","عرص","عقله ضارب","عقلها ضارب","عقلهم ضارب","عكروت","علق","علقة","علوق","عليك اللعنه","عيرة فيك","عيل","غبي","غبية","غريب","غطى الفاس ودوس الراس","فرج","فرشاية","فشّخ","فظ","فكسان","فى ستين نيله","قبيح الخلق","قحبة","قضيب","قليل الأدب","قليل الأصل","قليل الحيا","قليلة الأدب","قليلة الأصل","قليلة الحيا","قواد","كذاب","كذابة","كذابين","كس","كس اختك","كس امك","كس امك معفنه","كسها","كل ايري","كل خرا","كل خرة","كل زق","كل زقين","كوس","كوس اختك","كوس امك","كوس اهلك","كيس اختك","كيس امك","لئيم","لبوه","لحس","لعق","لعنة","لعين","لواط","لوطي","مالوش زبر","ماليش لولو","مانيوك خرا","مبادل","متضايق","متناك","متناكة","متناكين","مجانين","مجنون","مجنونة","مخنث","مخه جزمة","مخه جزمة قديمة","مره","مزعج","مستفز","مش متربي","مش متربية","مش مريح","مشدوب","مشوار ابن كلب","مص","مص ايري","مص زبري","مص زبي","مصلي كرارزي","معرص","معرصين","معندوش نظر","مغفل","مفلقس","مفلقسة","مقرف","مقرفة","مقرفين","مكوى","ملحات","ملعون","ملكش فيه","ملهاش كس","ملهوش تالتين لزمة","ملهوش لزمة","ممسوخ","منتاكة","منيوك","موظر","نار كوسى","ناك","نايك اختك","نصاب","نصابة","نصابين","نكها","نكها فى طيزها","نكها فى كسها","نونا","نيك","نيك ابوك","نيك جدك","نيك حالك","نيك نفسك","نيكني","هبل","هبلاء","هبلة","همج","همجي","همجية","هنيكك","وسخ","وسخة","وسخين","وغد","ولاد الشرموطة","ولاد القحبة","ولاد اللبوة","ولاد المتناكة","ولاد الوسخة","ولاد كلب","ولد ال 16","ولد الزينه","ولد القحبه","ولد القواد","ولد الكلب","ولد الهاويه","ىا بنت الحرام","يا ابن الجحش","يا ابن الشرموطة","يا ابن المتناكة","يا ابن المنتاكة","يا بت","يا بنت الخنزير","يا جازما","يا جرار","يا جزمة","يا جزمة يا ابن الجزمة","يا جزمة يا بنت الجزمة","يا حمار","يا حمارة","يا حمير","يا حيوان","يا خارا","يا خره","يا زبالة","يا شارموطة","يا شرموطة","يا عرص","يا كس","يا كلب","يا كلبة","يا واطى","يا ولد الجحبه","يابن الشرموطة","يابني","ياتك ضربة في قلبك","ياجزمة","ياخرا شنو هذا","ياخرة","يادي النيلة","ياشرموطة","يخرب بيتك","يخرب بيتك وبيت اللي خلّفوك","يخسف الله به الأرض","يعمل جنس","يقطع عمرك","يلحس","يلحس طيزه","يلحس طيزها","يلحس كسها","يلعن ابو امك","يلعن ابوك","يلعن اللي جابوك","يلعن بيت اللي خلفوك","يلعن زباب اختك","يلعن كس امك","ينكها","ينكها فى طيزها","ينكها فى كسها","ينيك",],FORBIDDEN_LIST_ID=["adult","akouka","alkohol","anak haram","anak yatim","analex","anjing","anjink","anjir","arsundal","asu","autis","azizay","babi","babi lu","bacot","bajingan","bajingan tengik","bakka","banci","bandar","bangke","bangsat","bawel","bebon","bedebah","bedon","beer","bego","begok","bencong","Bencong","berak","bercinta","berengsek","bersetubuh","bestiality","betting","biadab","bispak","bitch","blo'on","blowjob","bo’ol","bodo","bodoh","bodooohhh","bokep","boker","bokong","borok","bot","breast","brengsek","brengsex","brengsexxx","buah dada","buah zakar","buaya","buaya darat","budeg","bugil","bujang inam","Burung","cabe lo","cabo","cacat","cacat lu","cangcut","caper","ccookkk","cebong","celaka","celeng","celsit","centil","chealeng","chealshit","cheleng","cheleng tikus","chellenk","chelshit","chleng","cilaka","cina","citikus","citykus","cium pantat ku","cock","coitus","congek","cumi","curut","dafuq","dajal","davit monyet","dekil","dengkulmu","detik","dodol","dongok","downline","drug","drunken","dungu","ectasy","edan","eek","ejakulasi","eneg","enti","erotic","erotis","ewe","fak","fakk","fergay","fetish","foto hot","foto panas","fuck","fuck you","galau-galau munyuk","ganjen","ganyang","gay","geblek","gelandangan","gelo","gembel","gigolo","gila","goblog","goblok","goblokk","gobloookkkkk","grogol grogol","grogol grogol munyak","guk-guk mu","handjob","haram jadah","heunceut","homo","homoseksual","hot girl","hot model","hot picture","hot video","hubungan intim","iblis","idiot","inex","intercouse","intim","itil","jablay","jahanam","jalang","jam8an","jamban","jancok","Jancuk","jancuk","Jangkrik","jangkrik","jaran","Jayus","Jayus lo","jeber bau tai","jelek lu","jembel","jembut","jiancux","jijik gua**","judi","kadal","kafir","kalempong","kamasutra","kambing","kampret","kampungan","kancut","kanjut","kaparat","kasian","kasiann","kasihan","katrok","kecepirit","keledai","kentut","keparat","keperawanan","kere","klik","kolor","kondom","kontol","kontol babi","kontol mamakmu","kunyuk","labia","laknat","leak","lebay","lebok","lesbian","live sex","lonte","loserfool","maaampooos","mabuk","madura","maho","makan tai","make love","maling","mamakmu berkontol","mampoooos","mampos","mampus","mampuz","manasturbo","mandul","martole","masturbasi","masturbate","matamu","mati","meki","memek","memek busuk","memex","mesum","miyabi","modar","moddar","monyet","monyong","mother fucker","muka boros","muka plastik","muka sange","munyuk","munyukers","munyuuk","murahan","najis lu","najong","naked","narkoba","narkotika","nekrofilia","ngaceng","ngenti","ngentot","ngepet","ngeseks","ngewe","ngocok","njing","nono","nonok","norak","nude","nyemot","nyolot","nyuk","onani","onta","oral sex","orang kampung","orang udik","orgasm","orgasme","otak melayu","otak miring","otak udang","otakmu","ozawa","paedofilia","palaji","palkon","pantat","pantek","parafilia","payudara","pe’a","pecun","peju","pelacur","pelakor","pele","peler","pemerkosa","pengemis","penis","pepet","perawan","perek","perkosa","playboy","porn","porno","pukimai","pukimak","pulsa","pussy","rape","raping","robot","sakit jiwa","sampah","sarap","seks","selangkangan","self service","sempak","sendal","senggama","setan","settubuh","sex","sex toy","sexual","shit","sial","sialan","sialan lu","silit","sinting","sperma","sundal","taek","taex","tahi","tahi kucing","tai","Tai lo","taik","tampang tua","tampol","telanjang","testicles","testis","tetek","titit","tokai","tokek belang","toket","tolo","tolol","topless","tukang bohong","ublag","udik","united","vagina","video hot","video panas","virginity","vodka","vulva","xxx","zakar","zakar kecil","zoofilia",],FORBIDDEN_LIST_ZH=["13点","三八","三级片","三陪小姐","下三烂","下老子一跳","下贱","不要屄脸","不要屄臉","不要脸","不要脸的东西","不要臉","不要臉的東西","丧心病狂","个屁","个老子的","九游","书呆子","乳","乳交","乳头","乳房","乳波臀浪","乳臭未乾","乳臭未干","二奶","二屄","二把刀","二百五","五打一","交配","人妖","人渣","什么鸟","什麼鳥","仆街","从我面前消失","他奶奶","他奶奶的","他奶娘的","他妈","他妈ㄉ王八蛋","他妈地","他妈巴子","他妈的","他妈的鸟","他娘","他媽巴子","他媽的","他媽的鳥","他马的","低三下四","你不是东西","你不是人","你不是東西","你个傻比","你个狗屁","你丫挺的","你丫欠揍","你二大爷的","你他妈的去死吧","你他妈的看什么","你他马的","你以为你在跟谁说话","你以为你是谁","你会后悔的","你個狗屁","你全家","你在講什麽屁話","你在講什麽鳥話","你在讲什么屁话","你在讲说什么鸟话","你奶奶的","你她马的","你妈","你妈的","你妈的屄","你娘","你娘卡好","你娘咧","你媽的屄","你它妈的","你它马的","你怎么回事","你是个混球","你是什么东西","你是什麽東西","你是鸡","你是鸭","你有病啊","你疯了吗","你的脑子进水啊","你真二","你真是一个废物","你真烦人","你真让我恶心","你給我滾","你给我滚","你老味","你老母","你老闆","你马的","倒蛋","假阴茎","假陰莖","做小姐","做爱","傻子","傻屄","傻比","傻瓜","傻缺","傻逼","入","公公","公共汽車","公共汽车","关你屁事","关我屁事","关我鸟事","其言粪土也","具具","册那","冚家拎","冚家鏟","军妓","几八","几叭","几巴","几芭","刚度","刚瘪三","别再浪费我的时间了","别找借口","别烦我","别跟我胡扯","别那样和我说话","包皮","十三点","半瓶子醋","卖B","卖比","卖淫","卖豆腐","卵","卵子","去你奶奶的","去你妈的","去你媽的","去你的","去吃大便","去死","双峰微颤","发格","发疯","变态","口交","口肯","叫你生孩子沒屁股眼","叫你生孩子没屁股眼","叫你生孩子长痔疮","叫床","吃屄","吃屎","吃豆腐","吃飽飯沒事干","吃饱了撑的","吊","吊茶包","后庭","吹功","吹牛逼","吹箫","吹蕭","呆子","呆瓜","咪咪","咬","咸家伶","咸家鏟","品玉","哈巴狗","哈棒","喜憨","嘿咻","坏蛋","塞你公","塞你娘","塞你母","塞你爸","塞你老师","塞你老母","壞蛋","处女","外阴","大卵子","大卵泡","大姨妈","大姨媽","大脑进水","大豆腐","大魔头","大鸡巴","太平公主","太监","女气","女氣","奶","奶奶","奶奶的熊","奶子","奸","奸你","她妈地","她妈的","她马的","妈B","妈个B","妈个比","妈个老比","妈妈的","妈比","妈的","妈的B","妈逼","妓","妓女","妓院","妖怪","妖精","妳她妈的","妳妈的","妳娘的","妳老母的","妳马的","姘头","姣西","姥姥","姦","娘个比","娘娘腔","娘炮","娘的","娼妇","婊子","婊子养的","嫖娼","嫖客","孬种","孬種","它妈地","它妈的","密洞","射你","射精","小三","小乳头","小兔崽子","小卵子","小卵泡","小太太","小妹妹","小姐","小弟弟","小样了吧","小气鬼","小瘪三","小老婆","小肉粒","小蜜","小骚比","小骚货","小鬼","小鳥","小鸟","小鸡巴","小鸡鸡","尻","屁事","屁头","屁眼","屁精","屁股","屁話","屁话","屄","屌","屌丝","屌絲","屎忽","屎蛋","屎㞎㞎","崇洋媚外","巨乳","干","干x娘","干七八","干你","干你妈","干你娘","干你小BK的","干你老母","干你良","干妳妈","干妳娘","干妳老母","干妳马","干您娘","干机掰","干死CS","干死GM","干死你","干死客服","幹","幹你娘","幹你媽","幹你老母","废","废人","废物","废话","廢","廢人","廢物","廢話","強姦","强奸","强奸你","德棍","忘八","性","性交","性器","性无能","性爱","恐龙","恶棍","情色","惡棍","想上你","懆您妈","懆您娘","懒8","懒八","懒叫","懒教","成人","我呸","我操你祖宗十八代","我的天啊","我真后悔这辈子遇到你","我肏","我都腻了","我靠","我靠 or 我尻","我鳥他的","我鳥你","我鸟他的","我鸟你","戴綠帽子","戴绿帽子","扒光","打回合","打手枪","打手槍","打炮","打第三回合","打飛機","打飞机","扯蛋","找死","抽插","拍马屁","招妓","招贬","指交","按摩棒","捋管","捋管儿","捣蛋","插","插你","插死你","搗蛋","搞","撒尿","撚","撸管","操","操你","操你全家","操你奶奶","操你妈","操你娘","操你媽","操你祖宗","操你老妈","操你老母","操妳","操妳全家","操妳妈","操妳娘","操妳祖宗","操机掰","操比","操逼","擼管","放你妈的屁","放你妈的狗屁","放你妈的狗臭屁","放你媽的屁","放你媽的狗屁","放你媽的狗臭屁","放屁","放荡","无用","日他娘","日你","日你妈","日你老娘","日你老母","日批","昏蛋","智力障碍","智力障礙","智障","書呆子","月经","有屁快放","有屁用","有話快說","机八","机巴","机机歪歪","杀人不眨眼","杂种","柒","桃花園","死三八","死不要脸","死不要臉","死丫頭","死屁眼","死鬼","残废","殘廢","母夜叉","母老虎","毒龍鑽","毒龙钻","比","水货","沒屁股眼","沒用","没屁用","没屁股眼","没长眼啊","没门儿","波霸","泰國人妖","洗面奶","流氓","浑蛋","浪叫","淫","淫乱","淫妇","淫棍","淫水","淫秽","淫荡","淫蟲","淫西","深喉","混球","混蛋","混賬","混賬王八蛋","混账","混账王八蛋","渾蛋","湿透的内裤","滚你妈屄","滚你妈的蛋","滚开","滚犊子","滚蛋","滾你媽屄","滾你媽的蛋","滾犢子","滾蛋","滾開","潮吹","激情","灨你娘","火眼邪神","炒飯","炒饭","烂屄","烂货","烂逼","無用","無頭蒼蠅","爆乳","爆菊花","爛","爛屄","牛屄","牛逼","犯贱","狐狸精","狗娘养的","狗娘養的","狗屁","狗屁不通","狗屎堆","狗崽子/狗仔子","狗日","狗日的","狗杂种","狗狼养的","狗腿子","狗雜種","玉杵","王八)","王八旦","王八羔子","王八蛋","玩老二","珍珠項鍊","珍珠项炼","瓜娃子","瓜婆娘","瓜批","男人婆","畜生","瘟神","瘪三","瘸子","發瘋","白烂","白痴","白癡","白目","瞎子","瞎鸡巴扯","瞧不起","硬膠","祖宗","神棍","神經病","神经病","神经衰弱","福壽","福寿","禽兽","禽兽不如","私服","穷光蛋","窝囊废","窩囊廢","窮光蛋","笨實","笨蛋","米田共","粉腸","精子","糊涂虫","糊涂蛋","老不死的—","老二","老味","老太婆","老头子","老妖婆","老嫖","老母","老瘪三","老而不死","老賊","老頭子","老顽固","老骚比","老骚货","聋子","聾子","肉壁","肉棍子","肉棒","肉缝","肏","肏你妈","肏你妈的屄","肏你娘","肏你媽","肏你媽的屄","肏你祖宗十八代","肏口","肛交","肥西","胆小鬼","胯下物","脑残","腦殘","自閉","自闭","臭三八","臭婊子","臭屄","舔肛","舔阴","舔陰","航空母舰","航空母艦","良心被狗吃了","色情","色狼","色鬼","花柳","花花公子","荡妇","蠢蛋","蠢豬","蠢驢","装屄","裝屄","要爱","見伍姑娘","见五姑娘","該死","論他媽的","變態","该死","賣豆腐","賤","賤貨","賭棍","贝肉","账","贱B","贱人","贱女人","贱货","贼你妈","赌棍","赛你老母","赛妳阿母","赣您娘","走狗","跛子","跟屁蟲","躝癱","轮奸","迷药","逼","逼样","那是你的问题","那活儿","那活兒","酒鬼","醉鬼","野鸡","閪","關我鳥事","闭嘴","阳具","阳萎","阴唇","阴户","阴户口交","阴核","阴毛","阴茎","阴道","阴部","陰戶","陰戶口交","陰莖","陰道","雜種","雞姦","雞巴","雞白","雞雞","靠北","靠母","靠爸","靠背","靠腰","面肏","顏面騎乘","颜面骑乘","飛機場","飞机场","飯桶","饅頭","饭桶","馒头","馬子","騷屄","騷貨","马子","马屁精","马马虎虎","驶你公","驶你娘","驶你母","驶你爸","驶你老师","驶你老母","骚屄","骚比","骚货","骚逼","高潮","鬼公","鮑魚","鲍鱼","鳥","鳥事","鳥人","鳥話","鳩","鷄巴","鷄鷄","鸟事","鸟人","鸟话","鸡","鸡8","鸡八","鸡叭","鸡吧","鸡奸","鸡姦","鸡巴","鸡白","鸡芭","鸡鸡","鸭","龜兒子","龜孫子","龜頭","龟儿子","龟头","龟孙子",],Latinise={};Latinise.latin_map={"Á":"A","Ă":"A","Ắ":"A","Ặ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ǎ":"A","Â":"A","Ấ":"A","Ậ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ä":"A","Ǟ":"A","Ȧ":"A","Ǡ":"A","Ạ":"A","Ȁ":"A","À":"A","Ả":"A","Ȃ":"A","Ā":"A","Ą":"A","Å":"A","Ǻ":"A","Ḁ":"A","Ⱥ":"A","Ã":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ḃ":"B","Ḅ":"B","Ɓ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ć":"C","Č":"C","Ç":"C","Ḉ":"C","Ĉ":"C","Ċ":"C","Ƈ":"C","Ȼ":"C","Ď":"D","Ḑ":"D","Ḓ":"D","Ḋ":"D","Ḍ":"D","Ɗ":"D","Ḏ":"D","ǲ":"D","ǅ":"D","Đ":"D","Ƌ":"D","Ǳ":"DZ","Ǆ":"DZ","É":"E","Ĕ":"E","Ě":"E","Ȩ":"E","Ḝ":"E","Ê":"E","Ế":"E","Ệ":"E","Ề":"E","Ể":"E","Ễ":"E","Ḙ":"E","Ë":"E","Ė":"E","Ẹ":"E","Ȅ":"E","È":"E","Ẻ":"E","Ȇ":"E","Ē":"E","Ḗ":"E","Ḕ":"E","Ę":"E","Ɇ":"E","Ẽ":"E","Ḛ":"E","Ꝫ":"ET","Ḟ":"F","Ƒ":"F","Ǵ":"G","Ğ":"G","Ǧ":"G","Ģ":"G","Ĝ":"G","Ġ":"G","Ɠ":"G","Ḡ":"G","Ǥ":"G","Ḫ":"H","Ȟ":"H","Ḩ":"H","Ĥ":"H","Ⱨ":"H","Ḧ":"H","Ḣ":"H","Ḥ":"H","Ħ":"H","Í":"I","Ĭ":"I","Ǐ":"I","Î":"I","Ï":"I","Ḯ":"I","İ":"I","Ị":"I","Ȉ":"I","Ì":"I","Ỉ":"I","Ȋ":"I","Ī":"I","Į":"I","Ɨ":"I","Ĩ":"I","Ḭ":"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS","Ĵ":"J","Ɉ":"J","Ḱ":"K","Ǩ":"K","Ķ":"K","Ⱪ":"K","Ꝃ":"K","Ḳ":"K","Ƙ":"K","Ḵ":"K","Ꝁ":"K","Ꝅ":"K","Ĺ":"L","Ƚ":"L","Ľ":"L","Ļ":"L","Ḽ":"L","Ḷ":"L","Ḹ":"L","Ⱡ":"L","Ꝉ":"L","Ḻ":"L","Ŀ":"L","Ɫ":"L","ǈ":"L","Ł":"L","Ǉ":"LJ","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ń":"N","Ň":"N","Ņ":"N","Ṋ":"N","Ṅ":"N","Ṇ":"N","Ǹ":"N","Ɲ":"N","Ṉ":"N","Ƞ":"N","ǋ":"N","Ñ":"N","Ǌ":"NJ","Ó":"O","Ŏ":"O","Ǒ":"O","Ô":"O","Ố":"O","Ộ":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ö":"O","Ȫ":"O","Ȯ":"O","Ȱ":"O","Ọ":"O","Ő":"O","Ȍ":"O","Ò":"O","Ỏ":"O","Ơ":"O","Ớ":"O","Ợ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ȏ":"O","Ꝋ":"O","Ꝍ":"O","Ō":"O","Ṓ":"O","Ṑ":"O","Ɵ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Õ":"O","Ṍ":"O","Ṏ":"O","Ȭ":"O","Ƣ":"OI","Ꝏ":"OO","Ɛ":"E","Ɔ":"O","Ȣ":"OU","Ṕ":"P","Ṗ":"P","Ꝓ":"P","Ƥ":"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q","Ŕ":"R","Ř":"R","Ŗ":"R","Ṙ":"R","Ṛ":"R","Ṝ":"R","Ȑ":"R","Ȓ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C","Ǝ":"E","Ś":"S","Ṥ":"S","Š":"S","Ṧ":"S","Ş":"S","Ŝ":"S","Ș":"S","Ṡ":"S","Ṣ":"S","Ṩ":"S","Ť":"T","Ţ":"T","Ṱ":"T","Ț":"T","Ⱦ":"T","Ṫ":"T","Ṭ":"T","Ƭ":"T","Ṯ":"T","Ʈ":"T","Ŧ":"T","Ɐ":"A","Ꞁ":"L","Ɯ":"M","Ʌ":"V","Ꜩ":"TZ","Ú":"U","Ŭ":"U","Ǔ":"U","Û":"U","Ṷ":"U","Ü":"U","Ǘ":"U","Ǚ":"U","Ǜ":"U","Ǖ":"U","Ṳ":"U","Ụ":"U","Ű":"U","Ȕ":"U","Ù":"U","Ủ":"U","Ư":"U","Ứ":"U","Ự":"U","Ừ":"U","Ử":"U","Ữ":"U","Ȗ":"U","Ū":"U","Ṻ":"U","Ų":"U","Ů":"U","Ũ":"U","Ṹ":"U","Ṵ":"U","Ꝟ":"V","Ṿ":"V","Ʋ":"V","Ṽ":"V","Ꝡ":"VY","Ẃ":"W","Ŵ":"W","Ẅ":"W","Ẇ":"W","Ẉ":"W","Ẁ":"W","Ⱳ":"W","Ẍ":"X","Ẋ":"X","Ý":"Y","Ŷ":"Y","Ÿ":"Y","Ẏ":"Y","Ỵ":"Y","Ỳ":"Y","Ƴ":"Y","Ỷ":"Y","Ỿ":"Y","Ȳ":"Y","Ɏ":"Y","Ỹ":"Y","Ź":"Z","Ž":"Z","Ẑ":"Z","Ⱬ":"Z","Ż":"Z","Ẓ":"Z","Ȥ":"Z","Ẕ":"Z","Ƶ":"Z","Ĳ":"IJ","Œ":"OE","ᴀ":"A","ᴁ":"AE","ʙ":"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F","ɢ":"G","ʛ":"G","ʜ":"H","ɪ":"I","ʁ":"R","ᴊ":"J","ᴋ":"K","ʟ":"L","ᴌ":"L","ᴍ":"M","ɴ":"N","ᴏ":"O","ɶ":"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P","ʀ":"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W","ʏ":"Y","ᴢ":"Z","á":"a","ă":"a","ắ":"a","ặ":"a","ằ":"a","ẳ":"a","ẵ":"a","ǎ":"a","â":"a","ấ":"a","ậ":"a","ầ":"a","ẩ":"a","ẫ":"a","ä":"a","ǟ":"a","ȧ":"a","ǡ":"a","ạ":"a","ȁ":"a","à":"a","ả":"a","ȃ":"a","ā":"a","ą":"a","ᶏ":"a","ẚ":"a","å":"a","ǻ":"a","ḁ":"a","ⱥ":"a","ã":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ḃ":"b","ḅ":"b","ɓ":"b","ḇ":"b","ᵬ":"b","ᶀ":"b","ƀ":"b","ƃ":"b","ɵ":"o","ć":"c","č":"c","ç":"c","ḉ":"c","ĉ":"c","ɕ":"c","ċ":"c","ƈ":"c","ȼ":"c","ď":"d","ḑ":"d","ḓ":"d","ȡ":"d","ḋ":"d","ḍ":"d","ɗ":"d","ᶑ":"d","ḏ":"d","ᵭ":"d","ᶁ":"d","đ":"d","ɖ":"d","ƌ":"d","ı":"i","ȷ":"j","ɟ":"j","ʄ":"j","ǳ":"dz","ǆ":"dz","é":"e","ĕ":"e","ě":"e","ȩ":"e","ḝ":"e","ê":"e","ế":"e","ệ":"e","ề":"e","ể":"e","ễ":"e","ḙ":"e","ë":"e","ė":"e","ẹ":"e","ȅ":"e","è":"e","ẻ":"e","ȇ":"e","ē":"e","ḗ":"e","ḕ":"e","ⱸ":"e","ę":"e","ᶒ":"e","ɇ":"e","ẽ":"e","ḛ":"e","ꝫ":"et","ḟ":"f","ƒ":"f","ᵮ":"f","ᶂ":"f","ǵ":"g","ğ":"g","ǧ":"g","ģ":"g","ĝ":"g","ġ":"g","ɠ":"g","ḡ":"g","ᶃ":"g","ǥ":"g","ḫ":"h","ȟ":"h","ḩ":"h","ĥ":"h","ⱨ":"h","ḧ":"h","ḣ":"h","ḥ":"h","ɦ":"h","ẖ":"h","ħ":"h","ƕ":"hv","í":"i","ĭ":"i","ǐ":"i","î":"i","ï":"i","ḯ":"i","ị":"i","ȉ":"i","ì":"i","ỉ":"i","ȋ":"i","ī":"i","į":"i","ᶖ":"i","ɨ":"i","ĩ":"i","ḭ":"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is","ǰ":"j","ĵ":"j","ʝ":"j","ɉ":"j","ḱ":"k","ǩ":"k","ķ":"k","ⱪ":"k","ꝃ":"k","ḳ":"k","ƙ":"k","ḵ":"k","ᶄ":"k","ꝁ":"k","ꝅ":"k","ĺ":"l","ƚ":"l","ɬ":"l","ľ":"l","ļ":"l","ḽ":"l","ȴ":"l","ḷ":"l","ḹ":"l","ⱡ":"l","ꝉ":"l","ḻ":"l","ŀ":"l","ɫ":"l","ᶅ":"l","ɭ":"l","ł":"l","ǉ":"lj","ſ":"s","ẜ":"s","ẛ":"s","ẝ":"s","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ᵯ":"m","ᶆ":"m","ń":"n","ň":"n","ņ":"n","ṋ":"n","ȵ":"n","ṅ":"n","ṇ":"n","ǹ":"n","ɲ":"n","ṉ":"n","ƞ":"n","ᵰ":"n","ᶇ":"n","ɳ":"n","ñ":"n","ǌ":"nj","ó":"o","ŏ":"o","ǒ":"o","ô":"o","ố":"o","ộ":"o","ồ":"o","ổ":"o","ỗ":"o","ö":"o","ȫ":"o","ȯ":"o","ȱ":"o","ọ":"o","ő":"o","ȍ":"o","ò":"o","ỏ":"o","ơ":"o","ớ":"o","ợ":"o","ờ":"o","ở":"o","ỡ":"o","ȏ":"o","ꝋ":"o","ꝍ":"o","ⱺ":"o","ō":"o","ṓ":"o","ṑ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","õ":"o","ṍ":"o","ṏ":"o","ȭ":"o","ƣ":"oi","ꝏ":"oo","ɛ":"e","ᶓ":"e","ɔ":"o","ᶗ":"o","ȣ":"ou","ṕ":"p","ṗ":"p","ꝓ":"p","ƥ":"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q","ʠ":"q","ɋ":"q","ꝗ":"q","ŕ":"r","ř":"r","ŗ":"r","ṙ":"r","ṛ":"r","ṝ":"r","ȑ":"r","ɾ":"r","ᵳ":"r","ȓ":"r","ṟ":"r","ɼ":"r","ᵲ":"r","ᶉ":"r","ɍ":"r","ɽ":"r","ↄ":"c","ꜿ":"c","ɘ":"e","ɿ":"r","ś":"s","ṥ":"s","š":"s","ṧ":"s","ş":"s","ŝ":"s","ș":"s","ṡ":"s","ṣ":"s","ṩ":"s","ʂ":"s","ᵴ":"s","ᶊ":"s","ȿ":"s","ɡ":"g","ᴑ":"o","ᴓ":"o","ᴝ":"u","ť":"t","ţ":"t","ṱ":"t","ț":"t","ȶ":"t","ẗ":"t","ⱦ":"t","ṫ":"t","ṭ":"t","ƭ":"t","ṯ":"t","ᵵ":"t","ƫ":"t","ʈ":"t","ŧ":"t","ᵺ":"th","ɐ":"a","ᴂ":"ae","ǝ":"e","ᵷ":"g","ɥ":"h","ʮ":"h","ʯ":"h","ᴉ":"i","ʞ":"k","ꞁ":"l","ɯ":"m","ɰ":"m","ᴔ":"oe","ɹ":"r","ɻ":"r","ɺ":"r","ⱹ":"r","ʇ":"t","ʌ":"v","ʍ":"w","ʎ":"y","ꜩ":"tz","ú":"u","ŭ":"u","ǔ":"u","û":"u","ṷ":"u","ü":"u","ǘ":"u","ǚ":"u","ǜ":"u","ǖ":"u","ṳ":"u","ụ":"u","ű":"u","ȕ":"u","ù":"u","ủ":"u","ư":"u","ứ":"u","ự":"u","ừ":"u","ử":"u","ữ":"u","ȗ":"u","ū":"u","ṻ":"u","ų":"u","ᶙ":"u","ů":"u","ũ":"u","ṹ":"u","ṵ":"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v","ṿ":"v","ʋ":"v","ᶌ":"v","ⱱ":"v","ṽ":"v","ꝡ":"vy","ẃ":"w","ŵ":"w","ẅ":"w","ẇ":"w","ẉ":"w","ẁ":"w","ⱳ":"w","ẘ":"w","ẍ":"x","ẋ":"x","ᶍ":"x","ý":"y","ŷ":"y","ÿ":"y","ẏ":"y","ỵ":"y","ỳ":"y","ƴ":"y","ỷ":"y","ỿ":"y","ȳ":"y","ẙ":"y","ɏ":"y","ỹ":"y","ź":"z","ž":"z","ẑ":"z","ʑ":"z","ⱬ":"z","ż":"z","ẓ":"z","ȥ":"z","ẕ":"z","ᵶ":"z","ᶎ":"z","ʐ":"z","ƶ":"z","ɀ":"z","ﬀ":"ff","ﬃ":"ffi","ﬄ":"ffl","ﬁ":"fi","ﬂ":"fl","ĳ":"ij","œ":"oe","ﬆ":"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x"};String.prototype.latinise=function(){return this.replace(/[^A-Za-z0-9\[\] ]/g,function(n){return Latinise.latin_map[n]||n})};String.prototype.latinize=String.prototype.latinise;String.prototype.isLatin=function(){return this==this.latinise()};var CANVAS_WIDTH=1920,CANVAS_HEIGHT=1920,EDGEBOARD_X=530,EDGEBOARD_Y=530,PRIMARY_FONT="RoundedMplus1c",FPS=60,FPS_ANIMS=40,FPS_TIME=1e3/FPS,DISABLE_SOUND_MOBILE=!1,ENABLE_FULLSCREEN=!0,GAME_PLAYERIO_ID="4colors-umzcmquqgk6pb6grzgk7kq",GAME_NAME="four_colors",MULTIPLAYER_TEST_LOCAL=!1,FONT_COLOR="#fff",FONT_COLOR_1="#474747",FONT_COLOR_2="#ffc800",FONT_COLOR_3="#075c92",STATE_LOADING=0,STATE_MENU=1,STATE_HELP=2,STATE_GAME=3,STATE_SELECT_PLAYERS=4,ON_MOUSE_DOWN=0,ON_MOUSE_UP=1,ON_MOUSE_OVER=2,ON_MOUSE_OUT=3,ON_DRAG_START=4,ON_DRAG_END=5,ON_CARD_DEALED=6,ON_HOME=7,ON_CHECK=8,ON_NEXT=9,ON_SKIP_HELP=10,ON_SELECT_EMOTICON=11,AD_SHOW_COUNTER,NUM_PLAYERS,STARTING_NUM_CARDS,CARD_WIDTH=156,CARD_HEIGHT=242,SOUNDTRACK_VOLUME_IN_GAME=.4,DEBUG_SHOW_CARDS=!1,ON_HUMAN_INTERACTION="human_interact",ON_TIMER_END=0,ON_LAST_TIMER_END=1,CARD_SCORE=[0,1,2,3,4,5,6,7,8,9,20,20,20,50,50],NUM_PENALTY_CARDS=2,NUM_WILD_CARDS=3,GAME_SCORE_WIN=250,TIME_PER_MOVE=2e4,TIME_HURRYUP_WARNING=5e3,TIME_CONTROLLER_RADIUS=50,NUM_ATTEMPT=3,TIME_BG_COLORS=[373205,15083560,16767244,374346],TIME_FOR_REMATCH_ANSWER=4e4,BOTTOM=0,TOP=1,LEFT=2,RIGHT=3,CARD_MAX_SPACING=80,HAND_OFFSET=102,FOTOGRAM_COLOR=52,FOTOGRAM_DRAW_FOUR=53,ON_COLOR_SELECTED=0,ACTION_NEXT_TURN=0,ACTION_USE_CARD=1,ACTION_ON_SHUFFLECARDS=2,ACTION_ON_DRAWCARDS=3,ACTION_ON_UNO_CLICK=4,ACTION_SELECT_COLOR=5,ACTION_DRAW_FOUR=6,ACTION_BLOCK_TURN=7,ACTION_INVERT_TURN=8,ACTION_DRAW_TWO_COLORED=9,ACTION_SOMEONE_DECLARE_UNO=10,ACTION_PLAYER_QUIT=16,EFFECT_SELECT_COLOR=0,EFFECT_DRAW_THREE=1,EFFECT_STOP=2,EFFECT_INVERT_TURN=3,EFFECT_DRAW_TWO_COLORED=4,EFFECT_NORMAL_CARD=5,ON_APPLY_EFFECT=0,ON_APPLY_PENALITY=1,ON_UNO_CLICK=2,DRAW_TYPE_NORMAL=0,DRAW_TYPE_PENALITY=1,DRAW_TYPE_DRAW2_COLORED=2,DRAW_TYPE_DRAW3=3,GAME_STATE_DEALING="dealing",GAME_STATE_TURN_START="turn_start",GAME_STATE_DRAW="draw",GAME_STATE_CHOOSE_COLOR="choose_color",GAME_STATE_END="game_end",GAME_STATE_ACTION_IN_PROGRESS="action_in_progress",AI_MOVE_NULL=null,AI_MOVE_PLAYCARD="playcard",AI_MOVE_DRAWCARD="drawcard",NUM_EMOTICONS=6,EMOTICON_WIDTH=371,EMOTICON_HEIGHT=501,EMOTICON_TIME=1e3,EMOTICON_SPAM_TIMER=1e4,EMOTICON_SPAM_ATTEMPT=3,NUM_LANGUAGES=13,LANG_EN=0,LANG_RU=1,LANG_ES=2,LANG_FR=3,LANG_DE=4,LANG_PT=5,LANG_IT=6,LANG_TR=7,LANG_AR=8,LANG_HI=9,LANG_ID=10,LANG_JA=11,LANG_ZH=12,LANG_CODES={};LANG_CODES.en=LANG_EN;LANG_CODES.ru=LANG_RU;LANG_CODES.es=LANG_ES;LANG_CODES.fr=LANG_FR;LANG_CODES.de=LANG_DE;LANG_CODES.pt=LANG_PT;LANG_CODES.it=LANG_IT;LANG_CODES.ar=LANG_AR;LANG_CODES.hi=LANG_HI;LANG_CODES.tr=LANG_TR;LANG_CODES.id=LANG_ID;LANG_CODES.ja=LANG_JA;LANG_CODES.zh=LANG_ZH;LANG_CODES.be=LANG_RU;LANG_CODES.kk=LANG_RU;LANG_CODES.uk=LANG_RU;LANG_CODES.uz=LANG_RU;var PARAM_ROOM_ID="roomid",PARAM_PASSWORD="pwd",HTTPS_FORMAT="https://%s/",CODETHISLAB_LINK_COM="www.codethislab.com",CODETHISLAB_LINK_IT="www.codethislab.it",CODETHISLAB_LINK=CODETHISLAB_LINK_COM,s_iScaleFactor=1,s_bIsIphone=!1,s_iOffsetX,s_iOffsetY,s_bFocus=!0,s_bLandscape=!1,s_bSquareSize=!1,s_iAspectRatio=1;const MIN_KEYBOARD_HEIGHT=300;if(s_bIsKeyboardOpen=!1,browserName=function(n){switch(!0){case n.indexOf("edge")>-1:return"MS Edge";case n.indexOf("edg/")>-1:return"Edge ( chromium based)";case n.indexOf("opr")>-1&&!!window.opr:return"Opera";case n.indexOf("chrome")>-1&&!!window.chrome:return"Chrome";case n.indexOf("trident")>-1:return"MS IE";case n.indexOf("firefox")>-1:return"Mozilla Firefox";case n.indexOf("safari")>-1:return"Safari";default:return"other"}}(window.navigator.userAgent.toLowerCase()),window.addEventListener("resize",function(){sizeHandler()},!0),window.visualViewport.addEventListener("resize",n=>{n.target.height<MIN_KEYBOARD_HEIGHT?(s_bIsKeyboardOpen=!0,s_bIsKeyboardOpen?document.querySelector(".ctl-multiplayer-dlg-wrapper")&&(document.querySelector(".ctl-multiplayer-dlg-wrapper").style.height=n.target.height,document.querySelector(".ctl-multiplayer-dlg-content").style.transform="translate(-50%, -50%) scale(0.5)"):document.querySelector(".ctl-multiplayer-dlg-wrapper")&&(document.querySelector(".ctl-multiplayer-dlg-content").style.transform="translate(-50%, -50%) scale(1)",document.querySelector(".ctl-multiplayer-dlg-wrapper").style.height="100%")):(s_bIsKeyboardOpen=!1,document.querySelector(".ctl-multiplayer-dlg-wrapper")&&(document.querySelector(".ctl-multiplayer-dlg-content").style.transform="translate(-50%, -50%) scale(1)",document.querySelector(".ctl-multiplayer-dlg-wrapper").style.height="100%"))}),window.addEventListener("orientationchange",onOrientationChange),CircularList.prototype._getNextIndex=function(){var n=this.currentIndex,t=this.arr;return n<t.length-1?n+1:0},CircularList.prototype._getPrevIndex=function(){var n=this.currentIndex,t=this.arr;return n>0?n-1:t.length-1},CircularList.prototype.getNext=function(){return this.arr[this._getNextIndex()]},CircularList.prototype.getPrev=function(){return this.arr[this._getPrevIndex()]},CircularList.prototype.next=function(){return this.currentIndex=this._getNextIndex(),this.current()},CircularList.prototype.prev=function(){return this.currentIndex=this._getPrevIndex(),this.current()},CircularList.prototype.current=function(){return this.arr[this.currentIndex]},CircularList.prototype.removeElement=function(n){const t=this.arr.indexOf(n);t>-1&&this.arr.splice(t,1)},CircularList.prototype.getArray=function(){return this.arr},CircularList.prototype.setCurrent=function(n){const t=this.arr.indexOf(n);return t>-1?(this.currentIndex=t,this.current()):null},NoClickDelay.prototype={handleEvent:function(n){switch(n.type){case"touchstart":this.onTouchStart(n);break;case"touchmove":this.onTouchMove(n);break;case"touchend":this.onTouchEnd(n)}},onTouchStart:function(n){n.preventDefault();this.moved=!1;this.element.addEventListener("touchmove",this,!1);this.element.addEventListener("touchend",this,!1)},onTouchMove:function(){this.moved=!0},onTouchEnd:function(n){var t,i;this.element.removeEventListener("touchmove",this,!1);this.element.removeEventListener("touchend",this,!1);this.moved||(t=document.elementFromPoint(n.changedTouches[0].clientX,n.changedTouches[0].clientY),t.nodeType==3&&(t=t.parentNode),i=document.createEvent("MouseEvents"),i.initEvent("click",!0,!0),t.dispatchEvent(i))}},function(){function n(n){var i="visible",r="hidden",u={focus:i,focusin:i,pageshow:i,blur:r,focusout:r,pagehide:r};n=n||window.event;n.type in u?document.body.className=u[n.type]:(document.body.className=this[t]?"hidden":"visible",document.body.className==="hidden"?(s_oMain.stopUpdate(),s_bFocus=!1):(s_oMain.startUpdate(),s_bFocus=!0))}var t="hidden";t in document?document.addEventListener("visibilitychange",n):(t="mozHidden")in document?document.addEventListener("mozvisibilitychange",n):(t="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",n):(t="msHidden")in document?document.addEventListener("msvisibilitychange",n):"onfocusin"in document?document.onfocusin=document.onfocusout=n:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=n}(),screenfull.isEnabled)screenfull.on("change",function(){s_bFullscreen=screenfull.isFullscreen});class CButton{constructor(n,t,i,r){this._oSprite=i;this._oParentContainer=r;this._iScaleFactor=1;this._aCbCompleted=[];this._aCbOwner=[];this._aParams=[];this._bDisabled=!1;this._bFocus=!1;this._iWidth=i.width;this._iHeight=i.height;this._oButton=new createjs.Container;this._oButton.x=n;this._oButton.y=t;this._oParentContainer.addChild(this._oButton);this._oButton.cursor="pointer";this._aText=[];this._initListener()}unload(){for(var n=0;n<this._aText.length;n++)this._aText[n].unload();this._oButton.off("mousedown",this._oListenerMouseDown);this._oButton.off("pressup",this._oListenerMouseUp);this._oButton.off("pressmove",this._oListenerPressMove);this._oButton.removeAllChildren();this._oParentContainer.removeChild(this._oButton)}_initListener(){this._oListenerMouseDown=this._oButton.on("mousedown",this.buttonDown,this);this._oListenerMouseUp=this._oButton.on("pressup",this.buttonRelease,this)}_triggerEvent(n,t){this._aCbCompleted[n]&&this._aCbCompleted[n].call(this._aCbOwner[n],t)}addEventListener=function(n,t,i,r){this._aCbCompleted[n]=t;this._aCbOwner[n]=i;this._aParams=r};addEventListenerWithParams=function(n,t,i,r){console.warn("addEventListenerWithParams is deprecated: use addEventListener instead");this._aCbCompleted[n]=t;this._aCbOwner[n]=i;this._aParams=r};buttonRelease(n){(n.stopPropagation(),this._bFocus)&&(this._bDisabled||(this._releaseAnim(),this._triggerEvent(ON_MOUSE_UP,this._aParams)))}buttonDown(n){(n.stopPropagation(),this._bDisabled)||(this._downAnim(),playSfxSound("click",1,!1),this._bFocus=!0,this._oListenerPressMove=this._oButton.on("pressmove",this.pressMove,this),this._triggerEvent(ON_MOUSE_DOWN,this._aParams))}pressMove(n){var t=this._oButton.globalToLocal(n.stageX,n.stageY);this._oButton.hitTest(t.x,t.y)||this.rollOut()}rollOut(){this._releaseAnim();this._oButton.off("pressmove",this._oListenerPressMove);this._bFocus=!1;this._triggerEvent(ON_MOUSE_OUT,this._aParams)}setVisible(n){this._oButton.visible=n}isVisible(){return this._oButton.visible}setClickable(n){this._bDisabled=!n}enable(){this._oButton.cursor="pointer";this._bDisabled=!1;this._oButton.alpha=1}disable(){this._oButton.cursor="default";this._bDisabled=!0;this._oButton.alpha=.5}setPosition(n,t){this._oButton.x=n;this._oButton.y=t}setX(n){this._oButton.x=n}setY(n){this._oButton.y=n}setRotation(n){this._oButton.rotation=n}setImage(n){this._oSprite.image=n}setScale(n){this._iScaleFactor=n;this._oButton.scale=n}addAlert(){this._oAlert=new CAlertIcon(this._oSprite.width-10,10,"1",this._oButton);this._oAlert.pulseAnimation()}removeAlert(){this._oAlert!==null&&this._oButton.removeChild(this._oAlert)}getContainer(){return this._oButton}getX(){return this._oButton.x}getY(){return this._oButton.y}pulseAnimation(){this._oTween=createjs.Tween.get(this._oButton,{loop:!0}).to({scale:this._iScaleFactor*.9},850,createjs.Ease.quadOut).to({scale:this._iScaleFactor},650,createjs.Ease.quadIn)}trembleAnimation(){this._oTween=createjs.Tween.get(this._oButton,{loop:!0}).to({rotation:5},75,createjs.Ease.quadOut).to({rotation:-5},140,createjs.Ease.quadIn).to({rotation:0},75,createjs.Ease.quadIn).wait(750)}stopTrembleAnimation(){this._oButton.rotation=0;this._oButton.scale=this._iScaleFactor;createjs.Tween.removeTweens(this._oButton)}stopAnimation(){this._oButton.rotation=0;this._oButton.scale=this._iScaleFactor;createjs.Tween.removeTweens(this._oButton)}_downAnim(){createjs.Tween.get(this._oButton,{override:!0}).to({scale:this._iScaleFactor*.9},40)}_releaseAnim(){createjs.Tween.get(this._oButton,{override:!0}).to({scale:this._iScaleFactor},40)}addText(n,t,i,r,u,f,e,o){var s=this._iWidth-(n.left+n.right),h=this._iHeight-(n.top+n.bottom),c=n.left-this._iWidth/2,l=n.top-this._iHeight/2,a=new CTLText(this._oButton,c,l,s,h,f,i,u,r,e,0,0,t,!0,!0,o,!1);this._aText.push(a)}addStroke(n,t,i){this._aText[n].setStroke(t,i)}changeText(n,t){this._aText[n].refreshText(t)}getTextFontSize(n){return this._aText[n].getFontSize()}setTextFontSize(n,t){this._aText[n].setFontSize(t)}getTextObj(n){return this._aText[n]}}class CToggle extends CButton{constructor(n,t,i,r,u){super(n,t,i,u);this._iWidth=i.width/2;this._iHeight=i.height;var f={images:[i],frames:{width:this._iWidth,height:this._iHeight,regX:this._iWidth/2,regY:this._iHeight/2},animations:{state_true:[0],state_false:[1]}},e=new createjs.SpriteSheet(f);this._bActive=r;this._oButtonSprite=createSprite(e,"state_"+this._bActive,i.width/4,i.height/2,i.width/2,i.height);this._oButtonSprite.stop();this._oButton.addChild(this._oButtonSprite)}setActive(n){this._bActive=n;this._oButtonSprite.gotoAndStop("state_"+this._bActive)}buttonRelease(){this._bFocus&&(this._bDisabled||(this._releaseAnim(),this._bActive=!this._bActive,this._oButtonSprite.gotoAndStop("state_"+this._bActive),this._triggerEvent(ON_MOUSE_UP,this._aParams)))}}class CGfxButton extends CButton{constructor(n,t,i,r){super(n,t,i,r);this._oButtonBg=createBitmap(i);this._oButtonBg.regX=this._iWidth/2;this._oButtonBg.regY=this._iHeight/2;this._oButton.addChild(this._oButtonBg)}setImageFromSpritesheet(n,t){var i=n.getFrame(t);this._oSprite=i.image;this._oButtonBg.image=i.image;this._oButtonBg.sourceRect=i.rect}}class CButMenu extends CGfxButton{constructor(n,t,i,r,u){super(n,t,i,r);u&&(this._oIcon=createBitmap(u),this._oIcon.x=-i.width/2+100,this._oIcon.y=-4,this._oIcon.regX=u.width/2,this._oIcon.regY=u.height/2,this._oButton.addChild(this._oIcon))}setIconX(n){this._oIcon.x=n}}CTLText.prototype={constructor:CTLText,__autofit:function(){var r=this._szMsg,t=r.length<3?!1:this._bEllipsis,i,n;if(t&&(this._oText.text=this._szMsg),!t&&!this._bMultiline){this.__autofitLight();return}i=r.length-2;n=this._iStartingFontSize;this.__refreshTextFont(n);for(var u=this._oText.getBounds(),f=this._iEffectiveWidth-this._iOutline,e=this._iEffectiveHeight-this._iOutline;u.height>e||u.width>f;){if(t&&n<this._iMinTextSize){if(i--,this._oText.text=r.slice(0,i)+"...",this.__updateY(),this.__verticalAlign(),i==1)break}else if(n--,this.__refreshTextFont(n),this.__updateY(),this.__verticalAlign(),n<this._iMinTextSize&&!t)break;u=this._oText.getBounds()}this._iFontSize=n;this.__updateY();this.__verticalAlign();this.__updateStroke()},__autofitLight:function(){this.__refreshTextFont(this._iStartingFontSize);var t=this._oText.getBounds(),i=this._iEffectiveWidth-this._iOutline,r=this._iEffectiveHeight-this._iOutline,u=Math.floor(this.__linearFunction(i,t.width,0,this._iStartingFontSize,0)),f=Math.floor(this.__linearFunction(r,t.height,0,this._iStartingFontSize,0)),n=Math.min(u,f);n>this._iStartingFontSize?n=this._iStartingFontSize:n<this._iMinTextSize&&(n=this._iMinTextSize);this.__refreshTextFont(n);this._iFontSize=n;this.__updateY();this.__verticalAlign();this.__updateStroke()},__linearFunction:function(n,t,i,r,u){return(n-t)*(u-r)/(i-t)+r},__checkAutofit:function(){this._bFitText?this.__autofit():(this.__refreshTextFont(this._iStartingFontSize),this.__updateY(),this.__verticalAlign(),this.__updateStroke())},__refreshTextFont:function(n){this._oText.font=n+"px "+this._szFont;this._oText.lineHeight=Math.round(n*this._fLineHeightFactor)},__verticalAlign:function(){if(this._bVerticalAlign){var n=this._oText.getBounds().height;this._oText.y-=(n-this._iHeight)/2+this._iPaddingV}},__updateY:function(){this._oText.y=this._iPaddingV;switch(this._oText.textBaseline){case"middle":this._oText.y+=this._oText.lineHeight/2+(this._iFontSize*this._fLineHeightFactor-this._iFontSize)}},__updateStroke:function(){this._oStroke&&(this._oStroke.x=this._oText.x,this._oStroke.y=this._oText.y,this._oStroke.text=this._oText.text,this._oStroke.font=this._oText.font,this._oStroke.textAlign=this._oText.textAlign,this._oStroke.lineHeight=this._oText.lineHeight)},__updateOutline:function(){this._iOutline=this._oStroke&&this._oStroke.outline>this._oText.outline?this._oStroke.outline:this._oText.outline},__updateHorizontalAlign:function(){switch(this._szAlign){case"center":this._oText.x=this._iWidth/2;break;case"left":this._oText.x=this._iPaddingH;break;case"right":this._oText.x=this._iWidth-this._iPaddingH}},__setMsg:function(n){this._szMsg=n;this._szMsg!==""&&(this._szMsg||this._szMsg===0)||(this._szMsg=" ")},__createDebugShape:function(){this._oDebugShape=new createjs.Shape;this.__refreshDebugShape()},__refreshDebugShape:function(){this._oDebugShape.graphics.clear();this._oDebugShape.graphics.beginFill("rgba(255,130,0,0.5)").drawRect(0,0,this._iWidth,this._iHeight).moveTo(this._iPaddingH,this._iHeight-this._iPaddingV).lineTo(this._iWidth-this._iPaddingH,this._iHeight-this._iPaddingV).lineTo(this._iWidth-this._iPaddingH,this._iPaddingV).lineTo(this._iPaddingH,this._iPaddingV).closePath().beginFill("rgba(255,0,0,0.5)").drawRect(this._iPaddingH,this._iPaddingV,this._iEffectiveWidth,this._iEffectiveHeight)},__updateLineWidth:function(){this._oText.lineWidth=this._bMultiline?this._iWidth-this._iPaddingH*2:null;this._oStroke&&(this._oStroke.lineWidth=this._oText.lineWidth)},__updateWidth:function(){this.__updateLineWidth();this.__updateHorizontalAlign()},__updateSize:function(){this.__checkAutofit();this._bDebug&&this.__refreshDebugShape()},__createText:function(){this._bDebug&&(this.__createDebugShape(),this._oContainer.addChild(this._oDebugShape));this._oText=new createjs.Text(this._szMsg,this._iFontSize+"px "+this._szFont,this._szColor);this._oText.textBaseline="middle";this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor);this._oText.textAlign=this._szAlign;this.__updateLineWidth();this.__updateHorizontalAlign();this._oContainer.addChild(this._oText);try{var i=s_oCanvas.getContext("2d"),t=!!window.WebGLRenderingContext&&(s_oCanvas.getContext("webgl")||s_oCanvas.getContext("experimental-webgl")),n=t!==null;this._bMandatoryCache=n;this.setCacheActive(n)}catch(r){this._bMandatoryCache=!1;this.setCacheActive(!1)}this.refreshText(this._szMsg)},setStroke:function(n,t){this._oStroke||(this._oStroke=this._oText.clone(),this._oContainer.addChild(this._oStroke),this._oContainer.swapChildren(this._oStroke,this._oText));this.setStrokeColor(t?t:this._szStrokeColor);this.setStrokeSize(n?n:this._iStrokeSize);this.updateCache()},setStrokeColor:function(n){this._szStrokeColor=n;this._oStroke&&(this._oStroke.color=this._szStrokeColor,this.updateCache())},setStrokeSize:function(n){this._iStrokeSize=n;this._oStroke&&(this._oStroke.outline=this._iStrokeSize,this.__updateOutline(),this.__checkAutofit(),this.updateCache())},removeStroke:function(){this._oStroke&&(this._oContainer.removeChild(this._oStroke),this._oStroke=null,this.__updateOutline(),this.__checkAutofit(),this.updateCache())},roll:function(n,t,i,r,u,f){var e,o;t=t==null?1500:t;i=i==null?createjs.Ease.linear:i;e={score:parseInt(this._szMsg)};this._szMsg=n;o=this._bFitText?function(){this._oText.text=Math.floor(e.score);this.__autofitLight();this.updateCache()}:function(){this._oText.text=Math.floor(e.score);this.__updateY();this.__verticalAlign();this.__updateStroke();this.updateCache()};this.stopRolling();this._oTweenRollText=createjs.Tween.get(e,{override:!0}).to({score:n},t,i);this._oTweenRollText.on("change",o,this);this._oTweenRollText.on("complete",function(){r&&r.apply(u,f);this.stopRolling()},this,!0)},isRolling:function(){return this._oTweenRollText==null?!1:!0},stopRolling:function(){this.isRolling()&&(this._oTweenRollText.removeAllEventListeners(),this._oTweenRollText.paused=!0,this._oTweenRollText=null)},pauseRolling:function(){this.isRolling()&&(this._oTweenRollText.paused=!0)},resumeRolling:function(){this.isRolling()&&(this._oTweenRollText.paused=!1)},setY:function(n){this._oContainer.y=n},setX:function(n){this._oContainer.x=n},setRotation:function(n){this._oContainer.rotation=n},setHorizontalSize:function(n,t=this._iPaddingH){this.__setHorizontalSizeVars(n,t);this.__updateWidth();this.__updateSize();this._updateCacheSize()},setVerticalSize:function(n,t=this._iPaddingV){this.__setVerticalSizeVars(n,t);this.__updateSize();this._updateCacheSize()},setSize:function(n,t,i=this._iPaddingH,r=this._iPaddingV){this.__setHorizontalSizeVars(n,i);this.__setVerticalSizeVars(t,r);this.__updateWidth();this.__updateSize();this._updateCacheSize()},__setHorizontalSizeVars:function(n,t){this._iWidth=n;this._iPaddingH=t;this._iEffectiveWidth=this._iWidth-this._iPaddingH*2},__setVerticalSizeVars:function(n,t){this._iHeight=n;this._iPaddingV=t;this._iEffectiveHeight=this._iHeight-this._iPaddingV*2},setPosition:function(n,t){this._oContainer.x=n;this._oContainer.y=t},setHorizontalAlign:function(n){this._szAlign=n;this._oText.textAlign=this._szAlign;this.__updateHorizontalAlign();this.__updateStroke();this.updateCache()},setVerticalAlign:function(n){this._bVerticalAlign=n},setOutline:function(n){this._oText.outline=n;this.__updateOutline();this.updateCache()},setShadow:function(n,t,i,r){this._oText.shadow=new createjs.Shadow(n,t,i,r);this.updateCache()},setColor:function(n){this._szColor=n;this._oText.color=this._szColor;this.updateCache()},setAlpha:function(n){this._oContainer.alpha=n},setVisible:function(n){this._oContainer.visible=n},setFontSize:function(n){this._iFontSize=this._iStartingFontSize=n;this.refreshText(this._szMsg)},resetFontSize:function(){this.setFontSize(this._iOriginalFontSize)},setRegX:function(n){this._oContainer.regX=n},setRegY:function(n){this._oContainer.regY=n},setScale:function(n){this._oContainer.scale=n},setParentContainer:function(n){n.contains(this._oContainer)||(this.removeContainerFromParent(),this._oParentContainer=n,this._oParentContainer.addChild(this._oContainer))},removeContainerFromParent:function(){this._oParentContainer&&(this._oParentContainer.removeChild(this._oContainer),this._oParentContainer=null)},setCacheActive:function(n,t=1){var i=!1;(this._fCacheScale!=t&&n&&(i=!0,this._oContainer.uncache()),i||!this._bMandatoryCache)&&(this._fCacheScale=t,!this._bCacheActive&&n||i?this._oContainer.cache(0,0,this.__nextPow2(this._iEffectiveWidth),this.__nextPow2(this._iEffectiveHeight),this._fCacheScale):this._bCacheActive&&!n&&this._oContainer.uncache(),this._bCacheActive=n)},_updateCacheSize:function(){this._bCacheActive&&(this._oContainer.uncache(),this._oContainer.cache(0,0,this.__nextPow2(this._iEffectiveWidth),this.__nextPow2(this._iEffectiveHeight),this._fCacheScale))},__nextPow2:function(n){var t=Math.floor(Math.log2(n));return Math.pow(2,t)===n?n:Math.pow(2,t+1)},updateCache:function(){this._bCacheActive&&this._oContainer.updateCache()},removeTweens:function(){createjs.Tween.removeTweens(this._oContainer)},getText:function(){return this._oText},getTextWidth:function(){return this._oText.getBounds().width+this._iOutline},getTextHeight:function(){return this._oText.getBounds().height+this._iOutline},getMsg:function(){return this._szMsg},getX:function(){return this._oContainer.x},getY:function(){return this._oContainer.y},getHeight:function(){return this._iHeight},getWidth:function(){return this._iWidth},getPaddingH:function(){return this._iPaddingH},getPaddingV:function(){return this._iPaddingV},getColor:function(){return this._szColor},getFontSize:function(){return this._iFontSize},getContainer:function(){return this._oContainer},unload:function(){this.stopRolling();this._bCacheActive&&this._oContainer.uncache();createjs.Tween.removeTweens(this._oContainer);this.removeContainerFromParent()},refreshText:function(n){this.__setMsg(n);this._oText.text=this._szMsg;this.__checkAutofit();this.updateCache()},checkParameters:function(){}};!function(){"use strict";function t(n){return u(f(n),arguments)}function i(n,i){return t.apply(null,[n].concat(i||[]))}function u(i,r){for(var y=1,p=i.length,u,h="",o,f,c,l,a,v,s,e=0;e<p;e++)if(typeof i[e]=="string")h+=i[e];else if(typeof i[e]=="object"){if(f=i[e],f.keys)for(u=r[y],o=0;o<f.keys.length;o++){if(u==undefined)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',f.keys[o],f.keys[o-1]));u=u[f.keys[o]]}else u=f.param_no?r[f.param_no]:r[y++];if(n.not_type.test(f.type)&&n.not_primitive.test(f.type)&&u instanceof Function&&(u=u()),n.numeric_arg.test(f.type)&&typeof u!="number"&&isNaN(u))throw new TypeError(t("[sprintf] expecting number but found %T",u));n.number.test(f.type)&&(v=u>=0);switch(f.type){case"b":u=parseInt(u,10).toString(2);break;case"c":u=String.fromCharCode(parseInt(u,10));break;case"d":case"i":u=parseInt(u,10);break;case"j":u=JSON.stringify(u,null,f.width?parseInt(f.width):0);break;case"e":u=f.precision?parseFloat(u).toExponential(f.precision):parseFloat(u).toExponential();break;case"f":u=f.precision?parseFloat(u).toFixed(f.precision):parseFloat(u);break;case"g":u=f.precision?String(Number(u.toPrecision(f.precision))):parseFloat(u);break;case"o":u=(parseInt(u,10)>>>0).toString(8);break;case"s":u=String(u);u=f.precision?u.substring(0,f.precision):u;break;case"t":u=String(!!u);u=f.precision?u.substring(0,f.precision):u;break;case"T":u=Object.prototype.toString.call(u).slice(8,-1).toLowerCase();u=f.precision?u.substring(0,f.precision):u;break;case"u":u=parseInt(u,10)>>>0;break;case"v":u=u.valueOf();u=f.precision?u.substring(0,f.precision):u;break;case"x":u=(parseInt(u,10)>>>0).toString(16);break;case"X":u=(parseInt(u,10)>>>0).toString(16).toUpperCase()}n.json.test(f.type)?h+=u:(n.number.test(f.type)&&(!v||f.sign)?(s=v?"+":"-",u=u.toString().replace(n.sign,"")):s="",l=f.pad_char?f.pad_char==="0"?"0":f.pad_char.charAt(1):" ",a=f.width-(s+u).length,c=f.width?a>0?l.repeat(a):"":"",h+=f.align?s+u+c:l==="0"?s+c+u:c+s+u)}return h}function f(t){if(r[t])return r[t];for(var f=t,i,o=[],h=0;f;){if((i=n.text.exec(f))!==null)o.push(i[0]);else if((i=n.modulo.exec(f))!==null)o.push("%");else if((i=n.placeholder.exec(f))!==null){if(i[2]){h|=1;var s=[],e=i[2],u=[];if((u=n.key.exec(e))!==null)for(s.push(u[1]);(e=e.substring(u[0].length))!=="";)if((u=n.key_access.exec(e))!==null)s.push(u[1]);else if((u=n.index_access.exec(e))!==null)s.push(u[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");i[2]=s}else h|=2;if(h===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:i[0],param_no:i[1],keys:i[2],sign:i[3],pad_char:i[4],align:i[5],width:i[6],precision:i[7],type:i[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");f=f.substring(i[0].length)}return r[t]=o}var n={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/},r=Object.create(null);typeof exports!="undefined"&&(exports.sprintf=t,exports.vsprintf=i);typeof window!="undefined"&&(window.sprintf=t,window.vsprintf=i,typeof define=="function"&&define.amd&&define(function(){return{sprintf:t,vsprintf:i}}))}();CCTLMultiplayerGui=function(){this._cssClassDomain="ctl-multiplayer-";this._idCurDialog;this._idLoadingDialog;this._iMaxPlayersInRoom=4;this._iStartNumPlayers=4;this._aRoomList=[];this._aNamesList=["Dog","Cow","Cat","Donkey","Tiger","Lion","Panther","Leopard","Cheetah","Bear","Turtle","Tortoise","Crocodile","Rabbit","Porcupine","Hare","Hen","Fish","Crow","Albatross","Pigeon","Dolphin","Frog","Whale","Alligator","Fox","Ostrich","Squirrel","Eagle","Goat","Jackal","Emu","Giraffe","Crab","Panda","Bat","Antelope","Monkey","Gorilla","Beagle","Eel","Goose","Wolf","Armadillo","Hamster","Camel","Chameleon","Hawk","Jaguar","Iguana","Kangaroo","Koala","Lizard","Llama","Jellyfish","Bull","Buffalo","Mouse","Sheep","Owl","Flamingo","Swan","Duck","Mole","Lemur","Whale","Snake"];this._aAdjectivesList=["Adorable","Bright","Calm","Colorful","Delicious","Creative","Eager","Elegant","Famous","Generous","Glorious","Graceful","Happy","Healthy","Humorous","Innocent","Joyful","Kind","Magnificent","Mysterious","Naughty","Neat","Nice","Obedient","Polite","Powerful","Quiet","Responsible","Radiant","Rich","Serious","Smart","Strong","Talented","Tender","Trustworthy","Unique","Wise","Red","Pink","Orange","Yellow","Purple","Green","Blue","Brown","White","Gray","Black","Gorgeous","Fabulous","Handsome","Amazing","Exotic","Incredible","Outstanding","Splendid","Wonderful"];var n=localStorage.getItem(GAME_NAME+"_nickname");this._szNickName=n===null||n===undefined?this.generateRandomName():n;this._trySaveNameOnLocal();this._iIDTimeout=null};CCTLMultiplayerGui.prototype.unload=function(){};CCTLMultiplayerGui.prototype._onRoomClick=function(n){var t=""+this._aRoomList[n].name,i=""+this._aRoomList[n].accessible,r=""+this._aRoomList[n].private;i!=="false"&&(g_oCTLMultiplayer.closeCurrentDialog(),r==="true"?g_oCTLMultiplayer.showTypeRoomPassword(t):(g_oCTLMultiplayer.showLoading(TEXT_NETWORK_CONNECTING),on_ctl_multiplayer_join_room(t)))};CCTLMultiplayerGui.prototype.refreshRoomList=function(n){var t,i,r;for(this._aRoomList=n,t="",i=0;i<n.length;i++)t+='<li onclick="g_oCTLMultiplayer._onRoomClick('+i+')" data-private="'+n[i].private+'" data-accessible="'+n[i].accessible+'">',r=s_oNetworkManager.filterString(n[i].name),t+='<span class="'+this._cssClassDomain+'room-name">',t+=r,t+="<\/span>",t+='<span class="'+this._cssClassDomain+'current-users">',t+=n[i].curusers+"/"+n[i].maxusers,t+="<\/span>",t+=n[i].private===!0?'<i class="'+this._cssClassDomain+'icons-lock"><\/i>':n[i].accessible===!1?'<i class="'+this._cssClassDomain+'icons-block"><\/i>':'<i class="'+this._cssClassDomain+'icons-login"><\/i>',t+="<\/li>";document.querySelector("."+this._cssClassDomain+"room-list").innerHTML="";document.querySelector("."+this._cssClassDomain+"room-list").appendChild(htmlMarkupToNode(t))};CCTLMultiplayerGui.prototype.showRoomList=function(n){var t="",t='<input type="text" placeholder="'+TEXT_SYS_FINDROOM+'" name="nickname" maxlength="60" value="" oninput="on_ctl_user_search(this.value)">';t+='<ul class="'+this._cssClassDomain+"list "+this._cssClassDomain+'room-list">';t+="<\/ul>";t+='<button onclick="on_ctl_multiplayer_refresh_room_list()" type="button" class="'+this._cssClassDomain+"update "+this._cssClassDomain+'btn-gray">';t+='<i class="'+this._cssClassDomain+'icons-arrows-cw"><\/i>';t+="<span>"+TEXT_SYS_UPDATE+"<\/span>";t+="<\/button>";this._idCurDialog=this._showRoomListDialog(this._szNickName,t,[{txt:TEXT_SYS_QUICKMATCH,cb:"on_ctl_multiplayer_join_quick_match",classes:""},{txt:TEXT_SYS_CREATEMATCH,cb:"on_ctl_multiplayer_show_create_match",classes:""},]);this.refreshRoomList(n)};CCTLMultiplayerGui.prototype._showRoomListDialog=function(n,t,i,r){var u="",f;if(r||(r=this.makeCode()),u+="<div id='"+r+"' class='"+this._cssClassDomain+"dlg-wrapper'>",u+="<div class='"+this._cssClassDomain+"dlg-block'><\/div>",u+="<div class='"+this._cssClassDomain+"dlg-scroll'>",u+="<div class='"+this._cssClassDomain+"dlg-content'>",u+="<div class='"+this._cssClassDomain+"icons-cancel' onclick='g_oCTLMultiplayer.closeCurrentDialog()' >",u+="<strong>X<\/strong>",u+="<\/div>",u+="<div class='"+this._cssClassDomain+"dlg-header'>",u+="<h1>",u+='<button onclick="on_ctl_refresh_nickname()" type="button">',u+='<i class="'+this._cssClassDomain+'icons-arrows-cw"><\/i>',u+="<\/button>",u+='<button onclick="on_ctl_edit_nickname()" type="button" style="margin-left: 8px;">',u+='<i class="'+this._cssClassDomain+'icons-pencil"><\/i>',u+="<\/button>",u+="<span class='"+this._cssClassDomain+"nickname-edit'>",u+=s_oNetworkManager.filterString(n),u+="<\/span>",u+="<\/h1>",u+="<\/div>",u+="<div class='"+this._cssClassDomain+"dlg-content-body'>",u+=t,u+="<\/div>",i&&i.length>0){for(u+="<div class='"+this._cssClassDomain+"dlg-footer'>",f=0;f<i.length;f++)u+="<button type='button' onclick='"+i[f].cb+'("'+r+"\");' class='"+this._cssClassDomain+"mini "+i[f].classes+"'>"+i[f].txt+"<\/button>";u+=this.buildExtraFooter();u+="<\/div>"}return u+="<\/div>",u+="<\/div>",u+="<\/div>",document.querySelector("body").appendChild(htmlMarkupToNode(u)),r};CCTLMultiplayerGui.prototype.showTypeRoomPassword=function(n){var t="";t+='<div class="'+this._cssClassDomain+'form-group">';t+="<label>"+TEXT_SYS_TYPEROOMPASS+"<\/label>";t+='<input type="password" name="password" data-room-name="'+n+'">';t+="<\/div>";this._idCurDialog=this.showDialog(TEXT_SYS_TYPEROOMPASS,t,[{txt:TEXT_SYS_BACK,cb:"on_ctl_multiplayer_close_type_room_password",classes:""},{txt:TEXT_SYS_OK,cb:"on_ctl_multiplayer_send_password",classes:""}]);document.onkeydown=function(n){n.keyCode===13&&(on_ctl_multiplayer_send_password(),document.onkeydown=null)}};CCTLMultiplayerGui.prototype.showCreateRoom=function(){var n="",t;if(n+='<div class="'+this._cssClassDomain+'form-group">',n+="<label>"+TEXT_SYS_NAMEROOM+"<\/label>",n+='<input type="text" name="roomname" value="'+sprintf(TEXT_SYS_DEFAULTROOMNAME,s_oNetworkManager.getPlayerNickname())+'">',n+="<\/div>",n+='<div class="'+this._cssClassDomain+'form-group">',n+="<label>"+TEXT_SYS_PASSWORD+"<\/label>",n+='<input type="password" name="password">',n+="<p>"+TEXT_SYS_INFOPASS+"<\/p>",n+="<\/div>",n+='<div class="'+this._cssClassDomain+"form-group"+(this._iMaxPlayersInRoom===2?" "+this._cssClassDomain+"display-none":"")+'">',n+="<label>"+TEXT_SYS_MAXPLAYERS+"<\/label>",n+='<ul class="'+this._cssClassDomain+'inline-list">',this._iMaxPlayersInRoom>2)for(t=2;t<this._iMaxPlayersInRoom+1;t++)n+=this._iStartNumPlayers===t?'<li><input type="radio" name="maxplayers" value="'+t+'" checked="checked"><span>'+t+"<\/span><\/li>":'<li><input type="radio" name="maxplayers" value="'+t+'"><span>'+t+"<\/span><\/li>";n+="<p>"+TEXT_SYS_CHOOSEMAXNUMPLAYERS+"<\/p>";n+="<\/div>";this._idCurDialog=this.showDialog(TEXT_SYS_CREATEROOM+'<i id="visibility-icon" class="'+this._cssClassDomain+"icon-create-match "+this._cssClassDomain+'icons-login"><\/i>',n,[{txt:TEXT_SYS_BACK,cb:"on_ctl_multiplayer_close_create_room",classes:""},{txt:TEXT_SYS_CREATE,cb:"on_ctl_multiplayer_create_room",classes:""}]);document.onkeydown=function(n){n.keyCode===13&&(on_ctl_multiplayer_create_room(),document.onkeydown=null)}};CCTLMultiplayerGui.prototype.onPasswordInput=function(){var t=document.querySelector("[id='"+g_oCTLMultiplayer._idCurDialog+"']").querySelector("input[name='password']"),i=t.value.length,n=document.querySelector("#visibility-icon");i>0?(n.classList.remove(this._cssClassDomain+"icons-login"),n.classList.add(this._cssClassDomain+"icons-lock")):(n.classList.remove(this._cssClassDomain+"icons-lock"),n.classList.add(this._cssClassDomain+"icons-login"))};CCTLMultiplayerGui.prototype.showChooseNickName=function(){var n="",t;try{n=localStorage.getItem(GAME_NAME+"_nickname");n==null&&(n="")}catch(i){}t='<input type="text" name="nickname" maxlength="20" value="'+this._szNickName+'">';this._idCurDialog=this.showDialog(TEXT_SYS_CHOOSENICK,t,[{txt:TEXT_SYS_BACK,cb:"on_ctl_multiplayer_refresh_room_list",classes:""},{txt:TEXT_SYS_OK,cb:"on_ctl_multiplayer_send_nickname",classes:""}]);document.onkeydown=function(n){n.keyCode===13&&(on_ctl_multiplayer_send_nickname(),document.onkeydown=null)}};CCTLMultiplayerGui.prototype.showGeneralDialog=function(n,t){this._idCurDialog=this.showDialog(n,"",[{txt:TEXT_SYS_BACK,cb:t,classes:""}])};CCTLMultiplayerGui.prototype.closeLoadingDialog=function(){this.closeDlg(this._idLoadingDialog)};CCTLMultiplayerGui.prototype.closeCurrentDialog=function(){document.onkeydown=null;this.closeDlg(this._idCurDialog)};CCTLMultiplayerGui.prototype.makeCode=function(){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<32;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return n};CCTLMultiplayerGui.prototype.showDialog=function(n,t,i,r){var u="",f;if(r||(r=this.makeCode()),u+="<div id='"+r+"' class='"+this._cssClassDomain+"dlg-wrapper'>",u+="<div class='"+this._cssClassDomain+"dlg-block'><\/div>",u+="<div class='"+this._cssClassDomain+"dlg-content'>",u+="<div class='"+this._cssClassDomain+"dlg-header'>",u+="<h1>"+n+"<\/h1>",u+="<\/div>",u+="<div class='"+this._cssClassDomain+"dlg-content-body'>",u+=t,u+="<\/div>",i&&i.length>0){for(u+="<div class='"+this._cssClassDomain+"dlg-footer'>",f=0;f<i.length;f++)u+="<button type='button' onclick='"+i[f].cb+'("'+r+"\");' class='"+this._cssClassDomain+"mini "+i[f].classes+"'>"+i[f].txt+"<\/button>";u+=this.buildExtraFooter();u+="<\/div>"}return u+="<\/div>",u+="<\/div>",document.querySelector("body").appendChild(htmlMarkupToNode(u)),r};CCTLMultiplayerGui.prototype.buildExtraFooter=function(){return""};CCTLMultiplayerGui.prototype.setCountdown=function(n){document.querySelector("#countdown-vs-panel-text").textContent=n;this._iIDTimeout=setInterval(function(){n-=1;document.querySelector("#countdown-vs-panel-text")&&(document.querySelector("#countdown-vs-panel-text").textContent=n);n<=0&&g_oCTLMultiplayer.removeCountdown()},1e3)};CCTLMultiplayerGui.prototype.removeCountdown=function(){this._iIDTimeout!==null&&(document.querySelector("#countdown-vs-panel-text")&&(document.querySelector("#countdown-vs-panel-text").textContent=""),clearInterval(this._iIDTimeout),this._iIDTimeout=null)};CCTLMultiplayerGui.prototype.onPlayerFound=function(n){if(document.querySelector("#opponent-nickname")){var t=s_oNetworkManager.filterString(n);document.querySelector("#opponent-nickname").textContent=t}document.querySelector("#countdown-vs-panel-text")&&(document.querySelector("#countdown-vs-panel-text").textContent="");document.querySelector("button.ctl-multiplayer-mini")&&(document.querySelector("button.ctl-multiplayer-mini").style.display="none");g_oCTLMultiplayer.removeCountdown()};CCTLMultiplayerGui.prototype.showVsPanel=function(n,t){var i="",r;this._idLoadingDialog=this.makeCode();n||(n=TEXT_SYS_LOADING);i+="<div id='"+this._idLoadingDialog+"' class='"+this._cssClassDomain+"dlg-wrapper "+this._cssClassDomain+"fixed'>";i+="<div class='"+this._cssClassDomain+"dlg-block'><\/div>";i+="<div class='"+this._cssClassDomain+"dlg-scroll'>";i+="<div class='"+this._cssClassDomain+"dlg-content'>";i+="<div class='"+this._cssClassDomain+"dlg-header'>";r=s_oNetworkManager.filterString(s_oNetworkManager.getPlayerNickname());i+="<h1 style='text-align:center'>"+r+"<\/h1>";i+="<h1 style='font-size:22px;text-align:center;color:#ffbf00'>"+n+"<\/h1>";i+="<h1 id='opponent-nickname' style='text-align:center'>"+TEXT_WAIT_OPPONENT.toLowerCase()+"<\/h1>";i+="<h1 id='countdown-vs-panel-text' style='text-align:center'><\/h1>";i+="<\/div>";t&&(i+="<div class='"+this._cssClassDomain+"dlg-footer "+this._cssClassDomain+"center'>",i+="<button type='button' onclick='"+t+'("'+this._idLoadingDialog+"\");' class='"+this._cssClassDomain+"mini '>"+TEXT_SYS_BACK+"<\/button>",i+=this.buildExtraFooter(),i+="<\/div>");i+="<\/div>";i+="<\/div>";i+="<\/div>";document.querySelector("body").appendChild(htmlMarkupToNode(i));this.setCountdown(60)};CCTLMultiplayerGui.prototype.showLoading=function(n,t){var i="";this._idLoadingDialog=this.makeCode();n||(n=TEXT_SYS_LOADING);i+="<div id='"+this._idLoadingDialog+"' class='"+this._cssClassDomain+"dlg-wrapper "+this._cssClassDomain+"fixed'>";i+="<div class='"+this._cssClassDomain+"dlg-block'><\/div>";i+="<div class='"+this._cssClassDomain+"dlg-content'>";i+="<div class='"+this._cssClassDomain+"dlg-header'>";i+="<h1>"+n+"<\/h1>";i+="<\/div>";i+="<div class='"+this._cssClassDomain+"dlg-content-body "+this._cssClassDomain+"align-center'>";i+='<i class="'+this._cssClassDomain+'icons-spin5 animate-spin"><\/i>';i+="<\/div>";t&&(i+="<div class='"+this._cssClassDomain+"dlg-footer "+this._cssClassDomain+"center'>",i+="<button type='button' onclick='"+t+'("'+this._idLoadingDialog+"\");' class='"+this._cssClassDomain+"mini '>"+TEXT_SYS_BACK+"<\/button>",i+=this.buildExtraFooter(),i+="<\/div>");i+="<\/div>";i+="<\/div>";document.querySelector("body").appendChild(htmlMarkupToNode(i))};CCTLMultiplayerGui.prototype.updateRoomUserList=function(n,t){var r=document.querySelector("."+this._cssClassDomain+"user-list"),i,u,f;if(r){for(r.innerHTML="",i=0;i<n.length;i++)n[i].length>0&&r.appendChild(htmlMarkupToNode("<li>"+n[i]+"<\/li>"));u=TEXT_WAITING_ROOM_MESSAGE.replace("%d",t);document.querySelector("."+this._cssClassDomain+"room-info").textContent=u;f=document.querySelector("."+this._cssClassDomain+"room-play-now");f&&(n.length===1?document.querySelector("."+this._cssClassDomain+"room-play-now").classList.add(this._cssClassDomain+"display-none"):document.querySelector("."+this._cssClassDomain+"room-play-now").classList.remove(this._cssClassDomain+"display-none"))}};CCTLMultiplayerGui.prototype.showWaitingPlayersInRoom=function(n,t,i,r){var u="",f,e,o;for(this._idLoadingDialog=this.makeCode(),n||(n=TEXT_SYS_LOADING),u+="<div id='"+this._idLoadingDialog+"' class='"+this._cssClassDomain+"dlg-wrapper "+this._cssClassDomain+"fixed'>",u+="<div class='"+this._cssClassDomain+"dlg-block'><\/div>",u+="<div class='"+this._cssClassDomain+"dlg-content'>",u+="<div class='"+this._cssClassDomain+"dlg-header'>",u+="<h1>"+n+"<\/h1>",u+="<\/div>",u+="<div class='"+this._cssClassDomain+"dlg-content-body "+this._cssClassDomain+"align-center'>",u+="<ul class='"+this._cssClassDomain+"list "+this._cssClassDomain+"user-list'>",f=0;f<t.length;f++)u+="<li>"+t[f]+"<\/li>";if(u+="<\/ul>",u+="<p class='"+this._cssClassDomain+"room-info'><\/p>",u+='<i class="'+this._cssClassDomain+'icons-spin5 animate-spin"><\/i>',r&&(u+='<input class="'+this._cssClassDomain+'room-link" type="text" placeholder="'+r+'" id="link" name="link"',u+='maxlength="60" value="'+r+'" size="4" data-clipboard-target="#link" readonly>'),u+="<\/div>",i){for(u+="<div class='"+this._cssClassDomain+"dlg-footer "+this._cssClassDomain+"center'>",f=0;f<i.length;f++)e=i[f],o=e.id==="invite"?"data-clipboard-target='#link'":"",u+="<button id='"+e.id+"' type='button' "+o+" onclick='"+e.func+'("'+this._idLoadingDialog+"\");' class='"+this._cssClassDomain+"mini"+(e.classes?" "+e.classes:"")+" '>"+e.label+"<\/button>";u+=this.buildExtraFooter();u+="<\/div>"}u+="<\/div>";u+="<\/div>";document.querySelector("body").appendChild(htmlMarkupToNode(u))};CCTLMultiplayerGui.prototype.closeDlg=function(n){document.querySelector("[id='"+n+"']")&&document.querySelector("[id='"+n+"']").remove()};CCTLMultiplayerGui.prototype.closeAllDialog=function(){[...document.querySelectorAll("*")].forEach(n=>{n._tippy&&n._tippy.destroy()});g_oCTLMultiplayer.closeLoadingDialog();g_oCTLMultiplayer.closeCurrentDialog();g_oCTLMultiplayer.removeCountdown()};CCTLMultiplayerGui.prototype._trySaveNameOnLocal=function(){try{localStorage.setItem(GAME_NAME+"_nickname",this._szNickName)}catch(n){}};CCTLMultiplayerGui.prototype.setNickName=function(n){this._szNickName=n===null||n===undefined?"":n;s_oNetworkManager.setPlayerNickname(this._szNickName);document.querySelector("."+this._cssClassDomain+"nickname-edit")&&(document.querySelector("."+this._cssClassDomain+"nickname-edit").textContent=this._szNickName);this._trySaveNameOnLocal()};CCTLMultiplayerGui.prototype.getNickname=function(){return this._szNickName};CCTLMultiplayerGui.prototype.generateRandomName=function(){this._aNamesList=shuffle(this._aNamesList);this._aAdjectivesList=shuffle(this._aAdjectivesList);return this._aAdjectivesList[0]+" "+this._aNamesList[0]};CCTLMultiplayerGui.prototype.setMaxPlayersInRoom=function(n){n<2||n>4||(this._iMaxPlayersInRoom=n)};g_oCTLMultiplayer=new CCTLMultiplayerGui;g_oCTLMultiplayer.setMaxPlayersInRoom(4);var TEXT_WAIT_OPPONENT="WAITING OPPONENT...",TEXT_OPPONENT_LEFT="OPPONENT LEFT!",TEXT_ALL_PLAYERS_LEFT="ALL PLAYERS HAVE LEFT THE MATCH!",TEXT_PLAYER_DISCONNECTED="YOU LEFT!",TEXT_REMATCH="do you want the re-match?",TEXT_CONNECTION_LOST="CONNECTION LOST",TEXT_REMATCH_ALERT="%s WANTS TO PLAY AGAIN",TEXT_AFK="AFK",TEXT_QUIT="QUIT",TEXT_SYS_CHOOSENICK="Choose nickname",TEXT_SYS_UPDATE="update",TEXT_SYS_MATCH_LIST="Match list",TEXT_SYS_QUICKMATCH="quick match",TEXT_SYS_CREATEMATCH="create match",TEXT_SYS_BACK="back",TEXT_SYS_OK="ok",TEXT_SYS_CREATE="create",TEXT_SYS_CLOSE="close",TEXT_SYS_LOADING="Loading...",TEXT_SYS_NAMEROOM="Name Room",TEXT_SYS_CREATEROOM="Create Room",TEXT_SYS_DEFAULTROOMNAME="%s's room",TEXT_SYS_PASSWORD="Password",TEXT_SYS_INFOPASS="If you don't set a password this room will be public.",TEXT_SYS_TYPEROOMPASS="Type Room Password",TEXT_WRONG_PASSWORD="Wrong Password!",TEXT_NETWORK_CONNECTING="connecting...",TEXT_ROOM_IS_FULL="Room is full!",TEXT_FIND_OPPONENT="finding opponent...",TEXT_VS="VS",TEXT_CONNECT_TO_LOBBY="Connect to lobby...",TEXT_ROOM_DOESNT_EXIST="Room doesn't exist!",TEXT_WAITING_FOR_OPPONENT_IN_ROOM="waiting for opponent in room: ",TEXT_QUIT_FROM_GAME="%s QUIT THE GAME",TEXT_TIME_OVER="TIME OVER",TEXT_OFFER_A_DRAW="Do you want to offer a draw?",TEXT_OFFERED_DRAW="You have been offered a draw.\nClick the button to accept it",TEXT_WAIT_FOR_A_DRAW="You offered a draw.\nWait for your opponent to accept it",TEXT_PLAYER_AGREED_TO_DRAW="(Players agreed to draw)",TEXT_CPU="CPU",TEXT_PLAYER="Player",TEXT_PLAYER_KICKED="You were kicked from the game due to inactivity.",TEXT_MINUTES="Mins.",TEXT_NO_TIME="No Time",TEXT_NO_TIME_MODE="NO TIME MODE",TEXT_TIME_MODE="TIME MODE",TEXT_SYS_FINDROOM="find a room...",TEXT_ROOM_IS_EXPIRED="Room Expired!",TEXT_MATCH_FOUND="Match found!",TEXT_WAITING_FOR_PLAYERS_IN_ROOM="waiting for players in room: ",TEXT_PLAY_NOW="play now",TEXT_WAITING_ROOM_MESSAGE="This room can contain max %d players",TEXT_SYS_GAME_TIME="Match Time",TEXT_SYS_CHOOSEGAMETIME="Choose the playing time per player",TEXT_NO_CONNECTION="NO CONNECTION<br/>(Connect to find someone to play online)",TEXT_SOMETHING_WENT_WRONG="CONNECTION ERROR. SOMETHING WENT WRONG",TEXT_INVALID_NAME="INVALID NAME!",TEXT_SYS_INVITE="INVITE",TEXT_SYS_MINUTES="%s min.",TEXT_SYS_QUICKMATCH_MINUTE="quick match ("+TEXT_SYS_MINUTES+")",TEXT_SYS_COPIED_TO_CLIPBOARD="Game link copied to your Clipboard. Share it with your friends!",TEXT_SYS_QUICKMATCH_NOTIME="quick match ("+TEXT_NO_TIME+")",TEXT_SYS_MAXPLAYERS="Max Players",TEXT_SYS_CHOOSEMAXNUMPLAYERS="Choose the maximum number of players in room.",TEXT_EMOTICONS_BLOCK="BLOCK EMOTICONS";var ON_CONNECTION_ERROR=0,ON_DISCONNECTION=1,ON_DISCONNECTION_FROM_MATCH=2,ON_LOGIN_SUCCESS=3,ON_MATCHMAKING_CONNECTION_SUCCESS=4,ON_GAMEROOM_CONNECTION_SUCCESS=5,ON_USEROWNERROOM_CREATE_SUCCESS=6,ON_USEROWNERROOM_JOIN_SUCCESS=7,ON_ROOM_INFO_RETURNED=8,ON_BACK_FROM_A_ROOM=9,ERROR_CODE_UNKNOWNROOM="UnknownRoom",ON_STATUS_ONLINE="online",ON_STATUS_OFFLINE="offline",ROOM_TYPE_MATCHMAKING="MatchmakingRoom",ROOM_TYPE_USEROWNER="UserOwnerRoom",ROOM_TYPE_GAME="GameRoom",WAITING_PLAYERS_TIMEOUT=1e4;var MSG_ROOM_UPDATE="room_update",MSG_ROOM_IS_FULL="room_is_full",MSG_ROOM_EXPIRED="room_expired",MSG_GAME_FOUND="game_found",MSG_PLAYER_LEFT_GAME="player_left_game",MSG_CARDS_RECEIVED="cards_received",MSG_OPPONENT_MOVES="opponent_moves",MSG_REMATCH_ANSWER_RESULTS="rematch_answer_results",MSG_NOTIFY_ACCEPT_REMATCH="notify_accept_rematch",MSG_SHOW_EMOTICON="show_emoticon",MSG_START_THE_GAME="start_the_game",MSG_SET_GAME_DATA="set_game_data",MSG_DISCONNECTION="disconnection",MSG_REQUEST_CARDS="request_cards",MSG_MOVE="move",MSG_ACCEPT_REMATCH="accept_rematch",MSG_SEND_EMOTICON="send_emoticon",MSG_PLAYNOW="play_now",MSG_PING="ping",MSG_PLAYER_KICKED="player_kicked";FORBIDDEN_LIST=["2 girls 1 cup","2g1c","4r5e","5h1t","5hit","a_s_s","a55","a55hole","acrotomophilia","aeolus","ahole","alabama hot pocket","alaskan pipeline","anal","analprobe","anilingus","anus","apeshit","ar5e","areola","areole","arian","arrse","arse","arsehole","aryan","ass","ass hole","assbag","assbandit","assbang","assbanged","assbanger","assbangs","assbite","assclown","asscock","asscracker","asses","assface","assfuck","assfucker","ass-fucker","assfukka","assgoblin","assh0le","asshat","ass-hat","asshead","assho1e","asshole","assholes","asshopper","ass-jabber","assjacker","asslick","asslicker","assmaster","assmonkey","assmunch","assmuncher","assnigger","asspirate","ass-pirate","assshit","assshole","asssucker","asswad","asswhole","asswipe","asswipes","auto erotic","autoerotic","axwound","azazel","azz","b!tch","b00bs","b17ch","b1tch","babe","babeland","babes","baby batter","baby juice","ball gag","ball gravy","ball kicking","ball licking","ball sack","ball sucking","ballbag","balls","ballsack","bampot","bang","bangbros","banger","bareback","barely legal","barenaked","barf","bastard","bastardo","bastards","bastinado","bawdy","bbw","bdsm","beaner","beaners","beardedclam","beastial","beastiality","beatch","beater","beaver","beaver cleaver","beaver lips","beer","beeyotch","bellend","beotch","bestial","bestiality","bi+ch","biatch","big black","big breasts","big knockers","big tits","bigtits","bimbo","bimbos","birdlock","bitch","bitchass","bitched","bitcher","bitchers","bitches","bitchin","bitching","bitchtits","bitchy","black cock","blonde action","blonde on blonde action","bloody","blow","blow job","blow your load","blowjob","blowjobs","blue waffle","blumpkin","bod","bodily","boink","boiolas","bollock","bollocks","bollok","bollox","bondage","bone","boned","boner","boners","bong","boob","boobies","boobs","booby","booger","bookie","booobs","boooobs","booooobs","booooooobs","bootee","bootie","booty","booty call","booze","boozer","boozy","bosom","bosomy","bowel","bowels","bra","brassiere","breast","breasts","breeder","brotherfucker","brown showers","brunette action","buceta","bugger","bukkake","bull shit","bulldyke","bullet vibe","bullshit","bullshits","bullshitted","bullturds","bum","bumblefuck","bung","bung hole","bunghole","bunny fucker","busty","butt","butt fuck","butt plug","buttcheeks","buttfuck","buttfucka","buttfucker","butthole","buttmuch","butt-pirate","buttplug","c.0.c.k","c.o.c.k.","c.u.n.t","c0ck","c-0-c-k","c0cksucker","caca","cahone","camel toe","cameltoe","camgirl","camslut","camwhore","carpet muncher","carpetmuncher","cawk","cervix","chesticle","chinc","chincs","chink","choad","chocolate rosebuds","chode","chodes","cipa","circlejerk","cl1t","cleveland steamer","climax","clit","clitface","clitfuck","clitoris","clitorus","clits","clitty","clover clamps","clusterfuck","cnut","cocain","cocaine","cock","c-o-c-k","cock sucker","cockass","cockbite","cockblock","cockburger","cockeye","cockface","cockfucker","cockhead","cockholster","cockjockey","cockknocker","cockknoker","cocklump","cockmaster","cockmongler","cockmongruel","cockmonkey","cockmunch","cockmuncher","cocknose","cocknugget","cocks","cockshit","cocksmith","cocksmoke","cocksmoker","cocksniffer","cocksuck","cocksucked","cocksucker","cock-sucker","cocksucking","cocksucks","cocksuka","cocksukka","cockwaffle","coital","cok","cokmuncher","coksucka","commie","condom","coochie","coochy","coon","coons","cooter","coprolagnia","coprophilia","corksucker","cornhole","cox","crabs","crack","cracker","crackwhore","crap","crappy","creampie","crotte","cum","cumbubble","cumdumpster","cumguzzler","cumjockey","cummer","cummin","cumming","cums","cumshot","cumshots","cumslut","cumstain","cumtart","cunilingus","cunillingus","cunnie","cunnilingus","cunny","cunt","c-u-n-t","cuntass","cuntface","cunthole","cunthunter","cuntlick","cuntlicker","cuntlicking","cuntrag","cunts","cuntslut","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d0ng","d0uch3","d0uche","d1ck","d1ld0","d1ldo","dago","dagos","dammit","damn","damned","damnit","darkie","date rape","daterape","dawgie-style","deep throat","deepthroat","deggo","dendrophilia","dick","dickbag","dickbeaters","dickdipper","dickface","dickflipper","dickfuck","dickfucker","dickhead","dickheads","dickhole","dickish","dick-ish","dickjuice","dickmilk�","dickmonger","dickripper","dicks","dicksipper","dickslap","dick-sneeze","dicksucker","dicksucking","dicktickler","dickwad","dickweasel","dickweed","dickwhipper","dickwod","dickzipper","diddle","dike","dildo","dildos","diligaf","dillweed","dimwit","dingle","dingleberries","dingleberry","dink","dinks","dipship","dipshit","dirsa","dirty pillows","dirty sanchez","dlck","dog style","dog-fucker","doggie style","doggiestyle","doggie-style","doggin","dogging","doggy style","doggystyle","doggy-style","dolcett","domination","dominatrix","dommes","dong","donkey punch","donkeyribber","doochbag","doofus","dookie","doosh","dopey","double dong","double penetration","doublelift","douch3","douche","douchebag","douchebags","douche-fag","douchewaffle","douchey","dp action","drunk","dry hump","duche","dumass","dumb ass","dumbass","dumbasses","dumbcunt","dumbfuck","dumbshit","dummy","dumshit","dvda","dyke","dykes","eat my ass","ecchi","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","enlargement","erect","erection","erotic","erotism","escort","essohbee","eunuch","extacy","extasy","f u c k","f u c k e r","f.u.c.k","f_u_c_k","f4nny","fack","fag","fagbag","fagfucker","fagg","fagged","fagging","faggit","faggitt","faggot","faggotcock","faggs","fagot","fagots","fags","fagtard","faig","faigt","fanny","fannybandit","fannyflaps","fannyfucker","fanyy","fart","fartknocker","fat","fatass","fcuk","fcuker","fcuking","fecal","feck","fecker","felch","felcher","felching","fellate","fellatio","feltch","feltcher","female squirting","femdom","figging","fingerbang","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fingering","fisted","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","fisting","fisty","flamer","flange","floozy","foad","foah","fondle","foobar","fook","fooker","foot fetish","footjob","foreskin","freex","frigg","frigga","frotting","fubar","fuck","f-u-c-k","fuck buttons","fuck off","fucka","fuckass","fuckbag","fuckboy","fuckbrain","fuckbutt","fuckbutter","fucked","fucker","fuckers","fuckersucker","fuckface","fuckhead","fuckheads","fuckhole","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucknugget","fucknut","fucknutt","fuckoff","fucks","fuckstick","fucktard","fuck-tard","fucktards","fucktart","fucktwat","fuckup","fuckwad","fuckwhit","fuckwit","fuckwitt","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","futanari","fux","fux0r","fvck","fxck","gae","gai","gang bang","gangbang","gangbanged","gangbangs","ganja","gay","gay sex","gayass","gaybob","gaydo","gayfuck","gayfuckist","gaylord","gays","gaysex","gaytard","gaywad","genitals","gey","gfy","ghay","ghey","giant cock","gigolo","girl on","girl on top","girls gone wild","glans","goatcx","goatse","god damn","godamn","godamnit","goddam","god-dam","goddammit","goddamn","goddamned","god-damned","goddamnit","gokkun","golden shower","goldenshower","gonad","gonads","goo girl","gooch","goodpoop","gook","gooks","goregasm","gringo","grope","group sex","gspot","g-spot","gtfo","guido","guro","h0m0","h0mo","hand job","handjob","hard core","hard on","hardcore","hardcoresex","he11","hebe","heeb","hell","hemp","hentai","heroin","herp","herpes","herpy","heshe","hitler","hiv","ho","hoar","hoare","hobag","hoe","hoer","hom0","homey","homo","homodumbshit","homoerotic","homoey","honkey","honky","hooch","hookah","hooker","hoor","hootch","hooter","hooters","hore","horniest","horny","hot carl","hot chick","hotsex","how to kill","how to murder","huge fat","hump","humped","humping","hussy","hymen","inbred","incest","injun","intercourse","j3rk0ff","jack Off","jackass","jackhole","jackoff","jack-off","jaggi","jagoff","jail bait","jailbait","jap","japs","jelly donut","jerk","jerk off","jerk0ff","jerkass","jerked","jerkoff","jerk-off","jigaboo","jiggaboo","jiggerboo","jism","jiz","jizm","jizz","jizzed","juggs","jungle bunny","junglebunny","junkie","junky","kawk","kike","kikes","kill","kinbaku","kinkster","kinky","kkk","klan","knob","knobbing","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kooch","kooches","kootch","kraut","kum","kummer","kumming","kums","kunilingus","kunja","kunt","kyke","l3i+ch","l3itch","labia","lameass","lardass","leather restraint","leather straight jacket","lech","lemon party","leper","lesbian","lesbians","lesbo","lesbos","lez","lezbian","lezbians","lezbo","lezbos","lezzie","lezzies","lezzy","lmao","lmfao","loin","loins","lolita","lovemaking","lube","lust","lusting","lusty","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","make me come","male squirting","mams","masochist","massa","masterb8","masterbat","masterbat3","masterbate","master-bate","masterbating","masterbation","masterbations","masturbate","masturbating","masturbation","maxi","mcfagget","menage a trois","menses","menstruate","menstruation","meth","m-fucking","mick","milf","minge","missionary position","mof0","mofo","mo-fo","molest","moolie","moron","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucka","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","mound of venus","mr hands","mtherfucker","mthrfucker","mthrfucking","muff","muff diver","muffdiver","muffdiving","munging","murder","mutha","muthafecker","muthafuckaz","muthafucker","muthafuckker","muther","mutherfucker","mutherfucking","muthrfucking","n1gga","n1gger","nad","nads","naked","nambla","napalm","nappy","nawashi","nazi","nazism","negro","neonazi","nig nog","nigaboo","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","niggle","niglet","nimphomania","nimrod","ninny","nipple","nipples","nob","nob jokey","nobhead","nobjocky","nobjokey","nooky","nsfw images","nude","nudity","numbnuts","nut sack","nutsack","nympho","nymphomania","octopussy","omorashi","one cup two girls","one guy one jar","opiate","opium","oral","orally","organ","orgasim","orgasims","orgasm","orgasmic","orgasms","orgies","orgy","ovary","ovum","ovums","p.u.s.s.y.","p0rn","paddy","paedophile","paki","panooch","pantie","panties","panty","pastie","pasty","pawn","pcp","pecker","peckerhead","pedo","pedobear","pedophile","pedophilia","pedophiliac","pee","peepee","pegging","penetrate","penetration","penial","penile","penis","penisbanger","penisfucker","penispuffer","perversion","peyote","phalli","phallic","phone sex","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","piece of shit","pigfucker","pillowbiter","pimp","pimpis","pinko","piss","piss pig","pissed","pissed off","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","piss-off","pisspig","playboy","pleasure chest","pms","polack","pole smoker","polesmoker","pollock","ponyplay","poof","poon","poonani","poonany","poontang","poop","poop chute","poopchute","poopuncher","porch monkey","porchmonkey","porn","porno","pornography","pornos","pot","potty","prick","pricks","prig","prince albert piercing","pron","prostitute","prude","pthc","pube","pubes","pubic","pubis","punanny","punany","punkass","punky","punta","puss","pusse","pussi","pussies","pussy","pussylicking","pussypounder","pussys","pust","puto","queaf","queef","queer","queerbait","queerhole","queero","queers","quicky","quim","racy","raghead","raging boner","rape","raped","raper","raping","rapist","raunch","rectal","rectum","rectus","reefer","reetard","reich","renob","retard","retarded","reverse cowgirl","revue","rimjaw","rimjob","rimming","ritard","rosy palm","rosy palm and her 5 sisters","rtard","r-tard","rum","rump","rumprammer","ruski","rusty trombone","s hit","s&m","s.h.i.t.","s.o.b.","s_h_i_t","s0b","sadism","sadist","sand nigger","sandler","sandnigger","sanger","santorum","scag","scantily","scat","schizo","schlong","scissoring","screw","screwed","screwing","scroat","scrog","scrot","scrote","scrotum","scrud","scum","seaman","seamen","seduce","seks","semen","sex","sexo","sexual","sexy","sh!+","sh!t","sh1t","s-h-1-t","shag","shagger","shaggin","shagging","shamedame","shaved beaver","shaved pussy","shemale","shi+","shibari","shit","s-h-i-t","shitass","shitbag","shitbagger","shitblimp","shitbrains","shitbreath","shitcanned","shitcunt","shitdick","shite","shiteater","shited","shitey","shitface","shitfaced","shitfuck","shitfull","shithead","shithole","shithouse","shiting","shitings","shits","shitspitter","shitstain","shitt","shitted","shitter","shitters","shittiest","shitting","shittings","shitty","shiz","shiznit","shota","shrimping","sissy","skag","skank","skeet","skullfuck","slag","slanteye","slave","sleaze","sleazy","slut","slutbag","slutdumper","slutkiss","sluts","smeg","smegma","smut","smutty","snatch","sniper","snowballing","snuff","s-o-b","sodom","sodomize","sodomy","son-of-a-bitch","souse","soused","spac","sperm","spic","spick","spik","spiks","splooge","splooge moose","spooge","spook","spread legs","spunk","steamy","stfu","stiffy","stoned","strap on","strapon","strappado","strip","strip club","stroke","stupid","style doggy","suck","suckass","sucked","sucking","sucks","suicide girls","sultry women","sumofabiatch","swastika","swinger","t1t","t1tt1e5","t1tties","tainted love","tampon","tard","taste my","tawdry","tea bagging","teabagging","teat","teets","teez","terd","teste","testee","testes","testical","testicle","testis","threesome","throating","thrust","thug","thundercunt","tied up","tight white","tinkle","tit","titfuck","titi","tits","titt","tittie5","tittiefucker","titties","titty","tittyfuck","tittyfucker","tittywank","titwank","toke","tongue in a","toots","topless","tosser","towelhead","tramp","tranny","transsexual","trashy","tribadism","tub girl","tubgirl","turd","tush","tushy","tw4t","twat","twathead","twatlips","twats","twatty","twatwaffle","twink","twinkie","two girls one cup","twunt","twunter","ugly","unclefucker","undies","undressing","unwed","upskirt","urethra play","urinal","urine","urophilia","uterus","uzi","v14gra","v1gra","vag","vagina","vajayjay","va-j-j","valium","venus mound","viagra","vibrator","violet wand","virgin","vixen","vjayjay","vodka","vomit","vorarephilia","voyeur","vulgar","vulva","w00se","wad","wang","wank","wanker","wankjob","wanky","wazoo","wedgie","weed","weenie","weewee","weiner","weirdo","wench","wet dream","wetback","wh0re","wh0reface","white power","whitey","whiz","whoar","whoralicious","whore","whorealicious","whorebag","whored","whoreface","whorehopper","whorehouse","whores","whoring","wigger","willies","willy","womb","woody","wop","wrapping men","wrinkled starfish","wtf","xrated","x-rated","xx","xxx","yaoi","yeasty","yellow showers","yiffy","yobbo","zoophile","zoophilia","zubb"];const MIN_TIME_PRELOADER=3500;var s_bMobile,s_bMusicActive=!0,s_bSfxActive=!0,s_iCntTime=0,s_iTimeElaps=0,s_iPrevTime=0,s_iCntFps=0,s_iCurFps=0,s_bFullscreen=!1,s_oDrawLayer,s_oStage,s_oMain,s_oSpriteLibrary,s_oSoundtrack=null,s_oCanvas,s_bFirstGame=!0,s_aSounds,s_aSoundsInfo,s_oNetworkManager,s_bMultiplayer,s_bPlayWithBot,s_oGame,s_oLocalSavings,s_iCurLang=LANG_EN,s_szCurVers="1.00",INVITE_LINK="",s_iStartingLangCode,s_oGuiController;s_oTurnManager=null;s_oCAnimation=null;s_oMenu=null;s_oSelectPlayers=null;CGameBase.prototype._init=function(){var i,t,n;this._bUNO=!1;this._iPlayerReclamedUNO=null;this._bReclamedUNO=!1;this._bEndGame=!1;this._iCounterDraw=0;this._oTurnManager=new CTurnManager;this._oAnimation=new CAnimation;this._oBGContainer=new createjs.Container;s_oStage.addChild(this._oBGContainer);i=createBitmap(s_oSpriteLibrary.getSprite("bg_game"));this._oBGContainer.addChild(i);t=s_oSpriteLibrary.getSprite("card_frame");n=createBitmap(t);n.x=CANVAS_WIDTH/2;n.y=CANVAS_HEIGHT/2;n.regX=t.width/2;n.regY=t.height/2;this._oBGContainer.addChild(n);this._oDirArrows=new CDirectionArrows(this._oBGContainer);this._oDirArrows.setVisible(!1);this._oUnoController=new CUnoController;this._oInterface=new CInterface;this._oCardsContainer=new createjs.Container;this._oHandsContainer=new createjs.Container;this._oPanelContainer=new createjs.Container;this._oDecksContainer=new createjs.Container;this._oTopContainer=new createjs.Container;this._oCardsContainer.addChild(this._oDecksContainer);this._oCardsContainer.addChild(this._oHandsContainer);s_oStage.addChild(this._oCardsContainer);s_oStage.addChild(this._oPanelContainer);this._oSummaryPanel=new CSummaryPanel(this._oPanelContainer);this._oSummaryPanel.addEventListener(ON_CHECK,this._onCheck,this);s_oStage.addChild(this._oTopContainer);this._oMsgBox=new CMsgBox(this._oPanelContainer);this._oHelpPanel=new CPanelTutorial(this._oPanelContainer);this._oHelpPanel.addEventListener(ON_SKIP_HELP,this._onSkipHelp,this);this._oDeck=new CDeckDisplayer(CANVAS_WIDTH/2,CANVAS_HEIGHT/2,this._oDecksContainer,!0);this._oUsedCards=new CDeckDisplayer(CANVAS_WIDTH/2+CARD_WIDTH,CANVAS_HEIGHT/2,this._oDecksContainer,!1);this._oUsedCards.disableInputDraw();this._oContainerSelectColor=new createjs.Container;s_oStage.addChild(this._oContainerSelectColor);this._oAIManager=new CAIManager;this.changeState(GAME_STATE_DEALING);setMusicVolume("soundtrack",SOUNDTRACK_VOLUME_IN_GAME);s_oGuiController.hideBackButton();s_oGuiController.hideLangButton();s_oGuiController.showMainMenuBut();s_oGuiController.showHelpButton();s_oGuiController.addEventListener(CGUI.ON_GOTO_MAIN_MENU,this.onExit,this)};CGameBase.prototype.unload=function(){s_oGuiController.removeEventListener(CGUI.ON_GOTO_MAIN_MENU);s_oGuiController.removeEventListener(CGUI.ON_RESTART_GAME);this._oUnoController.unload();this._oInterface.unload();this._oSummaryPanel.unload();this._oMsgBox.unload();this._oHelpPanel.unload();this._oDirArrows.unload();createjs.Tween.removeAllTweens();s_oStage.removeAllChildren();s_oGame=null};CGameBase.prototype.refreshGUI=function(){if(this._aPlayersHand)for(var n=0;n<this._aPlayersHand.length;n++)this._aPlayersHand[n].refreshPos();s_bLandscape?this._oDirArrows.setLandscape():this._oDirArrows.setPortrait();this._oUnoController.refreshPos();this._oHelpPanel.refreshPos()};CGameBase.prototype._onSkipHelp=function(){this._oHelpPanel.hide();s_oGuiController.enableHelpButton(!0)};CGameBase.prototype.showHelp=function(){this._oHelpPanel.show();s_oGuiController.toggleSideBar();s_oGuiController.enableHelpButton(!1)};CGameBase.prototype._initHandPlayers=function(){var t=[],i,r,u,f,n;t[0]=TEXT_PLAYER_1;t[1]=TEXT_PLAYER_2;t[2]=TEXT_PLAYER_3;t[3]=TEXT_PLAYER_4;f=CANVAS_HEIGHT-HAND_OFFSET;switch(NUM_PLAYERS){case 2:r=[{x:CANVAS_WIDTH/2,y:f},{x:CANVAS_WIDTH/2,y:HAND_OFFSET}];i=[{dir_x:0,dir_y:-1},{dir_x:0,dir_y:1}];u=[BOTTOM,TOP];break;case 3:r=[{x:CANVAS_WIDTH/2,y:f},{x:0,y:CANVAS_HEIGHT/2},{x:CANVAS_WIDTH,y:CANVAS_HEIGHT/2}];i=[{dir_x:0,dir_y:-1},{dir_x:1,dir_y:0},{dir_x:-1,dir_y:0}];u=[BOTTOM,LEFT,RIGHT];break;case 4:r=[{x:CANVAS_WIDTH/2,y:f},{x:0,y:CANVAS_HEIGHT/2},{x:CANVAS_WIDTH/2,y:HAND_OFFSET},{x:CANVAS_WIDTH,y:CANVAS_HEIGHT/2}];i=[{dir_x:0,dir_y:-1},{dir_x:1,dir_y:0},{dir_x:0,dir_y:1},{dir_x:-1,dir_y:0}];u=[BOTTOM,LEFT,TOP,RIGHT]}for(this._aPlayersHand=[],n=0;n<NUM_PLAYERS;n++)this._aPlayersHand[n]=new CHandDisplayer(r[n],i[n],n,this._oHandsContainer,t[n],u[n]);this.setOffTurn()};CGameBase.prototype.reset=function(){this.changeState(GAME_STATE_DEALING);this._iCounterDraw=0;this._oTurnManager.setFirstPlayerToBegin();this._oTurnManager.resetClockWise();this._oDirArrows.setCW(!0);this._oDeck.clearCards();this._oUsedCards.clearCards();this._oUsedCards.disableInputDraw();for(var n=0;n<this._aPlayersHand.length;n++)this._aPlayersHand[n].clearCards(),this._aPlayersHand[n].refreshScore();this._oSummaryPanel.reset();this.setOffTurn()};CGameBase.prototype.getFirstHand=function(){var t=this._oDeck.takeLastCard(),n=this._oTurnManager.getTurn(),i=this._aPlayersHand[n].getContainerPos(),r=this._aPlayersHand[n].getPosNewCard(),u=this._oDeck.getGlobalPosition(),f;t.setOnTop();this._oCardsContainer.addChildAt(this._oDecksContainer,this._oCardsContainer.numChildren);this._oDeck.setOnTop();f=this._getCardRotation(n);t.moveCardFirstHand(i.x+r.x-u.x,i.y+r.y-u.y,f,250)};CGameBase.prototype.onCardDealed=function(n){var t=this._oTurnManager.getTurn(),r=this._getCardRotation(t),i;this._aPlayersHand[t].pushCard(new CCard(this._aPlayersHand[t].getPosNewCard().x,this._aPlayersHand[t].getPosNewCard().y,this._aPlayersHand[t].getContainer(),n.getFotogram(),n.getRank(),n.getSuit(),n.getUniqueID(),r));n.unload();i=this._aPlayersHand[t].getLastCard();this._aPlayersHand[t].organizeHand();this.canCardBeShown(t)&&i.showCard();this._oTurnManager.nextTurn();this.matchCanStart()?(this._oCardsContainer.addChildAt(this._oDecksContainer,this._oCardsContainer),this._oDeck.setOnTop(),n=this._oDeck.takeFirstLastCard(),n.moveFirstLastCard(CARD_WIDTH,0,600)):this.getFirstHand()};CGameBase.prototype.onFirstLastCardDealed=function(n){this._oUsedCards.pushCard(new CCard(0,0,this._oUsedCards.getContainer(),n.getFotogram(),n.getRank(),n.getSuit(),n.getUniqueID(),0));n.unload();var t=this._oUsedCards.getLastCard();t.showCardNoInput();this._oDeck.moveContainer(CANVAS_WIDTH/2-CARD_WIDTH/2,CANVAS_HEIGHT/2,400);this._oUsedCards.moveContainer(CANVAS_WIDTH/2+CARD_WIDTH/2,CANVAS_HEIGHT/2,400);this._iCurrentColor=this._oUsedCards.getLastCard().getSuit();this._oInterface.refreshColor(this._iCurrentColor);this._iCurPlayer=this._oTurnManager.getTurn();this._iNextPlayer=this._oTurnManager.getNextPlayer();this._aPlayersHand[this._iCurPlayer].setOnTurn();this._oUsedCards.disableInputUsedCards();this._onFirstTurnStart()};CGameBase.prototype._onFirstTurnStart=function(){this._oTurnManager.prevTurn();this._iCurPlayer=this._oTurnManager.getTurn();this._iNextPlayer=this._oTurnManager.getNextPlayer();this.setOffTurn();this.changeState(GAME_STATE_TURN_START);var n=this._oUsedCards.getLastCard();this._checkFirstCardEffect(n.getEffect())};CGameBase.prototype.cpuPlayCard=function(n){var t=this._iCurPlayer,i=this._aPlayersHand[t].getContainerPos(),r=this._oUsedCards.getGlobalPosition();this._oCardsContainer.addChildAt(this._oHandsContainer,this._oCardsContainer.numChildren);this._aPlayersHand[t].setOnTop();n.moveCard(r.x-i.x,r.y-i.y,0,400,1e3);this._oDeck.setChildDepth(2);this._oUsedCards.setChildDepth(2);n.showCard(1e3)};CGameBase.prototype._resetUnoStates=function(){if(this._bUNO&&this._iPlayerReclamedUNO===null){var n=TEXT_ALERT_3;this._oUnoController.showAlertMsg(n);this._oUnoController.unoAnimation()}this._bUNO=!1;this._iPlayerReclamedUNO=null;this._bReclamedUNO=!1};CGameBase.prototype.checkUno=function(n){var t=this._oTurnManager.getTurn();this._aPlayersHand[t].getLength()===1&&(this._bUNO=!0);this._oUnoController.check(n)};CGameBase.prototype.setUNO=function(n){this._bUNO=n};CGameBase.prototype.applyPenality=function(){this._bUNO=!1;this.drawCards(this._iCurPlayer,NUM_PENALTY_CARDS,0,DRAW_TYPE_PENALITY)};CGameBase.prototype._checkEffect=function(n){switch(n){case EFFECT_SELECT_COLOR:this._applySelectColor();break;case EFFECT_DRAW_THREE:this._applyDraw3Effect();break;case EFFECT_STOP:this._applyStopTurn();break;case EFFECT_INVERT_TURN:this._applyInvertTurn();break;case EFFECT_DRAW_TWO_COLORED:this._applyDrawTwoColored();break;default:this._applyNormalCardEffect()}};CGameBase.prototype._checkTurnInversion=function(){if(this._oTurnManager.changeClockWise(),NUM_PLAYERS===2)this._oTurnManager.nextTurn();else{var n=this._oTurnManager.getClockWise();this._oDirArrows.setCW(n)}};CGameBase.prototype._checkNumberCardsToDraw=function(n,t,i,r){this._iCounterDraw=t;switch(r){case DRAW_TYPE_PENALITY:this.drawCardsTween(n,t,i,r);break;case DRAW_TYPE_DRAW2_COLORED:s_oCAnimation.drawTwoAnim(n,t,i,r);break;case DRAW_TYPE_DRAW3:s_oCAnimation.draw3Anim(n,t,i,r);break;default:this.drawCardsTween(n,t,i,r)}};CGameBase.prototype.drawCardsTween=function(n,t,i,r){this._oCardsContainer.addChildAt(this._oDecksContainer,this._oCardsContainer.numChildren);this._oDeck.setOnTop();this._aPlayersHand[n].organizeHand();var e=this._aPlayersHand[n].getContainerPos(),o=this._aPlayersHand[n].getPosNewCard(),s=this._oDeck.getGlobalPosition(),u=this,f=this._oDeck.takeLastCard();f.setOnTop();var c=e.x+o.x-s.x,l=e.y+o.y-s.y,h=this._getCardRotation(n);createjs.Tween.get(f.getSprite()).wait(i).to({x:c,y:l,rotation:h},400,createjs.Ease.cubicOut).call(function(){u._aPlayersHand[n].pushCard(new CCard(u._aPlayersHand[n].getPosNewCard().x,u._aPlayersHand[n].getPosNewCard().y,u._aPlayersHand[n].getContainer(),f.getFotogram(),f.getRank(),f.getSuit(),f.getUniqueID(),h));f.unload();var e=u._aPlayersHand[n].getLastCard();u.canCardBeShown(n)?e.showCard():s_aSounds.card.playing()||playSfxSound("card",1,!1);u._aPlayersHand[n].organizeHand();u.checkForMoreDraws(n,t,i,r)})};CGameBase.prototype.checkForMoreDraws=function(n,t,i,r){this._oDeck.getLength()===0?this.shuffleCards(n,t,i,r):(this._iCounterDraw--,this._iCounterDraw>0?this.drawCardsTween(n,t,i,r):this._onAllCardsDrawCompleted(n,r))};CGameBase.prototype._checkEffectAfterDrawCompleted=function(n,t){switch(t){case DRAW_TYPE_PENALITY:this.applyEffectOnCard(this._oUsedCards.getLastCard().getEffect());break;case DRAW_TYPE_DRAW2_COLORED:this._oTurnManager.nextTurn();this._notifyChangeTurn();break;case DRAW_TYPE_DRAW3:this._oTurnManager.nextTurn();this._notifyChangeTurn();break;default:this._checkIfCanStillPlayTheTurn(n)}};CGameBase.prototype.onInputPlayer=function(n){for(var t=0;t<this._aPlayersHand[n].getLength();t++)this._aPlayersHand[n].getCardByIndex(t).onSetTurned()};CGameBase.prototype.offInputPlayer=function(n){for(var t=0;t<this._aPlayersHand[n].getLength();t++)this._aPlayersHand[n].getCardByIndex(t).offSetTurned()};CGameBase.prototype.setOffTurn=function(){for(var n=0;n<NUM_PLAYERS;n++)this._aPlayersHand[n].setOffTurn(n),this.offInputPlayer(n)};CGameBase.prototype.prevTurn=function(){this._oTurnManager.prevTurn()};CGameBase.prototype.getPlayerTurn=function(){return this._iCurPlayer};CGameBase.prototype.getbUNO=function(){return this._bUNO};CGameBase.prototype.someoneDeclaredUNO=function(){return this._iPlayerReclamedUNO!==null};CGameBase.prototype.isAnyCardPlayableExceptDrawFour=function(n){for(var t,r=!1,i=0;i<this._aPlayersHand[n].getLength();i++)if(t=this._aPlayersHand[n].getCardByIndex(i),t.getFotogram()!==FOTOGRAM_DRAW_FOUR&&(t.getRank()===this._oUsedCards.getLastCard().getRank()||t.getSuit()===this._iCurrentColor||t.getFotogram()===FOTOGRAM_COLOR)){r=!0;break}return r};CGameBase.prototype.cardMatchTheWaste=function(n,t){var i=!1;if(this._oUsedCards.getLength()===0)return i;var r=n.getRank()===this._oUsedCards.getLastCard().getRank(),u=n.getSuit()===this._iCurrentColor,f=n.getFotogram()===FOTOGRAM_COLOR,e=n.getFotogram()===FOTOGRAM_DRAW_FOUR,o=!this.isAnyCardPlayableExceptDrawFour(t),s=e&&o;return(r||u||f||s)&&(i=!0),i};CGameBase.prototype.playerCanPlay=function(n){for(var r,i=!1,t=0;t<this._aPlayersHand[n].getLength();t++)if(r=this._aPlayersHand[n].getCardByIndex(t),this.cardMatchTheWaste(r,n)){i=!0;break}return i};CGameBase.prototype._getCardRotation=function(n){var t=0,i=this._aPlayersHand[n].getSide();switch(i){case BOTTOM:t=0;break;case LEFT:t=90;break;case TOP:t=180;break;case RIGHT:t=-90}return t};CGameBase.prototype.shuffle=function(n){for(var i,r,t=n.length;t;t--)i=Math.floor(Math.random()*t),r=n[t-1],n[t-1]=n[i],n[i]=r};CGameBase.prototype.gameOver=function(n){var t,r,i,u;this.changeState(GAME_STATE_END);this.setOffTurn();t=this._calculateMatchScore();this._showAllPlayersCards();this._showAllPlayersMatchScore(t);r=this._aPlayersHand[n].getScore();i=r+t;this._aPlayersHand[n].setOnTurn();this._aPlayersHand[n].setScore(i);u=this._getPlayersRank();this._oSummaryPanel.setAndShow(u,n,t);i>=GAME_SCORE_WIN&&(this._bEndGame=!0,this._oSummaryPanel.endMode(sprintf(TEXT_PLAYER_WON,this._aPlayersHand[n].getName())),document.dispatchEvent(new CustomEvent("share_event",{detail:{winner:i}})),miniplaySend2API("play",1),miniplaySend2API("score",this._aPlayersHand[0].getScore()),n===0&&(miniplaySend2API("win",1),s_bMultiplayer?miniplaySend2API("win_vs_multiplayer_"+this._aPlayersHand.length+"p",1):miniplaySend2API("win_vs_computer_"+this._aPlayersHand.length+"p",1)))};CGameBase.prototype.checkWinner=function(){for(var t=null,n=0;n<this._aPlayersHand.length;n++)if(this._aPlayersHand[n].getLength()===0){t=n;break}return t};CGameBase.prototype._calculateMatchScore=function(){for(var t=0,n=0;n<this._aPlayersHand.length;n++)t+=this._aPlayersHand[n].calculateHandScore();return t};CGameBase.prototype._showAllPlayersCards=function(){for(var n=0;n<this._aPlayersHand.length;n++)this._aPlayersHand[n].getSide()!==BOTTOM&&this._aPlayersHand[n].showAllCards()};CGameBase.prototype._showAllPlayersMatchScore=function(n){for(var i,t=0;t<this._aPlayersHand.length;t++)i=this._aPlayersHand[t].calculateHandScore(),this._aPlayersHand[t].getLength()>0?this._aPlayersHand[t].showHandScore(sprintf(TEXT_PTS_TO_WINNER,i),!1):this._aPlayersHand[t].showHandScore(sprintf(TEXT_WINNER,n),!0)};CGameBase.prototype._getPlayersRank=function(){for(var i,r,t=[],n=0;n<this._aPlayersHand.length;n++)i=this._aPlayersHand[n].getName(),r=this._aPlayersHand[n].getScore(),t.push({name:i,score:r,index:n});return t.sort((n,t)=>n.score>t.score?-1:1),t};CGameBase.prototype.matchCanStart=function(){for(var t=!1,i=0,n=0;n<this._aPlayersHand.length;n++)this._aPlayersHand[n].getLength()===STARTING_NUM_CARDS&&i++;return i===NUM_PLAYERS&&(t=!0),t};CGameBase.prototype._checkUnoNotify=function(n,t,i){var u,r,f;n&&(u=i===t,u?(this._iPlayerReclamedUNO!==null&&(r=sprintf(TEXT_ALERT_1,this._aPlayersHand[this._iPlayerReclamedUNO].getName().toUpperCase(),NUM_PENALTY_CARDS),this._aPlayersHand[this._iPlayerReclamedUNO].showUnoComic()),this._oUnoController.unoAnimation()):(f=this._aPlayersHand[i].getName().toUpperCase(),r=sprintf(TEXT_ALERT_2,f,NUM_PENALTY_CARDS)),this._oUnoController.showAlertMsg(r))};CGameBase.prototype.checkUNOPlayer=function(){for(var t=null,n=0;n<this._aPlayersHand.length;n++)if(this._aPlayersHand[n].getLength()===1){t=n;break}return t};CGameBase.prototype.canCardBeShown=function(n){return this._aPlayersHand[n].getSide()===BOTTOM||DEBUG_SHOW_CARDS};CGameBase.prototype.getPlayersHand=function(n){return this._aPlayersHand[n]};CGameBase.prototype.getRandomPlayableCard=function(n){for(var r,f,u=this._aPlayersHand[n].getAllCards(),t=[],i=0;i<u.length;i++)r=u[i],this.cardMatchTheWaste(r,n)&&t.push(r);return f=Math.floor(Math.random()*t.length),t[f]};CGameBase.prototype.getCurColor=function(){return this._iCurrentColor};CGameBase.prototype.getLastCard=function(){return this._oUsedCards.getLastCard()};CGameBase.prototype.getGameState=function(){return this._iGameState};CGameBase.prototype.changeState=function(n){this._iGameState!==n&&(this._iGameState=n)};CGameBase.prototype.onExit=function(){s_oGame.unload();s_oMain.gotoMenu();document.dispatchEvent(new CustomEvent("end_session"));document.dispatchEvent(new CustomEvent("show_interlevel_ad"))};CGameBase.prototype.update=function(){};CGameBase.prototype._onCheck=function(){this._oSummaryPanel.hide()};CGameSingle.prototype=Object.create(CGameBase.prototype);CGameSingle.prototype.constructor=CGameSingle;CGameSingle.prototype._startGame=function(){s_bFirstGame=!1;this._oUnoController.setVisible(!0);this._oUnoController.addEventListener(ON_APPLY_EFFECT,this.applyEffectOnCard,this);this._oUnoController.addEventListener(ON_APPLY_PENALITY,this.applyPenality,this);this._oUnoController.addEventListener(ON_UNO_CLICK,this._onUnoClick,this);this._oSummaryPanel.addEventListener(ON_NEXT,this._onConfirmNextMatch,this);this._oSummaryPanel.addEventListener(ON_HOME,this.onExit,this);this._oMsgBox.addEventListener(ON_HOME,this.onExit,this);this._initHandPlayers();this._setPieces();NUM_PLAYERS>2&&this._oDirArrows.setVisible(!0);this.refreshGUI()};CGameSingle.prototype._setPieces=function(){this._oDeck.initializeDeck();this._oDeck.shuffle();this.getFirstHand()};CGameSingle.prototype._onSkipHelp=function(){this._oSuper._onSkipHelp.call(this);s_bFirstGame===!0&&this._startGame()};CGameSingle.prototype.setNewGame=function(){for(var n=0;n<this._aPlayersHand.length;n++)this._aPlayersHand[n].setScore(0);this._oTurnManager.resetFirstPlayer()};CGameSingle.prototype.restart=function(){this.reset();this._setPieces()};CGameSingle.prototype._checkFirstCardEffect=function(n){switch(n){case EFFECT_SELECT_COLOR:this._oTurnManager.nextTurn();this._iCurPlayer=this._oTurnManager.getTurn();this._iNextPlayer=this._oTurnManager.getNextPlayer();this._applySelectColor();this._oTurnManager.prevTurn();break;case EFFECT_DRAW_THREE:this._oTurnManager.nextTurn();this._iCurPlayer=this._oTurnManager.getTurn();this._iNextPlayer=this._oTurnManager.getNextPlayer();this._iCurPlayer=this._oTurnManager.getTurn();this._iNextPlayer=this._iCurPlayer;this._applyDraw3Effect();this._oTurnManager.prevTurn();break;case EFFECT_STOP:this._applyStopTurn();break;case EFFECT_INVERT_TURN:NUM_PLAYERS!==2&&this._oTurnManager.nextTurn();this._applyInvertTurn();break;case EFFECT_DRAW_TWO_COLORED:this._applyDrawTwoColored();break;default:if(this._oTurnManager.nextTurn(),this._iCurPlayer=this._oTurnManager.getTurn(),this._iNextPlayer=this._oTurnManager.getNextPlayer(),this._iCurPlayer===0){this.onInputPlayer(this._iCurPlayer);this.playerCanPlay(this._iCurPlayer)||this._oDeck.setHelp();this._oDeck.enableInputDraw()}else this._oAIManager.selectACard(this._iCurPlayer);this._aPlayersHand[this._iCurPlayer].setOnTurn()}};CGameSingle.prototype.onDraw=function(){var u=this._oTurnManager.getTurn(),i=!0,r,n=0,t;if(this._oUsedCards.getLength()!==0&&this._iCurPlayer===n){for(t=0;t<this._aPlayersHand[n].getLength();t++)r=this._aPlayersHand[n].getCardByIndex(t),this.cardMatchTheWaste(r,u)&&(i=!1);i===!0&&(this._oDeck.disableInputDraw(),this._oDeck.hideHelp(),this.changeState(GAME_STATE_DRAW),this.drawCards(n,1,0,DRAW_TYPE_NORMAL))}};CGameSingle.prototype.onNextTurn=function(){var t,n;if(this._resetUnoStates(),t=this.checkWinner(),t!==null)this.gameOver(t),t===0&&document.dispatchEvent(new CustomEvent("save_score",{detail:{score:this._calculateMatchScore()}}));else if(this.changeState(GAME_STATE_TURN_START),this.setOffTurn(),this._oDeck.enableInputDraw(),this._oTurnManager.nextTurn(),n=this._oTurnManager.getTurn(),this._iCurPlayer=n,this._iNextPlayer=this._oTurnManager.getNextPlayer(),this._aPlayersHand[n].setOnTurn(),n===0){this.onInputPlayer(n);if(!this.playerCanPlay(n))this.onDraw(!1)}else this._oAIManager.selectACard(n)};CGameSingle.prototype.playCard=function(n){var t=this._oTurnManager.getTurn(),u=!1,f=0,i,r;t===f&&(u=this.cardMatchTheWaste(n,t));u&&(this._oCardsContainer.addChildAt(this._oHandsContainer,this._oCardsContainer.numChildren),this._aPlayersHand[t].setOnTop(),this._oDeck.disableInputDraw(),this.offInputPlayer(f),i=this._aPlayersHand[t].getContainerPos(),r=this._oUsedCards.getGlobalPosition(),s_aSounds.card.playing()||playSfxSound("card",1,!1),n.moveCard(r.x-i.x,r.y-i.y,0,300),this._oUsedCards.setChildDepth(2))};CGameSingle.prototype.playedCard=function(n){var t=this._oTurnManager.getTurn(),i=this._aPlayersHand[t].searchIndexCard(n);this._oUsedCards.pushCard(new CCard(0,0,this._oUsedCards.getContainer(),n.getFotogram(),n.getRank(),n.getSuit(),n.getUniqueID(),0));this._oUsedCards.disableInputUsedCards();this._oUsedCards.getLastCard().instantShow();this._aPlayersHand[t].removeCardByIndex(i);n.unload();this._oUsedCards.getLastCard().getSuit()!==4&&(this._iCurrentColor=this._oUsedCards.getLastCard().getSuit(),this._oInterface.refreshColor(this._iCurrentColor));this._aPlayersHand[t].organizeHand(i);this.checkUno(n.getEffect());t!==0&&this._onUnoClick()};CGameSingle.prototype._onUnoClick=function(){this._bUNO===!0&&(this._bUNO=!1,this._aPlayersHand[this._iCurPlayer].checkUno())};CGameSingle.prototype._checkUnoNotify=function(n,t,i){var u,r,f;n&&(this._iPlayerReclamedUNO=Math.floor(1+Math.random()*(this._aPlayersHand.length-1)),u=i===t,u?(this._iPlayerReclamedUNO!==null&&(r=sprintf(TEXT_ALERT_1,this._aPlayersHand[this._iPlayerReclamedUNO].getName().toUpperCase(),NUM_PENALTY_CARDS),this._aPlayersHand[this._iPlayerReclamedUNO].showUnoComic()),this._oUnoController.unoAnimation()):(f=this._aPlayersHand[i].getName().toUpperCase(),r=sprintf(TEXT_ALERT_2,f,NUM_PENALTY_CARDS)),this._oUnoController.showAlertMsg(r))};CGameSingle.prototype.someoneDeclaredUNO=function(){return!0};CGameSingle.prototype.applyEffectOnCard=function(n){this._checkEffect(n)};CGameSingle.prototype._applySelectColor=function(){var n,t,i;this._iCurPlayer===0?(this.changeState(GAME_STATE_CHOOSE_COLOR),n=new CSelectColorPanel(EFFECT_SELECT_COLOR,this._oContainerSelectColor),n.addEventListener(ON_COLOR_SELECTED,function(n){var t={colorindex:n};this._onActionSelectColor(t)},this)):(t=this._oAIManager.onSelectColorCpu(this._iCurPlayer),i={colorindex:t},this._onActionSelectColor(i))};CGameSingle.prototype._applyDraw3Effect=function(){var n,t,i;this._iCurPlayer===0?(this.changeState(GAME_STATE_CHOOSE_COLOR),n=new CSelectColorPanel(EFFECT_DRAW_THREE,this._oContainerSelectColor),n.addEventListener(ON_COLOR_SELECTED,function(n){var t={playerindex:this._iNextPlayer,colorindex:n};this._onActionDraw3(t)},this)):(t=this._oAIManager.onSelectColorCpu(this._iCurPlayer),i={playerindex:this._iNextPlayer,colorindex:t},this._onActionDraw3(i))};CGameSingle.prototype._applyStopTurn=function(){this._oAnimation.stopTurn().then(()=>{this._oTurnManager.nextTurn(),this._notifyChangeTurn()})};CGameSingle.prototype._applyInvertTurn=function(){this._checkTurnInversion();this._oAnimation.changeClockWise(s_oGame._oTurnManager.getClockWise()).then(()=>{this._notifyChangeTurn()})};CGameSingle.prototype._applyDrawTwoColored=function(){var n=DRAW_TYPE_DRAW2_COLORED,t=this._iNextPlayer;this.drawCards(t,2,0,n)};CGameSingle.prototype._applyNormalCardEffect=function(){this._notifyChangeTurn()};CGameSingle.prototype.drawCards=function(n,t,i,r){var u=r===DRAW_TYPE_PENALITY?!0:!1;this._checkUnoNotify(u,0,n);this._checkNumberCardsToDraw(n,t,i,r)};CGameSingle.prototype._notifyChangeTurn=function(){s_oGame.onNextTurn()};CGameSingle.prototype.shuffleCards=function(n,t,i,r){for(var e=this._oUsedCards.removeAllCardUnderTheDeck(),u=[],f=0;f<e.length;f++)u.push(e[f].getFotogram());this._oAnimation.shuffleAnimation().then(()=>{shuffle(u),this._oDeck.clearCards(),this._oDeck.initializeFromData(u),this.checkForMoreDraws(n,t,i,r)})};CGameSingle.prototype._onAllCardsDrawCompleted=function(n,t){this._checkEffectAfterDrawCompleted(n,t)};CGameSingle.prototype._checkIfCanStillPlayTheTurn=function(n){if(this.playerCanPlay(n)){this.onInputPlayer(n);this._iCurPlayer!==0&&this._oAIManager.selectACard(this._iCurPlayer)}else this._aPlayersHand[n].centerContainer(),this._notifyChangeTurn()};CGameSingle.prototype._onActionDraw3=function(n){this._iCurrentColor=n.colorindex;this._oInterface.refreshColor(this._iCurrentColor);var t=DRAW_TYPE_DRAW3,i=NUM_WILD_CARDS,r=n.playerindex;this.drawCards(r,i,0,t)};CGameSingle.prototype._onActionSelectColor=function(n){this._iCurrentColor=n.colorindex;this._oAnimation.changeColor(this._iCurrentColor).then(()=>{this._oInterface.refreshColor(this._iCurrentColor),this._notifyChangeTurn()})};CGameSingle.prototype._onConfirmNextMatch=function(){document.dispatchEvent(new CustomEvent("show_interlevel_ad"));this._bEndGame&&(this._bEndGame=!1,this.setNewGame());this.restart()};CGameSingleWithBot.prototype=Object.create(CGameSingle.prototype);CGameSingleWithBot.prototype.constructor=CGameSingleWithBot;CGameSingleWithBot.prototype._startGame=function(){this._oUnoController.setVisible(!0);this._oUnoController.addEventListener(ON_APPLY_EFFECT,this.applyEffectOnCard,this);this._oUnoController.addEventListener(ON_APPLY_PENALITY,this.applyPenality,this);this._oUnoController.addEventListener(ON_UNO_CLICK,this._onUnoClick,this);this._oSummaryPanel.addEventListener(ON_NEXT,this._onConfirmNextMatch,this);this._oSummaryPanel.addEventListener(ON_HOME,this.onExit,this);this._oMsgBox.addEventListener(ON_HOME,this.onExit,this);this._oMoveTimeController=new CMoveTimeController(0,CANVAS_HEIGHT,this._oTopContainer,TIME_PER_MOVE);this._oMoveTimeController.addEventListener(ON_TIMER_END,this._onTimerEnd,this);this._oMoveTimeController.addEventListener(ON_LAST_TIMER_END,this._onLastTimerEnd,this);this._oMoveTimeController.setAlwaysShown();this._oMoveTimeController.showAttempt(!0);this._initHandPlayers();this._setPieces();this._aPlayersHand[0].changeName(s_oNetworkManager.getPlayerNickname());this._aPlayersHand[1].changeName(s_oNetworkManager.getBotName());this.refreshButtonPos()};CGameSingleWithBot.prototype.refreshButtonPos=function(){this._oInterface.refreshButtonPos();var n=10,t=TIME_CONTROLLER_RADIUS+s_iOffsetX+n,i=CANVAS_HEIGHT-TIME_CONTROLLER_RADIUS-s_iOffsetY-n;this._oMoveTimeController.setPos(t,i)};CGameSingleWithBot.prototype._checkFirstCardEffect=function(n){switch(n){case EFFECT_SELECT_COLOR:this._oTurnManager.nextTurn();this._iCurPlayer=this._oTurnManager.getTurn();this._iNextPlayer=this._oTurnManager.getNextPlayer();this._applySelectColor();this._oTurnManager.prevTurn();break;case EFFECT_DRAW_THREE:this._oTurnManager.nextTurn();this._iCurPlayer=this._oTurnManager.getTurn();this._iNextPlayer=this._oTurnManager.getNextPlayer();this._iCurPlayer=this._oTurnManager.getTurn();this._iNextPlayer=this._iCurPlayer;this._applyDraw3Effect();this._oTurnManager.prevTurn();break;case EFFECT_STOP:this._applyStopTurn();break;case EFFECT_INVERT_TURN:NUM_PLAYERS!==2&&this._oTurnManager.nextTurn();this._applyInvertTurn();break;case EFFECT_DRAW_TWO_COLORED:this._applyDrawTwoColored();break;default:if(this._oTurnManager.nextTurn(),this._iCurPlayer=this._oTurnManager.getTurn(),this._iNextPlayer=this._oTurnManager.getNextPlayer(),this._iCurPlayer===0){this.onInputPlayer(this._iCurPlayer);this.playerCanPlay(this._iCurPlayer)||this._oDeck.setHelp();this._oDeck.enableInputDraw()}else this._oAIManager.selectACard(this._iCurPlayer);this._aPlayersHand[this._iCurPlayer].setOnTurn();this.startTimer()}};CGameSingleWithBot.prototype.onDraw=function(n){var f=this._oTurnManager.getTurn(),r=!0,u,t=0,i;if(this._oUsedCards.getLength()!==0&&this._iCurPlayer===t){for(i=0;i<this._aPlayersHand[t].getLength();i++)u=this._aPlayersHand[t].getCardByIndex(i),this.cardMatchTheWaste(u,f)&&(r=!1);r===!0&&(n&&this._onHumanInteraction(),this._oDeck.disableInputDraw(),this._oDeck.hideHelp(),this.changeState(GAME_STATE_DRAW),this.drawCards(t,1,0,DRAW_TYPE_NORMAL))}};CGameSingleWithBot.prototype.onNextTurn=function(){var t,n;if(this._bUNO=!1,t=this.checkWinner(),t!==null)this.gameOver(t),t===0&&document.dispatchEvent(new CustomEvent("save_score",{detail:{score:this._calculateMatchScore()}}));else if(this.changeState(GAME_STATE_TURN_START),this.setOffTurn(),this._oDeck.enableInputDraw(),this._oTurnManager.nextTurn(),n=this._oTurnManager.getTurn(),this._iCurPlayer=n,this._iNextPlayer=this._oTurnManager.getNextPlayer(),this._aPlayersHand[n].setOnTurn(),n===0){this.onInputPlayer(n);if(this.playerCanPlay(n))this.startTimer();else this.onDraw(!1)}else this._oAIManager.selectACard(n)};CGameSingleWithBot.prototype.playCard=function(n,t){var i=this._oTurnManager.getTurn(),f=!1,e=0,r,u;i===e&&(f=this.cardMatchTheWaste(n,i));f&&(t&&this._onHumanInteraction(),this._oCardsContainer.addChildAt(this._oHandsContainer,this._oCardsContainer.numChildren),this._aPlayersHand[i].setOnTop(),this._oDeck.disableInputDraw(),this.offInputPlayer(e),r=this._aPlayersHand[i].getContainerPos(),u=this._oUsedCards.getGlobalPosition(),s_aSounds.card.playing()||playSfxSound("card",1,!1),n.moveCard(u.x-r.x,u.y-r.y,0,300),n.showCard(),this._oUsedCards.setChildDepth(2))};CGameSingleWithBot.prototype._applySelectColor=function(){if(this.changeState(GAME_STATE_CHOOSE_COLOR),this._iCurPlayer===0)this.startTimer(),this._oSelectColorPanel=new CSelectColorPanel(EFFECT_SELECT_COLOR,this._oContainerSelectColor),this._oSelectColorPanel.addEventListener(ON_HUMAN_INTERACTION,this._onHumanInteraction,this),this._oSelectColorPanel.addEventListener(ON_COLOR_SELECTED,function(n){var t={colorindex:n};this._onActionSelectColor(t)},this);else{var n=this._oAIManager.onSelectColorCpu(this._iCurPlayer),t={colorindex:n};this._onActionSelectColor(t)}};CGameSingleWithBot.prototype._applyDraw3Effect=function(){if(this.changeState(GAME_STATE_CHOOSE_COLOR),this._iCurPlayer===0)this.startTimer(),this._oSelectColorPanel=new CSelectColorPanel(EFFECT_DRAW_THREE,this._oContainerSelectColor),this._oSelectColorPanel.addEventListener(ON_HUMAN_INTERACTION,this._onHumanInteraction,this),this._oSelectColorPanel.addEventListener(ON_COLOR_SELECTED,function(n){var t={playerindex:this._iNextPlayer,colorindex:n};this._onActionDraw3(t)},this);else{var n=this._oAIManager.onSelectColorCpu(this._iCurPlayer),t={playerindex:this._iNextPlayer,colorindex:n};this._onActionDraw3(t)}};CGameSingleWithBot.prototype._checkIfCanStillPlayTheTurn=function(n){if(this.playerCanPlay(n)){this.startTimer();this.changeState(GAME_STATE_DRAW);this.onInputPlayer(n);this._iCurPlayer!==0&&this._oAIManager.selectACard(this._iCurPlayer)}else this.stopTimer(),this._aPlayersHand[n].centerContainer(),this._notifyChangeTurn()};CGameSingleWithBot.prototype._onConfirmNextMatch=function(){document.dispatchEvent(new CustomEvent("show_interlevel_ad"));s_oGame._oSummaryPanel.waitingMode();var n=randomFloatBetween(200,2e3);setTimeout(function(){s_oGame._bEndGame?Math.random()>.4?s_oGame.onOpponentAcceptNextMatch():s_oGame.opponentLeftTheGame():s_oGame.onOpponentAcceptNextMatch()},n)};CGameSingleWithBot.prototype.onOpponentAcceptNextMatch=function(){this._bEndGame&&(this._bEndGame=!1,this.setNewGame());this.restart()};CGameSingleWithBot.prototype.opponentLeftTheGame=function(){var n=s_oNetworkManager.getBotName();this._oSummaryPanel.isShown()?this._oSummaryPanel.playerQuitMode(sprintf(TEXT_QUIT_FROM_GAME,n)):this._oMsgBox.isShown()||(this._oSummaryPanel.hide(),this._oMsgBox.show(sprintf(TEXT_QUIT_FROM_GAME,n)))};CGameSingleWithBot.prototype.onExit=function(){s_oGame._oMoveTimeController.unload();s_oGame.unload();s_oMain.gotoMenu();document.dispatchEvent(new CustomEvent("end_session"));document.dispatchEvent(new CustomEvent("show_interlevel_ad"))};CGameSingleWithBot.prototype.startTimer=function(){this._iCurPlayer===0&&this._oMoveTimeController.startTimer()};CGameSingleWithBot.prototype.stopTimer=function(){this._oMoveTimeController.stopTimer()};CGameSingleWithBot.prototype._onTimerEnd=function(){var n,t,i;switch(this._iGameState){case GAME_STATE_TURN_START:if(this.changeState(GAME_STATE_ACTION_IN_PROGRESS),this._oDeck.disableInputDraw(),this._oDeck.hideHelp(),n=this.playerCanPlay(this._iCurPlayer),n)t=this.getRandomPlayableCard(this._iCurPlayer),this.playCard(t,!1);else this.onDraw(!1);break;case GAME_STATE_DRAW:n=this.playerCanPlay(this._iCurPlayer);n?(t=this.getRandomPlayableCard(this._iCurPlayer),this.playCard(t,!1)):this._notifyChangeTurn();break;case GAME_STATE_CHOOSE_COLOR:i=this._oAIManager.onSelectColorCpu(this._iCurPlayer);this._oSelectColorPanel.setColor(i)}};CGameSingleWithBot.prototype._onLastTimerEnd=function(){this.changeState(GAME_STATE_END);this._oSummaryPanel.hide();this._oMsgBox.show(TEXT_PLAYER_KICKED)};CGameSingleWithBot.prototype._onHumanInteraction=function(){this._oMoveTimeController.restartEndGameCounter()};CGameMulti.prototype=Object.create(CGameBase.prototype);CGameMulti.prototype.constructor=CGameMulti;CGameMulti.prototype._startGame=function(){this._bActionInProgress=!0;this._aMessageQueue=[];this._aDisconnectedPlayer=[];this._oUnoController.addEventListener(ON_APPLY_EFFECT,this.applyEffectOnCard,this);this._oUnoController.addEventListener(ON_APPLY_PENALITY,this.applyPenality,this);this._oUnoController.addEventListener(ON_UNO_CLICK,this._onUnoClick,this);this._oEmoticonController=new CEmoticonController(0,0,!0,!1,this._oHandsContainer);this._oEmoticonController.addEventListener(ON_SELECT_EMOTICON,this._onEmoticonSelected,this);this._oSummaryPanel.addEventListener(ON_NEXT,this._onConfirmNextMatch,this);this._oSummaryPanel.addEventListener(ON_HOME,this.onExit,this);this._oSummaryPanel.setLeaderboardY(30);this._oMsgBox.addEventListener(ON_HOME,this.onExit,this);this._oMoveTimeController=new CMoveTimeController(0,CANVAS_HEIGHT,this._oTopContainer,TIME_PER_MOVE);this._oMoveTimeController.addEventListener(ON_TIMER_END,this._onTimerEnd,this);this._oMoveTimeController.addEventListener(ON_LAST_TIMER_END,this._onLastTimerEnd,this);this._oMoveTimeController.setAlwaysShown();this._oMoveTimeController.showAttempt(!0);this._initHandPlayers();NUM_PLAYERS>2&&this._oDirArrows.setVisible(!0);s_oNetworkManager.addEventListener(ON_STATUS_OFFLINE,this._onConnectionCrashed,this);s_oNetworkManager.sendMsg(MSG_REQUEST_CARDS,"");this.refreshGUI()};CGameMulti.prototype.unload=function(){this._oSuper.unload.call(this);clearTimeout(this._iPlayCardTimeOut);this._oMoveTimeController.unload()};CGameMulti.prototype.refreshGUI=function(){var i,n;this._oSuper.refreshGUI.call(this);var t=10,r=TIME_CONTROLLER_RADIUS+s_iOffsetX+t,u=CANVAS_HEIGHT-TIME_CONTROLLER_RADIUS-s_iOffsetY-t;this._oMoveTimeController.setPos(r,u);i=s_oNetworkManager.getPlayerOrderID();n=this._aPlayersHand[i].getContainerPos();n.x+=-150;n.y+=-240;this._oEmoticonController.refreshPos(n)};CGameMulti.prototype._onEmoticonSelected=function(n){this._oEmoticonController.closePanel();s_oNetworkManager.sendMsg(MSG_SEND_EMOTICON,n,s_oNetworkManager.getPlayerOrderID())};CGameMulti.prototype.onEmoticonReceived=function(n,t){this._oEmoticonController.isMuted()||this._aPlayersHand[t].showEmoticon(n)};CGameMulti.prototype.setNewGame=function(){for(var n=0;n<this._aPlayersHand.length;n++)this._aPlayersHand[n].setScore(0);this._oTurnManager.resetFirstPlayer()};CGameMulti.prototype.restart=function(){this.reset();s_oNetworkManager.sendMsg(MSG_REQUEST_CARDS,"")};CGameMulti.prototype._initHandPlayers=function(){var f,e,t,n;this._oSuper._initHandPlayers.call(this);var i=[],r=[],u=[];for(n=0;n<this._aPlayersHand.length;n++)f=this._aPlayersHand[n],i.push(f.getDirMove()),r.push(f.getStartPos()),u.push(f.getSide());for(e=s_oNetworkManager.getPlayerOrderID(),n=0;n<e;n++)t=r.pop(),r.splice(0,0,t),t=i.pop(),i.splice(0,0,t),t=u.pop(),u.splice(0,0,t);for(n=0;n<NUM_PLAYERS;n++)this._aPlayersHand[n].refreshData(i[n],r[n],u[n]),this._aPlayersHand[n].refreshPos(),this._aPlayersHand[n].changeName(s_oNetworkManager.getNicknameByID(n))};CGameMulti.prototype._onCardsReceived=function(n){this._oUnoController.setVisible(!0);this._oDeck.initializeFromData(n);this.getFirstHand()};CGameMulti.prototype._checkFirstCardEffect=function(n){switch(n){case EFFECT_SELECT_COLOR:this.onActionStop();this._oTurnManager.nextTurn();this._iCurPlayer=this._oTurnManager.getTurn();this._iNextPlayer=this._oTurnManager.getNextPlayer();this._aPlayersHand[this._iCurPlayer].setOnTurn();this._applySelectColor();this._oTurnManager.prevTurn();break;case EFFECT_DRAW_THREE:this.onActionStop();this._oTurnManager.nextTurn();this._iCurPlayer=this._oTurnManager.getTurn();this._iNextPlayer=this._oTurnManager.getNextPlayer();this._aPlayersHand[this._iCurPlayer].setOnTurn();this._iCurPlayer=this._oTurnManager.getTurn();this._iNextPlayer=this._iCurPlayer;this._applyDraw3Effect();this._oTurnManager.prevTurn();break;case EFFECT_STOP:this.onActionStop();this._applyStopTurn();break;case EFFECT_INVERT_TURN:this.onActionStop();NUM_PLAYERS!==2&&this._oTurnManager.nextTurn();this._applyInvertTurn();break;case EFFECT_DRAW_TWO_COLORED:this.onActionStop();this._applyDrawTwoColored();break;default:if(this._oTurnManager.nextTurn(),this._iCurPlayer=this._oTurnManager.getTurn(),this._iNextPlayer=this._oTurnManager.getNextPlayer(),this._iCurPlayer===s_oNetworkManager.getPlayerOrderID()){this.onInputPlayer(this._iCurPlayer);this._oDeck.enableInputDraw()}this._aPlayersHand[this._iCurPlayer].setOnTurn();this.startTimer();this.onActionStop();this._isDisconnectedPlayer(this._iCurPlayer)&&this._evaluateBotMove()}};CGameMulti.prototype.onDraw=function(n){var f=this._oTurnManager.getTurn(),r=!0,u,t=0,i;if(s_bPlayWithBot||(t=s_oNetworkManager.getPlayerOrderID()),this._oUsedCards.getLength()!==0&&this._iCurPlayer===t){for(i=0;i<this._aPlayersHand[t].getLength();i++)u=this._aPlayersHand[t].getCardByIndex(i),this.cardMatchTheWaste(u,f)&&(r=!1);r===!0&&(n&&this._onHumanInteraction(),this._oDeck.disableInputDraw(),this._oDeck.hideHelp(),this.changeState(GAME_STATE_ACTION_IN_PROGRESS),this.drawCards(t,1,0,DRAW_TYPE_NORMAL))}};CGameMulti.prototype.onNextTurn=function(){var t,n;if(this._resetUnoStates(),t=this.checkWinner(),t!==null)this.gameOver(t),this._oSummaryPanel.startAnswerTimer(),this.onActionStop();else if(this.changeState(GAME_STATE_TURN_START),this.setOffTurn(),this._oDeck.enableInputDraw(),this._oTurnManager.nextTurn(),n=this._oTurnManager.getTurn(),this._iCurPlayer=n,this._iNextPlayer=this._oTurnManager.getNextPlayer(),this._aPlayersHand[n].setOnTurn(),n===s_oNetworkManager.getPlayerOrderID()){this.onInputPlayer(n);if(this.playerCanPlay(n))this.startTimer();else this.onDraw(!1);this.onActionStop()}else this._isDisconnectedPlayer(n)?this._evaluateBotMove():this.onActionStop()};CGameMulti.prototype.playCard=function(n,t){var i=this._oTurnManager.getTurn(),u=!1,r=s_oNetworkManager.getPlayerOrderID(),f,e;i===r&&(u=this.cardMatchTheWaste(n,i));u&&(t&&this._onHumanInteraction(),this._oCardsContainer.addChildAt(this._oHandsContainer,this._oCardsContainer.numChildren),this._aPlayersHand[i].setOnTop(),this._oDeck.disableInputDraw(),this.offInputPlayer(r),f=n.getUniqueID(),e={action:ACTION_USE_CARD,playerindex:r,cardindex:f},s_oNetworkManager.sendMsg(MSG_MOVE,JSON.stringify(e)))};CGameMulti.prototype.playedCard=function(n){var t=this._oTurnManager.getTurn(),i=this._aPlayersHand[t].searchIndexCard(n);this._oUsedCards.pushCard(new CCard(0,0,this._oUsedCards.getContainer(),n.getFotogram(),n.getRank(),n.getSuit(),n.getUniqueID()));this._oUsedCards.disableInputUsedCards();this._oUsedCards.getLastCard().instantShow();this._aPlayersHand[t].removeCardByIndex(i);n.unload();this._oUsedCards.getLastCard().getSuit()!==4&&(this._iCurrentColor=this._oUsedCards.getLastCard().getSuit(),this._oInterface.refreshColor(this._iCurrentColor));this._aPlayersHand[t].organizeHand();this.onActionStop();t===s_oNetworkManager.getPlayerOrderID()?(this._aDisconnectedPlayer.length>0&&(this._iPlayerReclamedUNO=this._aDisconnectedPlayer[0]),this.checkUno(n.getEffect())):this._isDisconnectedPlayer(t)&&(this.checkUno(n.getEffect()),this._onUnoClick())};CGameMulti.prototype._onUnoClick=function(){var n;this._bUNO===!0?(this._bUNO=!1,n={action:ACTION_ON_UNO_CLICK,playerindex:this._iCurPlayer},this._isDisconnectedPlayer(this._iCurPlayer)?this._onActionUnoClick(n):s_oNetworkManager.sendMsg(MSG_MOVE,JSON.stringify(n))):this.checkUNOPlayer()===null||this._bReclamedUNO||(this._bReclamedUNO=!0,n={action:ACTION_SOMEONE_DECLARE_UNO,playerindex:s_oNetworkManager.getPlayerOrderID()},s_oNetworkManager.sendMsg(MSG_MOVE,JSON.stringify(n)))};CGameMulti.prototype.applyEffectOnCard=function(n){(this._iCurPlayer===s_oNetworkManager.getPlayerOrderID()||this._isDisconnectedPlayer(this._iCurPlayer))&&this._checkEffect(n)};CGameMulti.prototype._applySelectColor=function(){if(this.changeState(GAME_STATE_CHOOSE_COLOR),this._iCurPlayer===s_oNetworkManager.getPlayerOrderID())this.startTimer(),this._oSelectColorPanel=new CSelectColorPanel(EFFECT_SELECT_COLOR,this._oContainerSelectColor),this._oSelectColorPanel.addEventListener(ON_HUMAN_INTERACTION,this._onHumanInteraction,this),this._oSelectColorPanel.addEventListener(ON_COLOR_SELECTED,function(n){var t={action:ACTION_SELECT_COLOR,playerindex:s_oNetworkManager.getPlayerOrderID(),colorindex:n};s_oNetworkManager.sendMsg(MSG_MOVE,JSON.stringify(t))},this);else if(this._isDisconnectedPlayer(this._iCurPlayer)){var n=this._oAIManager.onSelectColorCpu(this._iCurPlayer),t={action:ACTION_SELECT_COLOR,playerindex:s_oNetworkManager.getPlayerOrderID(),colorindex:n};this._onActionSelectColor(t)}};CGameMulti.prototype._applyDraw3Effect=function(){if(this.changeState(GAME_STATE_CHOOSE_COLOR),this._iCurPlayer===s_oNetworkManager.getPlayerOrderID())this.startTimer(),this._oSelectColorPanel=new CSelectColorPanel(EFFECT_DRAW_THREE,this._oContainerSelectColor),this._oSelectColorPanel.addEventListener(ON_HUMAN_INTERACTION,this._onHumanInteraction,this),this._oSelectColorPanel.addEventListener(ON_COLOR_SELECTED,function(n){var t={action:ACTION_DRAW_FOUR,playerindex:this._iNextPlayer,colorindex:n};s_oNetworkManager.sendMsg(MSG_MOVE,JSON.stringify(t))},this);else if(this._isDisconnectedPlayer(this._iCurPlayer)){var n=this._oAIManager.onSelectColorCpu(this._iCurPlayer),t={action:ACTION_DRAW_FOUR,playerindex:this._iNextPlayer,colorindex:n};this._onActionDraw3(t)}};CGameMulti.prototype._applyStopTurn=function(){var n={action:ACTION_BLOCK_TURN};this._iCurPlayer===s_oNetworkManager.getPlayerOrderID()?s_oNetworkManager.sendMsg(MSG_MOVE,JSON.stringify(n)):this._isDisconnectedPlayer(this._iCurPlayer)&&this._onActionBlockTurn(n)};CGameMulti.prototype._applyInvertTurn=function(){var n={action:ACTION_INVERT_TURN};this._iCurPlayer===s_oNetworkManager.getPlayerOrderID()?s_oNetworkManager.sendMsg(MSG_MOVE,JSON.stringify(n)):this._isDisconnectedPlayer(this._iCurPlayer)&&this._onActionInvertTurn(n)};CGameMulti.prototype._applyDrawTwoColored=function(){var n={action:ACTION_DRAW_TWO_COLORED,playerindex:this._iNextPlayer};this._iCurPlayer===s_oNetworkManager.getPlayerOrderID()?s_oNetworkManager.sendMsg(MSG_MOVE,JSON.stringify(n)):this._isDisconnectedPlayer(this._iCurPlayer)&&this._onActionDrawTwoColored(n)};CGameMulti.prototype._applyNormalCardEffect=function(){this._notifyChangeTurn()};CGameMulti.prototype._notifyChangeTurn=function(){var n={action:ACTION_NEXT_TURN,playerindex:s_oNetworkManager.getPlayerOrderID()};this._iCurPlayer===s_oNetworkManager.getPlayerOrderID()?s_oNetworkManager.sendMsg(MSG_MOVE,JSON.stringify(n)):this._isDisconnectedPlayer(this._iCurPlayer)&&this.onNextTurn()};CGameMulti.prototype.shuffleCards=function(n,t,i,r){var e,u,f;for(this.changeState(GAME_STATE_ACTION_IN_PROGRESS),e=this._oUsedCards.removeAllCardUnderTheDeck(),u=[],f=0;f<e.length;f++)u.push(e[f].getFotogram());this._oAnimation.shuffleAnimation().then(()=>{var f;this.onActionStop();this._iCurPlayer===s_oNetworkManager.getPlayerOrderID()?(shuffle(u),f={action:ACTION_ON_SHUFFLECARDS,playerindex:n,numberofcards:t,delay:i,drawtype:r,cards:u},s_oNetworkManager.sendMsg(MSG_MOVE,JSON.stringify(f))):this._isDisconnectedPlayer(this._iCurPlayer)&&(shuffleWithSeed(u,0),f={action:ACTION_ON_SHUFFLECARDS,playerindex:n,numberofcards:t,delay:i,drawtype:r,cards:u},this._onActionShuffleCard(f))})};CGameMulti.prototype.drawCards=function(n,t,i,r){var u={action:ACTION_ON_DRAWCARDS,playerindex:n,numberofcards:t,delay:i,drawtype:r};s_oNetworkManager.sendMsg(MSG_MOVE,JSON.stringify(u))};CGameMulti.prototype._onAllCardsDrawCompleted=function(n,t){this._checkEffectAfterDrawCompleted(n,t);this.onActionStop()};CGameMulti.prototype._checkIfCanStillPlayTheTurn=function(n){if(this.playerCanPlay(n)){this.startTimer();this.changeState(GAME_STATE_DRAW);this.onInputPlayer(n);this._isDisconnectedPlayer(this._iCurPlayer)&&this._evaluateBotMove()}else this.stopTimer(),this._aPlayersHand[n].centerContainer(),this._notifyChangeTurn()};CGameMulti.prototype.onActionReceived=function(n){this._aMessageQueue.push(n);this._evaluateMessageQueue()};CGameMulti.prototype.onActionStop=function(){this._bActionInProgress=!1;this._evaluateMessageQueue()};CGameMulti.prototype._evaluateMessageQueue=function(){if(this._aMessageQueue.length!==0&&!this._bActionInProgress){this._bActionInProgress=!0;var n=this._aMessageQueue.shift();switch(n.action){case ACTION_NEXT_TURN:this.onNextTurn();break;case ACTION_USE_CARD:this._onActionPlayCard(n);break;case ACTION_ON_SHUFFLECARDS:this._onActionShuffleCard(n);break;case ACTION_ON_DRAWCARDS:this._onActionDrawCards(n);break;case ACTION_ON_UNO_CLICK:this._onActionUnoClick(n);break;case ACTION_SOMEONE_DECLARE_UNO:this._onActionSomeoneDeclareUno(n);break;case ACTION_SELECT_COLOR:this._onActionSelectColor(n);break;case ACTION_DRAW_FOUR:this._onActionDraw3(n);break;case ACTION_BLOCK_TURN:this._onActionBlockTurn(n);break;case ACTION_INVERT_TURN:this._onActionInvertTurn(n);break;case ACTION_DRAW_TWO_COLORED:this._onActionDrawTwoColored(n);break;case ACTION_PLAYER_QUIT:this._onActionPlayerQuit(n);break;case MSG_NOTIFY:this._onNotifyReceived(n)}}};CGameMulti.prototype._onActionPlayCard=function(n){this.changeState(GAME_STATE_ACTION_IN_PROGRESS);var i=n.playerindex,r=this._aPlayersHand[i].getContainerPos(),u=this._oUsedCards.getGlobalPosition(),t=this._aPlayersHand[i].getCardByUniqueID(n.cardindex),f=t.getFotogram();(f===FOTOGRAM_DRAW_FOUR||f===FOTOGRAM_COLOR)&&this.changeState(GAME_STATE_CHOOSE_COLOR);s_aSounds.card.playing()||playSfxSound("card",1,!1);this._iPlayerReclamedUNO=null;this._bReclamedUNO=!1;t.moveCard(u.x-r.x,u.y-r.y,0,300);this._iCurPlayer!==s_oNetworkManager.getPlayerOrderID()&&t.showCard();this._oUsedCards.setChildDepth(2)};CGameMulti.prototype._onActionShuffleCard=function(n){var t=n.playerindex,i=n.numberofcards,r=n.delay,u=n.drawtype,f=n.cards;this._oDeck.clearCards();this._oDeck.initializeFromData(f);this.checkForMoreDraws(t,i,r,u)};CGameMulti.prototype._onActionDrawCards=function(n){var t=n.drawtype,r=n.numberofcards,u=n.delay,i=n.playerindex,f=t===DRAW_TYPE_PENALITY?!0:!1;this._checkUnoNotify(f,s_oNetworkManager.getPlayerOrderID(),i);this._checkNumberCardsToDraw(i,r,u,t)};CGameMulti.prototype._onActionUnoClick=function(n){var t=n.playerindex;this._aPlayersHand[t].checkUno();this.onActionStop()};CGameMulti.prototype._onActionSomeoneDeclareUno=function(n){this._iPlayerReclamedUNO===null&&(this._iPlayerReclamedUNO=n.playerindex);this.onActionStop()};CGameMulti.prototype._onActionSelectColor=function(n){this._iCurrentColor=n.colorindex;this._oAnimation.changeColor(this._iCurrentColor).then(()=>{this._oInterface.refreshColor(this._iCurrentColor),this._notifyChangeTurn(),this.onActionStop()})};CGameMulti.prototype._onActionDraw3=function(n){this._iCurrentColor=n.colorindex;this._oInterface.refreshColor(this._iCurrentColor);var t=DRAW_TYPE_DRAW3,i=NUM_WILD_CARDS,r=n.playerindex;n={playerindex:r,numberofcards:i,delay:0,drawtype:t};this._onActionDrawCards(n)};CGameMulti.prototype._onActionBlockTurn=function(){this._oAnimation.stopTurn().then(()=>{this._oTurnManager.nextTurn(),this._notifyChangeTurn(),this.onActionStop()})};CGameMulti.prototype._onActionInvertTurn=function(){this._checkTurnInversion();this._oAnimation.changeClockWise(s_oGame._oTurnManager.getClockWise()).then(()=>{this._notifyChangeTurn(),this.onActionStop()})};CGameMulti.prototype._onActionDrawTwoColored=function(n){var t=DRAW_TYPE_DRAW2_COLORED,i=n.playerindex;n={playerindex:i,numberofcards:2,delay:0,drawtype:t};this._onActionDrawCards(n)};CGameMulti.prototype.onExit=function(){this._oSuper.onExit.call(this);s_oNetworkManager.disconnect()};CGameMulti.prototype._onConfirmNextMatch=function(){document.dispatchEvent(new CustomEvent("show_interlevel_ad"));this._oSummaryPanel.waitingMode();s_oNetworkManager.sendMsg(MSG_ACCEPT_REMATCH,"")};CGameMulti.prototype.onOpponentAcceptNextMatch=function(){this._bEndGame&&(this._bEndGame=!1,this.setNewGame());this.restart()};CGameMulti.prototype.onOpponentRefuseNextMatch=function(n){this._aDisconnectedPlayer.push(n)};CGameMulti.prototype.opponentLeftTheGame=function(n){if(this._aDisconnectedPlayer.push(n),this._iGameState!==GAME_STATE_DEALING&&this._iGameState!==GAME_STATE_ACTION_IN_PROGRESS){var t={action:ACTION_PLAYER_QUIT,playerindex:n};this.onActionReceived(t)}};CGameMulti.prototype._onActionPlayerQuit=function(n){var t=n.playerindex;t===this._iCurPlayer?this._evaluateBotMove():this.onActionStop()};CGameMulti.prototype._isDisconnectedPlayer=function(n){var t=this._aDisconnectedPlayer.indexOf(n);return t===-1?!1:!0};CGameMulti.prototype._onConnectionCrashed=function(){this._oSummaryPanel.hide();this._oMsgBox.show(TEXT_SOMETHING_WENT_WRONG)};CGameMulti.prototype._evaluateBotMove=function(){switch(this._iGameState){case GAME_STATE_TURN_START:this.getAIAction();break;case GAME_STATE_DRAW:this.getAIAction();break;case GAME_STATE_CHOOSE_COLOR:var n=this._oUsedCards.getLastCard().getFotogram();n===FOTOGRAM_COLOR?this._applySelectColor():n===FOTOGRAM_DRAW_FOUR&&this._applyDraw3Effect();break;case GAME_STATE_ACTION_IN_PROGRESS:this.onActionStop()}};CGameMulti.prototype.getAIAction=function(){var n=this._oAIManager.getMove(this._iCurPlayer),t;switch(n.move){case AI_MOVE_DRAWCARD:t={action:ACTION_ON_DRAWCARDS,playerindex:this._iCurPlayer,numberofcards:1,delay:1e3,drawtype:DRAW_TYPE_NORMAL};this._onActionDrawCards(t);this.onActionStop();break;case AI_MOVE_PLAYCARD:var i=this,r=this._iCurPlayer;this._iPlayCardTimeOut=setTimeout(function(){var t=n.card.getUniqueID(),u={action:ACTION_USE_CARD,playerindex:r,cardindex:t};i._onActionPlayCard(u)},1500)}};CGameMulti.prototype.startTimer=function(){this._iCurPlayer===s_oNetworkManager.getPlayerOrderID()&&this._oMoveTimeController.startTimer()};CGameMulti.prototype.stopTimer=function(){this._oMoveTimeController.stopTimer()};CGameMulti.prototype._onTimerEnd=function(){var n,t,i;switch(this._iGameState){case GAME_STATE_TURN_START:if(this.changeState(GAME_STATE_ACTION_IN_PROGRESS),this._oDeck.disableInputDraw(),this._oDeck.hideHelp(),n=this.playerCanPlay(this._iCurPlayer),n)t=this.getRandomPlayableCard(this._iCurPlayer),this.playCard(t,!1);else this.onDraw(!1);break;case GAME_STATE_DRAW:n=this.playerCanPlay(this._iCurPlayer);n?(t=this.getRandomPlayableCard(this._iCurPlayer),this.playCard(t,!1)):this._notifyChangeTurn();break;case GAME_STATE_CHOOSE_COLOR:i=this._oAIManager.onSelectColorCpu(this._iCurPlayer);this._oSelectColorPanel.setColor(i)}};CGameMulti.prototype._onLastTimerEnd=function(){s_oNetworkManager.disconnect();this._oSummaryPanel.hide();this._oMsgBox.show(TEXT_PLAYER_KICKED)};CGameMulti.prototype._onNotifyReceived=function(){};CGameMulti.prototype._onHumanInteraction=function(){this._oMoveTimeController.restartEndGameCounter()};s_oInterface=null;const PREFIX_GAME="4colors_";s_bStorageAvailable=!0;s_bEnableAnim=!0;class CGUI extends CGUIController{static ON_HELP="on_help";static ON_ANIMATION="on_animation";constructor(){super(!0,!1,!0,!1);this._szIdConfirmMoreGames="confirm-moregames";this._szIdHelp="but-help";this._szIdAnimation="but-animation";this._makeCustomGameOptions()}__triggerCustomButtons(n){super.__triggerCustomButtons(n);switch(n.id){case this._szIdHelp:s_oGame&&s_oGame.showHelp();break;case this._szIdAnimation:this._onToggleAnim()}}__triggerConfirmModals(n){super.__triggerConfirmModals(n);switch(n.id){}}_makeCustomGameOptions(){var n="",t=TEXT_HELP_GAME_RULE,i="fa-solid fa-question";n+=this.makeGameOptionBut(this._szIdHelp,t,i);this.addToGameOptions(n);var n="",t=TEXT_ANIMATION_OFF,i="fa-solid fa-film";n+=this.makeGameOptionToggle(this._szIdAnimation,t,i,s_bEnableAnim);this.addToGameOptions(n);this.setToggleAnim(s_bEnableAnim)}refreshMenuLanguage(){super.refreshMenuLanguage();document.querySelector("#but-help span").innerHTML=TEXT_HELP_GAME_RULE;let n=document.getElementById(this._szIdAnimation);var t=TEXT_ANIMATION_OFF;n&&n.checked&&(t=TEXT_ANIMATION_ON);document.querySelector("#but-animation span").innerHTML=t}makeGameOptionBut(n,t,i){var r="";return r+='<button id="'+n+'" type="button" class="btn btn-link text-start '+this._szActionCustomButtons+'">',r+='<i class="'+i+' icon-start" id="sidebar-menu-section-1-0"><\/i>',r+="<span>"+t+"<\/span>",r+"<\/button>"}makeGameOptionToggle(n,t,i,r){var u="";return u+='<button id="'+n+'" type="button" class="cursor-pointer form-check form-switch form-check-reverse text-start btn btn-link text-start action-custom-buttons '+this._szActionCustomButtons+'">',u+='<input class="form-check-input " type="checkbox" style="margin-right:-38px; pointer-events:none;" role="switch" id="'+n+'" '+(r?"checked":"")+">",u+='<i class="'+i+' icon-start" id="sidebar-menu-section-1-0"><\/i>',u+="<span>"+t+"<\/span>",u+"<\/button>"}showHelpButton(){document.getElementById(this._szIdHelp).classList.remove("d-none")}hideHelpButton(){document.getElementById(this._szIdHelp).classList.add("d-none")}enableHelpButton(n){n?document.getElementById(this._szIdHelp).classList.remove("disabled"):document.getElementById(this._szIdHelp).classList.add("disabled")}setToggleAnim=function(n){var i=n?TEXT_ANIMATION_ON:TEXT_ANIMATION_OFF;document.querySelector("#but-animation span").innerHTML=i;var r=document.getElementById("but-animation");var t=r.querySelector('input[type="checkbox"]');if(t){t.checked=n}};_onToggleAnim=function(){s_bEnableAnim=!s_bEnableAnim;this.setToggleAnim(s_bEnableAnim);s_oLocalSavings.saveSkipAnim()};}